!function(){function t(t,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,e(i.key),i)}}function n(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function e(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:String(n)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{DMmz:function(t,e,i){"use strict";i.r(e),i.d(e,"GameModule",function(){return R});var r,a=i("ofXK"),c=i("tyNb"),s=i("6NWb"),d=i("vvyD"),u=i("sYmb"),l=i("fXoL"),g=((r=n(function t(){o(this,t)})).\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.Mb({type:r}),r.\u0275inj=l.Lb({imports:[[a.c,d.a,u.b]]}),r),f=i("nAIU"),b={btn:{sound:{turnOnTooltip:{pt:"Desligar sons",en:"Turn off sounds"},turnOffTooltip:{pt:"Ligar sons",en:"Turn on sounds"}},newGame:{pt:"Novo jogo",en:"New game"}},startNewGameConfirmation:{pt:"Tem certeza que deseja iniciar novo jogo?",en:"Are you sure you want to start a new game?"},finishGame:{congratulations:{pt:"Parab\xe9ns!",en:"Congratulations!"},playAgain:{pt:"Deseja jogar novamente?",en:"Do you want to play again?"}}},m=i("VdwR"),p=i("CzQJ"),h=i("AgV0"),v=i("bTqV"),y=i("Qu3c"),w=i("NFeN"),O=i("YzOW");function _(t,n){if(1&t&&l.Pb(0,"img",7),2&t){var e=l.fc();l.lc("src",e.card.img.base64,l.xc)}}function C(t,n){if(1&t&&l.Pb(0,"fa-icon",8),2&t){var e=l.fc();l.lc("icon",e.card.icon)}}function S(t,n){if(1&t&&(l.Ub(0,"div",9),l.Fc(1),l.Tb()),2&t){var e=l.fc();l.Db(1),l.Gc(e.card.id)}}var T,k=function(t){return{rotated:t}},P=((T=function(){function t(n){o(this,t),this.gameService=n,this.onSelect=new l.o}return n(t,[{key:"isRotated",get:function(){return this._isRotated}},{key:"ngOnInit",value:function(){var t=this;this.showFrontAsIcon=this.gameService.config.cardIdType===O.a.ICONS,this.gameService.getCoveredCards().subscribe(function(n){return n.map(function(n){return t._isRotated=n.id!=t.card.id&&t._isRotated})})}},{key:"onClick",value:function(){this._isRotated=!0,this.onSelect.emit(this.card)}}]),t}()).\u0275fac=function(t){return new(t||T)(l.Ob(m.a))},T.\u0275cmp=l.Ib({type:T,selectors:[["app-memory-card"]],inputs:{card:"card"},outputs:{onSelect:"onSelect"},decls:8,vars:6,consts:[[1,"card",3,"ngClass","click"],[1,"card-inner"],[1,"front"],["alt","card",3,"src",4,"ngIf"],[1,"back","bg-primary"],["size","3x",3,"icon",4,"ngIf","ngIfElse"],["showCardId",""],["alt","card",3,"src"],["size","3x",3,"icon"],[1,"card-id-number","quicksand"]],template:function(t,n){if(1&t&&(l.Ub(0,"div",0),l.bc("click",function(){return n.onClick()}),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Dc(3,_,1,1,"img",3),l.Tb(),l.Ub(4,"div",4),l.Dc(5,C,1,1,"fa-icon",5),l.Dc(6,S,2,1,"ng-template",null,6,l.Ec),l.Tb(),l.Tb(),l.Tb()),2&t){var e=l.tc(7);l.lc("ngClass",l.qc(4,k,n.isRotated)),l.Db(3),l.lc("ngIf",n.card.img),l.Db(2),l.lc("ngIf",n.showFrontAsIcon)("ngIfElse",e)}},directives:[a.i,a.k,s.a],styles:[".card[_ngcontent-%COMP%]{height:100px;width:100px;display:flex;align-items:center;justify-content:center;position:relative;margin:10px;cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto;border-radius:4px}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{border-radius:4px;position:absolute;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;backface-visibility:hidden}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff}.card-inner[_ngcontent-%COMP%]{height:100%;width:100%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);transition:transform .6s;transform-style:preserve-3d}.rotated[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card-id-number[_ngcontent-%COMP%]{font-size:50px;font-weight:700}"]}),T);function x(t,n){if(1&t){var e=l.Vb();l.Ub(0,"app-memory-card",8),l.bc("onSelect",function(t){return l.vc(e),l.fc(2).onChooseCard(t)}),l.Tb()}2&t&&l.lc("card",n.$implicit)}function I(t,n){if(1&t&&(l.Ub(0,"div",6),l.Dc(1,x,1,1,"app-memory-card",7),l.Tb()),2&t){var e=n.$implicit;l.Db(1),l.lc("ngForOf",e)}}var N,M,A=((N=function(){function t(n,e,i,r){var a,c,s;o(this,t),this.router=n,this.gameService=e,this.dialogService=i,this.translationService=r,this.TRANSLATION=b,this.backgroundStyle="",this.cardRows=[],this.soundIcon={},this._cards=null===(s=null===(c=null===(a=this.router.getCurrentNavigation())||void 0===a?void 0:a.extras)||void 0===c?void 0:c.state)||void 0===s?void 0:s.cards}return n(t,[{key:"ngOnInit",value:function(){var t,n=this.gameService.config;n&&(null===(t=this._cards)||void 0===t?void 0:t.length)?(n.backgroundImgSrc&&(this.backgroundStyle="url(".concat(n.backgroundImgSrc,")")),this._setBoardDim(2*n.numPairs),this._setSoundIcon(),this._startGame()):this._goHome()}},{key:"_goHome",value:function(){this.gameService.goHome()}},{key:"_setBoardDim",value:function(t){var n=t%5==0?5:4;this._boardDim=new D(t/n,n)}},{key:"_setSoundIcon",value:function(){this.soundIcon=this.gameService.playSound?{icon:"volume_up",tooltip:this.TRANSLATION.btn.sound.turnOnTooltip}:{icon:"volume_off",tooltip:this.TRANSLATION.btn.sound.turnOffTooltip}}},{key:"_startGame",value:function(){this.cardRows=[];for(var t=this._boardDim.numCols,n=0;n<this._boardDim.numRows;n++){var e=n*t,o=this._cards.slice(e,e+t);this.gameService.setIdAsRowColumn(n,o),this.cardRows.push(o)}}},{key:"_startNewGame",value:function(){this._cards=this.gameService.restartGame(this._cards),this._startGame()}},{key:"swapPlaySound",value:function(){this.gameService.swapPlaySound(),this._setSoundIcon()}},{key:"newGame",value:function(){var t=this,n=function(){return t._startNewGame()};if(!this.gameService.isGameFinished)return this.dialogService.openLiveGameConfirmationDialog(n,this.translationService.getTranslationObj(this.TRANSLATION.startNewGameConfirmation));n()}},{key:"onChooseCard",value:function(t){var n=this;this.gameService.onChooseCard(t)&&setTimeout(function(){n._openNewGameDialog()},f.a.winNotificationTimeout)}},{key:"_openNewGameDialog",value:function(){var t=this;this.dialogService.openConfirmationDialog({header:{icon:"mood",iconColor:"limegreen",title:this.translationService.getTranslationObj(this.TRANSLATION.finishGame.congratulations)},bodyText:this.translationService.getTranslationObj(this.TRANSLATION.finishGame.playAgain),okCallback:function(){return t._startNewGame()}})}}]),t}()).\u0275fac=function(t){return new(t||N)(l.Ob(c.b),l.Ob(m.a),l.Ob(p.a),l.Ob(h.a))},N.\u0275cmp=l.Ib({type:N,selectors:[["app-game"]],decls:13,vars:12,consts:[[1,"board-background"],[1,"new-game-btn"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-stroked-button","","color","primary",3,"click"],[1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"card","onSelect",4,"ngFor","ngForOf"],[3,"card","onSelect"]],template:function(t,n){1&t&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"button",2),l.bc("click",function(){return n.swapPlaySound()}),l.gc(3,"translate"),l.Ub(4,"mat-icon"),l.Fc(5),l.Tb(),l.Tb(),l.Ub(6,"button",3),l.bc("click",function(){return n.newGame()}),l.Ub(7,"mat-icon"),l.Fc(8,"refresh"),l.Tb(),l.Fc(9),l.gc(10,"translate"),l.Tb(),l.Tb(),l.Ub(11,"div",4),l.Dc(12,I,2,1,"div",5),l.Tb(),l.Tb()),2&t&&(l.Ac("background-image",n.backgroundStyle),l.Db(2),l.mc("matTooltip",l.ic(3,6,"TRANSLATION",n.soundIcon.tooltip)),l.Db(3),l.Gc(n.soundIcon.icon),l.Db(4),l.Hc(" ",l.ic(10,9,"TRANSLATION",n.TRANSLATION.btn.newGame)," "),l.Db(3),l.lc("ngForOf",n.cardRows))},directives:[v.a,y.a,w.a,a.j,P],pipes:[u.c],styles:['.control-panel[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;min-height:50px}.control-panel.card-count[_ngcontent-%COMP%]{margin-right:10px}.control-panel.btn-new-game[_ngcontent-%COMP%]{margin-left:10px}.board-background[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;background-position:50%;background-repeat:no-repeat;background-size:cover}.board-background[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:hsla(0,0%,100%,.4)}.new-game-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 1rem}.board[_ngcontent-%COMP%]{flex-direction:column;align-items:center;opacity:1!important}.board[_ngcontent-%COMP%], .board-row[_ngcontent-%COMP%]{display:flex;justify-content:center}.board-row[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}.board-grid-space[_ngcontent-%COMP%]{width:30px}.board-grid-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:Quicksand;font-size:48px}.board-grid-col[_ngcontent-%COMP%]{width:100px;margin:0 10px 16px}.board-grid-row[_ngcontent-%COMP%]{height:100px;margin:10px 0}']}),N),D=n(function t(n,e){o(this,t),this.numRows=n,this.numCols=e}),G=[{path:"",component:A}],R=((M=n(function t(){o(this,t)})).\u0275fac=function(t){return new(t||M)},M.\u0275mod=l.Mb({type:M}),M.\u0275inj=l.Lb({imports:[[a.c,c.c.forChild(G),s.c,d.a,u.b,g]]}),M)}}])}();