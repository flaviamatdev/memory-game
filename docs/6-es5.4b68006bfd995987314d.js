!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t,n){return t=a(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,n||[],a(e).constructor):t.apply(e,n))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{S4pq:function(t,i,a){"use strict";a.r(i),a.d(i,"GameBuilderModule",function(){return gt});var o,l,s=a("ofXK"),m=a("3Pt+"),f=a("tyNb"),p=a("sYmb"),b=a("vvyD"),d=a("fXoL"),g=((o=c(function e(){u(this,e)})).\u0275fac=function(e){return new(e||o)},o.\u0275mod=d.Mb({type:o}),o.\u0275inj=d.Lb({imports:[[s.c,m.q,m.i,b.a,p.b]]}),o),h=function(e){return e[e.UPLOAD=1]="UPLOAD",e[e.URL=2]="URL",e}({}),v=function(){function e(){u(this,e)}return c(e,null,[{key:"setFormControlAsRequiredOrNot",value:function(e,t){t?this.setFormControlAsRequired(e):this.setFormControlAsNotRequired(e)}},{key:"setFormControlAsRequired",value:function(e){e.reset(),e.setValidators(m.r.required),e.updateValueAndValidity()}},{key:"setFormControlAsNotRequired",value:function(e){e.reset(),e.clearValidators(),e.updateValueAndValidity()}}]),e}(),T=a("nAIU"),I=T.a.upload.fileNameSeparator,C={pageTitle:{gameBuilder:{pt:"Monte o seu jogo",en:"Create your game"},demoBuilder:{pt:"Jogo Demonstra\xe7\xe3o",en:"Demo Game"}},instruction:{pt:"Preencha o formul\xe1rio abaixo com as informa\xe7\xf5es para o jogo:",en:"Fill out the form below with the information for the game:"},sectionTitle:{mainData:{pt:"Dados Principais",en:"Main Data"},backgroundImg:{pt:"Imagem de Fundo",en:"Background image"},cardImages:{pt:"Imagens das Cartas",en:"Card Images"}},gameTitle:{demo:{pt:"Jogo da Mem\xf3ria (Demo)",en:"Demo Memory Game"}},input:{gameTitle:{pt:"T\xedtulo do jogo",en:"Game title"},singleImgPerPair:{pt:"Cada par possui imagens iguais?",en:"Does each pair have the same images?"},numPairs:{pt:"N\xba de pares",en:"Number of pairs"},cardIdType:{pt:"Modo de identifica\xe7\xe3o das cartas",en:"Card identification mode"},backgroundImg:{add:{pt:"Inserir imagem de fundo?",en:"Insert background image?"},url:{pt:"Link da imagem",en:"Image link"},upload:{pt:"Enviar arquivo",en:"Upload image file"}},cardImages:{pair:{pt:"Par n\xba ",en:"Pair #"},url:{pairImageLink:{pt:"Link da Imagem do Par ",en:"Image Link of Pair #"},diffImages:{pairImageLink1:{pt:"Link da Imagem 1 do Par ",en:"Image Link #1 of Pair #"},pairImageLink2:{pt:"Link da Imagem 2 do Par ",en:"Image Link #2 of Pair #"}}},upload:{pickDirPath:{pt:"Selecione a pasta que cont\xe9m as imagens das cartas",en:"Select the folder containing the card images"},diffImagesPerPair:{warning:{pt:"Envio de arquivos diferentes por par: os nomes dos arquivos referentes ao mesmo par devem ter o mesmo prefixo seguido de ".concat(I," . Veja um exemplo "),en:"Sending different files per pair: file names referring to the same pair must have the same prefix followed by ".concat(I,". See an example ")},warningLink:{pt:"aqui",en:"here"}}}}},submitBtn:{createGame:{pt:"Criar jogo",en:"Create game"},playDemo:{pt:"Jogar",en:"Play"}},diffImagesPerPairDialog:{title:{pt:"Envio de arquivos diferentes por par",en:"Sending different files per pair"},instruction:{pt:"Exemplo de nome para arquivos de images para cada par",en:"Example name for image files for each pair"},pairName:{pt:"nome do par",en:"pair name"},imageId:{pt:"identificacao da imagem",en:"image identification"}}},y=((l=function(){function e(){u(this,e),this.flexDirectionRow=!1,this.disabled=!1,this.onChange=new d.o}return c(e,[{key:"_setOriginalRequired",value:function(){this._originalRequired=this.isRequired}},{key:"checkForm",value:function(){this.form||(this.controlName="model",this.form=new m.g({model:new m.e}))}},{key:"formControl",get:function(){return this.form.controls[this.controlName]}},{key:"isRequired",get:function(){var e;return(null===(e=this.formControl)||void 0===e?void 0:e.hasError("required"))||!1}},{key:"isInvalid",get:function(){return this.hasError("invalid")}},{key:"hasError",value:function(e){var t=this.formControl;return!this.isRequired&&(t.invalid||t.hasError(e))}},{key:"inputClass",get:function(){return{"d-flex-row":this.flexDirectionRow,"d-flex-col":!this.flexDirectionRow}}},{key:"getSelectValue",get:function(){try{return this.formControl.value}catch(e){return null}}},{key:"_setAsInvalid",value:function(){this._setFormControlAsInvalid(this.formControl)}},{key:"_setFormControlAsInvalid",value:function(e){e.setErrors({invalid:!0}),e.markAsTouched()}},{key:"_setAsValidByOriginalRequired",value:function(){this._originalRequired?this._setAsRequired():this._setAsValid()}},{key:"_setAsValid",value:function(){this._setFormControlAsValid(this.formControl)}},{key:"_setFormControlAsValid",value:function(e){e.setErrors(null),e.markAsTouched()}},{key:"_setAsRequired",value:function(){this._setFormControlAsRequired(this.formControl)}},{key:"_setFormControlAsRequired",value:function(e){e.setErrors({required:!0}),e.markAsTouched()}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=d.Ib({type:l,selectors:[["app-abstract-input"]],inputs:{labelTranslate:"labelTranslate",label:"label",labelComment:"labelComment",form:"form",controlName:"controlName",flexDirectionRow:"flexDirectionRow",disabled:"disabled"},outputs:{onChange:"onChange"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),l),N=a("kmnG");function A(e,t){if(1&e&&(d.Ub(0,"span",4),d.Fc(1),d.Tb()),2&e){var n=d.fc(2);d.Db(1),d.Gc(n.comment)}}function O(e,t){if(1&e&&(d.Ub(0,"mat-label"),d.Fc(1),d.gc(2,"translate"),d.Dc(3,A,2,1,"span",2),d.Ub(4,"span",3),d.Fc(5),d.Tb(),d.Tb()),2&e){var n=d.fc();d.Db(1),d.Hc(" ",d.ic(2,3,"TRANSLATION",n.labelTranslate)," "),d.Db(2),d.lc("ngIf",n.comment),d.Db(2),d.Hc(" ",n.required?"*":"","")}}function D(e,t){if(1&e&&(d.Ub(0,"span",4),d.Fc(1),d.Tb()),2&e){var n=d.fc(2);d.Db(1),d.Gc(n.comment)}}function _(e,t){if(1&e&&(d.Fc(0),d.Dc(1,D,2,1,"span",2),d.Ub(2,"span",3),d.Fc(3),d.Tb()),2&e){var n=d.fc();d.Hc(" ",n.label," "),d.Db(1),d.lc("ngIf",n.comment),d.Db(2),d.Hc(" ",n.required?"*":"","")}}var P,U=((P=c(function e(){u(this,e),this.required=!0})).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=d.Ib({type:P,selectors:[["app-input-label"]],inputs:{labelTranslate:"labelTranslate",label:"label",required:"required",comment:"comment"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showRegularLabel",""],["class","input-label-comment",4,"ngIf"],[1,"input-label-required"],[1,"input-label-comment"]],template:function(e,t){if(1&e&&(d.Dc(0,O,6,6,"mat-label",0),d.Dc(1,_,4,3,"ng-template",null,1,d.Ec)),2&e){var n=d.tc(2);d.lc("ngIf",t.labelTranslate)("ngIfElse",n)}},directives:[s.k,N.f],pipes:[p.c],styles:["mat-label[_ngcontent-%COMP%]{display:block}.input-label-required[_ngcontent-%COMP%]{color:red}.input-label-comment[_ngcontent-%COMP%]{color:grey;font-size:smaller}"]}),P),S=a("d3UM"),k=a("FKr1"),F=a("NFeN"),w=["allOption"];function L(e,t){if(1&e&&(d.Ub(0,"mat-option",9,10),d.Fc(2),d.Tb()),2&e){var n=d.fc();d.lc("value",n.ALL_OPTION),d.Db(2),d.Hc(" ",n.allOptionLabel," ")}}function R(e,t){if(1&e&&(d.Ub(0,"mat-option",12),d.Fc(1),d.gc(2,"translate"),d.Tb()),2&e){var n=t.$implicit,i=d.fc(2);d.lc("value",i.getOptionValue(n))("disabled",i.multiple&&i.allOptionSelected),d.Db(1),d.Hc(" ",d.ic(2,3,"TRANSLATION",n[i.labelAttribute])," ")}}function M(e,t){if(1&e&&(d.Ub(0,"div"),d.Dc(1,R,3,6,"mat-option",11),d.Tb()),2&e){var n=d.fc();d.Db(1),d.lc("ngForOf",n.optionsTranslate)}}function x(e,t){if(1&e&&(d.Ub(0,"mat-option",12),d.Fc(1),d.Tb()),2&e){var n=t.$implicit,i=d.fc(2);d.lc("value",i.getOptionValue(n))("disabled",i.multiple&&i.allOptionSelected),d.Db(1),d.Hc(" ",n[i.labelAttribute]," ")}}function E(e,t){if(1&e&&d.Dc(0,x,2,3,"mat-option",11),2&e){var n=d.fc();d.lc("ngForOf",n.options)}}function q(e,t){1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",13),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e&&(d.Db(4),d.Gc(d.hc(5,1,"FORM_INPUT.REQUIRED")))}function V(e,t){if(1&e&&(d.Ub(0,"div",14),d.Ub(1,"mat-icon",13),d.Fc(2,"cancel"),d.Tb(),d.Fc(3),d.Tb()),2&e){var n=d.fc();d.Db(3),d.Hc(" Erro ao buscar op\xe7\xf5es para ",n.label,"\n")}}var j,G,B=((j=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).ALL_OPTION="all",e.options=[],e.optionsTranslate=[],e.valueAttribute="id",e.labelAttribute="label",e.multiple=!1,e.useFullOptionAsValue=!1,e.onFinishedLoading=new d.o,e.showLoadingOptionsError=!1,e._allSelected=!1,e}return r(t,e),c(t,[{key:"ngOnInit",value:function(){this.showLoadingOptionsError=!1,this.checkForm()}},{key:"ngOnChanges",value:function(e){e.options&&null==e.options.currentValue&&(this.showLoadingOptionsError=!0)}},{key:"getOptionValue",value:function(e){return this.useFullOptionAsValue?e:e[this.valueAttribute]}},{key:"onChangeSelection",value:function(e){this.allOptionLabel&&this.multiple&&this._onChangeSelectionMultiple(e),this.onChange.emit(e)}},{key:"_onChangeSelectionMultiple",value:function(e){var t=this;if(this._allSelected)return this.formControl.setValue([]),void(this._allSelected=!1);this._allSelected=e.includes(this.ALL_OPTION)||e.length==this.options.length,this._allSelected&&this.formControl.setValue(this.options.map(function(e){return e[t.valueAttribute]}))}},{key:"allOptionSelected",get:function(){var e;return(null===(e=this._allOption)||void 0===e?void 0:e.selected)||!1}}]),t}(y)).\u0275fac=function(e){return H(e||j)},j.\u0275cmp=d.Ib({type:j,selectors:[["app-select"]],viewQuery:function(e,t){var n;1&e&&d.Jc(w,1),2&e&&d.sc(n=d.cc())&&(t._allOption=n.first)},inputs:{options:"options",optionsTranslate:"optionsTranslate",valueAttribute:"valueAttribute",labelAttribute:"labelAttribute",multiple:"multiple",allOptionLabel:"allOptionLabel",useFullOptionAsValue:"useFullOptionAsValue"},outputs:{onFinishedLoading:"onFinishedLoading"},features:[d.Ab,d.Bb],decls:10,vars:13,consts:[[3,"id","ngClass"],[3,"label","labelTranslate","comment","required"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],[3,"formControl","multiple","selectionChange"],[3,"value",4,"ngIf"],[4,"ngIf","ngIfElse"],["showRegularOptions",""],[4,"ngIf"],["class","loading-options-error",4,"ngIf"],[3,"value"],["allOption",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["aria-label","false"],[1,"loading-options-error"]],template:function(e,t){if(1&e&&(d.Ub(0,"div",0),d.Pb(1,"app-input-label",1),d.Ub(2,"mat-form-field",2),d.Ub(3,"mat-select",3),d.bc("selectionChange",function(e){return t.onChangeSelection(e.value)}),d.Dc(4,L,3,2,"mat-option",4),d.Dc(5,M,2,1,"div",5),d.Dc(6,E,1,1,"ng-template",null,6,d.Ec),d.Tb(),d.Dc(8,q,6,3,"mat-error",7),d.Tb(),d.Tb(),d.Dc(9,V,4,1,"div",8)),2&e){var n=d.tc(7);d.nc("id","",t.controlName,"-div"),d.lc("ngClass",t.inputClass),d.Db(1),d.lc("label",t.label)("labelTranslate",t.labelTranslate)("comment",t.labelComment)("required",t.isRequired),d.Db(2),d.lc("formControl",t.formControl)("multiple",t.multiple),d.Db(1),d.lc("ngIf",t.allOptionLabel),d.Db(1),d.lc("ngIf",null==t.optionsTranslate?null:t.optionsTranslate.length)("ngIfElse",n),d.Db(3),d.lc("ngIf",t.isRequired),d.Db(1),d.lc("ngIf",t.showLoadingOptionsError)}},directives:[s.i,U,N.c,S.a,m.m,m.f,s.k,k.m,s.j,N.b,F.a],pipes:[p.c],styles:[".loading-options-error[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;-moz-column-gap:.5em;column-gap:.5em;color:red;font-size:smaller;font-style:italic;margin-bottom:4px}.loading-options-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}"]}),j),H=d.Wb(B),W={nonMultiple:{input:{pt:"Como deseja inserir a imagem?",en:"How do you want to insert the image?"},options:{url:{pt:"Link da imagem",en:"Image link"},upload:{pt:"Enviar arquivo",en:"Upload image file"}}},multiple:{input:{pt:"Como deseja inserir as imagens?",en:"How do you want to insert the images?"},options:{url:{pt:"Link das imagens",en:"Image links"},upload:{pt:"Enviar arquivos",en:"Upload image files"}}}},$=((G=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).TRANSLATION=W,e}return r(t,e),c(t,[{key:"ngOnInit",value:function(){var e=this.multiple?this.TRANSLATION.multiple:this.TRANSLATION.nonMultiple;this.labelTranslate=e.input,this.options=[{id:h.UPLOAD,label:e.options.upload},{id:h.URL,label:e.options.url}]}},{key:"onChangeSelection",value:function(e){this.onChange.emit(e)}}]),t}(B)).\u0275fac=function(e){return J(e||G)},G.\u0275cmp=d.Ib({type:G,selectors:[["app-select-image-src-type"]],features:[d.Ab],decls:1,vars:4,consts:[[3,"labelTranslate","form","controlName","optionsTranslate","onChange"]],template:function(e,t){1&e&&(d.Ub(0,"app-select",0),d.bc("onChange",function(e){return t.onChangeSelection(e)}),d.Tb()),2&e&&d.lc("labelTranslate",t.labelTranslate)("form",t.form)("controlName",t.controlName)("optionsTranslate",t.options)},directives:[B],styles:[""]}),G),J=d.Wb($),Q=a("bTqV"),z=a("Qu3c");function K(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Pb(1,"img",2),d.Ub(2,"div",3),d.Ub(3,"button",4),d.bc("click",function(){return d.vc(n),d.fc().deleteFile()}),d.gc(4,"translate"),d.Ub(5,"mat-icon"),d.Fc(6,"delete"),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var i=d.fc();d.Db(1),d.lc("src",i.src,d.xc),d.Db(2),d.mc("matTooltip",d.hc(4,2,"DELETE_IMAGE"))}}var X,Y=((X=function(){function e(){u(this,e),this.onDelete=new d.o}return c(e,[{key:"deleteFile",value:function(){this.src=null,this.onDelete.emit()}}]),e}()).\u0275fac=function(e){return new(e||X)},X.\u0275cmp=d.Ib({type:X,selectors:[["app-image-preview"]],inputs:{src:"src"},outputs:{onDelete:"onDelete"},decls:1,vars:1,consts:[["class","form-line",4,"ngIf"],[1,"form-line"],["alt","Image",3,"src"],[1,"delete-btn"],["mat-icon-button","","mat-stroked-button","","type","button","color","accent",3,"matTooltip","click"]],template:function(e,t){1&e&&d.Dc(0,K,7,4,"div",0),2&e&&d.lc("ngIf",t.src)},directives:[s.k,Q.a,z.a,F.a],pipes:[p.c],styles:[".form-line[_ngcontent-%COMP%]{align-items:center}img[_ngcontent-%COMP%]{width:50px;height:auto}.delete-btn[_ngcontent-%COMP%]{margin-top:.75rem}"]}),X),Z=a("qFsG");function ee(e,t){1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",5),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e&&(d.Db(4),d.Gc(d.hc(5,1,"FORM_INPUT.REQUIRED")))}function te(e,t){1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",5),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e&&(d.Db(4),d.Gc(d.hc(5,1,"FORM_INPUT.INVALID")))}var ne=function(e){return{minLength:e}};function ie(e,t){if(1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",5),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e){var n=d.fc();d.Db(4),d.Gc(d.ic(5,1,"FORM_INPUT.MIN_LENGTH",d.qc(4,ne,n.minLength)))}}var ae,re=((ae=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).placeholder="",e.maxLength=100,e.title="",e}return r(t,e),c(t,[{key:"clear",value:function(){this.formControl.setValue(null)}},{key:"sendChangeEvent",value:function(e){(null==e?void 0:e.target)&&this.onChange.emit(e.target.value)}},{key:"_eventTypeDeleteContent",value:function(e){return"deleteContentBackward"===(null==e?void 0:e.inputType)}}]),t}(y)).\u0275fac=function(e){return oe(e||ae)},ae.\u0275cmp=d.Ib({type:ae,selectors:[["app-input-text"]],inputs:{placeholder:"placeholder",minLength:"minLength",maxLength:"maxLength",title:"title"},features:[d.Ab],decls:7,vars:17,consts:[[3,"id","ngClass"],[3,"label","labelTranslate","comment","required"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],["matInput","","type","text",3,"formControl","id","name","minLength","maxLength","title","placeholder","readonly","change"],[4,"ngIf"],["aria-label","false"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Pb(1,"app-input-label",1),d.Ub(2,"mat-form-field",2),d.Ub(3,"input",3),d.bc("change",function(e){return t.sendChangeEvent(e)}),d.Tb(),d.Dc(4,ee,6,3,"mat-error",4),d.Dc(5,te,6,3,"mat-error",4),d.Dc(6,ie,6,6,"mat-error",4),d.Tb(),d.Tb()),2&e&&(d.nc("id","",t.controlName,"-div"),d.lc("ngClass",t.inputClass),d.Db(1),d.lc("label",t.label)("labelTranslate",t.labelTranslate)("comment",t.labelComment)("required",t.isRequired),d.Db(2),d.lc("formControl",t.formControl)("id",t.controlName)("name",t.controlName)("minLength",t.minLength)("maxLength",t.maxLength)("title",t.title)("placeholder",t.placeholder)("readonly",t.disabled),d.Db(1),d.lc("ngIf",t.isRequired),d.Db(1),d.lc("ngIf",t.isInvalid),d.Db(1),d.lc("ngIf",t.minLength&&t.hasError("minLength")))},directives:[s.i,U,N.c,Z.b,m.c,m.m,m.f,s.k,N.b,F.a],pipes:[p.c],styles:["",".d-flex-row[_ngcontent-%COMP%]{justify-content:space-between}"]}),ae),oe=d.Wb(re),le=c(function e(t,n){u(this,e),this.base64=t,this.filename=n}),ce={noFileChosen:{pt:"Nenhum arquivo escolhido",en:"No file chosen"},nonMultiple:{btn:{pt:"Escolher arquivo",en:"Choose file"},acceptErrorMsg:{pt:"O arquivo selecionado est\xe1 fora dos formatos de imagem aceitos: {{ accept }}. Tente novamente!",en:"The selected file is outside the supported image formats: {{ accept }}. Try again!"}},multiple:{btn:{pt:"Escolher arquivos",en:"Choose files"},acceptErrorMsg:{pt:"Pelo menos 1 arquivo da pasta selecionada est\xe1 fora dos formatos de imagem aceitos: {{ accept }}. Tente novamente!",en:"At least 1 file in the selected folder is outside the accepted image formats: {{ accept }}. Try again!"},chosenFilesMsg:{pt:"arquivo(s)",en:"file(s)"}}},se=a("2g2N"),ue=a("AgV0"),me=["uploadInput"];function fe(e,t){if(1&e&&d.Pb(0,"app-input-label",7),2&e){var n=d.fc();d.lc("label",n.label)("labelTranslate",n.labelTranslate)("comment",n.labelComment)("required",n.isRequired)}}function pe(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"input",8,9),d.bc("change",function(e){return d.vc(n),d.fc().onSelectFiles(e)}),d.Tb(),d.Tb()}if(2&e){var i=d.fc();d.Db(1),d.lc("accept",i.ACCEPT_IMG)}}function be(e,t){if(1&e){var n=d.Vb();d.Ub(0,"input",10,9),d.bc("change",function(e){return d.vc(n),d.fc().onSelectFiles(e)}),d.Tb()}if(2&e){var i=d.fc();d.lc("accept",i.ACCEPT_IMG)("multiple",i.multiple)}}function de(e,t){if(1&e&&(d.Ub(0,"div"),d.Fc(1),d.gc(2,"translate"),d.Tb()),2&e){var n=d.fc();d.Db(1),d.Hc(" ",d.ic(2,1,"TRANSLATION",n.TRANSLATION.noFileChosen)," ")}}function ge(e,t){if(1&e&&(d.Ub(0,"span"),d.Fc(1),d.Tb()),2&e){var n=d.fc(2);d.Db(1),d.Gc(n.singleChosedFileName)}}function he(e,t){if(1&e&&(d.Ub(0,"span"),d.Fc(1),d.gc(2,"translate"),d.Tb()),2&e){var n=d.fc(2);d.Db(1),d.Ic(" ",n.numFiles," ",d.ic(2,2,"TRANSLATION",n.TRANSLATION.multiple.chosenFilesMsg)," ")}}function ve(e,t){if(1&e&&(d.Ub(0,"div",11),d.Dc(1,ge,2,1,"span",12),d.Dc(2,he,3,5,"span",12),d.Tb()),2&e){var n=d.fc();d.lc("ngSwitch",n.multiple),d.Db(1),d.lc("ngSwitchCase",!1),d.Db(1),d.lc("ngSwitchCase",!0)}}var Te,Ie=((Te=function(e){function t(e,i){var a;return u(this,t),(a=n(this,t)).toastService=e,a.translationService=i,a.TRANSLATION=ce,a.ACCEPT_IMG=["image/png","image/jpeg"],a.multiple=!1,a.selectAllDir=!1,a.onClearInput=new d.o,a._numFiles=0,a}return r(t,e),c(t,[{key:"numFiles",get:function(){return this._numFiles}},{key:"ngOnInit",value:function(){this.multiple=this.multiple||this.selectAllDir,this.btnTranslation=this.multiple?this.TRANSLATION.multiple.btn:this.TRANSLATION.nonMultiple.btn}},{key:"reset",value:function(){this._images=[],this._clearInput(),this.formControl.reset(),this.singleChosedFileName=null}},{key:"_clearInput",value:function(){this._numFiles=0,this._inputElem.nativeElement.value=""}},{key:"openInputFile",value:function(){this._inputElem.nativeElement.click()}},{key:"onSelectFiles",value:function(e){var t,n=this;this._images=[];var i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.files;if(!(null==i?void 0:i.length)||null==i.item(0))return this._clearInput(),void this.onClearInput.emit();var a=this._extractFiles(i),r=a.files;if(!a.allOk)return this._clearInput(),void this._showOutAcceptErrorMsg();r.forEach(function(e){return n._readFile(e)})}},{key:"_extractFiles",value:function(e){var t;this._numFiles=null!==(t=e.length)&&void 0!==t?t:0;var n=[],i=!0,a=0;do{var r=e.item(a++);n.push(r),i=i&&this.ACCEPT_IMG.includes(r.type)}while(i&&a<this._numFiles);return{files:n,allOk:i}}},{key:"_showOutAcceptErrorMsg",value:function(){var e=this.ACCEPT_IMG.map(function(e){return e.replace("image/","")}).join(", "),t=this.translationService.getTranslationObj(this.multiple?this.TRANSLATION.multiple.acceptErrorMsg:this.TRANSLATION.nonMultiple.acceptErrorMsg,{accept:e});this.toastService.error(t,7e3)}},{key:"_readFile",value:function(e){var t=this,n=new FileReader;n.onload=function(n){t._images.push(new le(n.target.result,e.name)),t._images.length==t._numFiles&&t._finishReadFiles()},n.readAsDataURL(e)}},{key:"_finishReadFiles",value:function(){this.formControl.setValue(this._images),this.singleChosedFileName=this._images[0].filename}}]),t}(y)).\u0275fac=function(e){return new(e||Te)(d.Ob(se.a),d.Ob(ue.a))},Te.\u0275cmp=d.Ib({type:Te,selectors:[["app-upload-image"]],viewQuery:function(e,t){var n;1&e&&d.Jc(me,1),2&e&&d.sc(n=d.cc())&&(t._inputElem=n.first)},inputs:{multiple:"multiple",selectAllDir:"selectAllDir"},outputs:{onClearInput:"onClearInput"},features:[d.Ab],decls:14,vars:9,consts:[[1,"input-file"],[3,"label","labelTranslate","comment","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["regularInput",""],[1,"d-flex-row"],["mat-raised-button","","type","button","color","primary",3,"click"],["showChosenFiles",""],[3,"label","labelTranslate","comment","required"],["type","file","hidden","","multiple","","webkitdirectory","",3,"accept","change"],["uploadInput",""],["type","file","hidden","",3,"accept","multiple","change"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(d.Ub(0,"div",0),d.Dc(1,fe,1,4,"app-input-label",1),d.Dc(2,pe,3,1,"div",2),d.Dc(3,be,2,2,"ng-template",null,3,d.Ec),d.Ub(5,"div",4),d.Ub(6,"button",5),d.bc("click",function(){return t.openInputFile()}),d.Ub(7,"mat-icon"),d.Fc(8,"upload"),d.Tb(),d.Fc(9),d.gc(10,"translate"),d.Tb(),d.Dc(11,de,3,4,"div",2),d.Dc(12,ve,3,3,"ng-template",null,6,d.Ec),d.Tb(),d.Tb()),2&e){var n=d.tc(4),i=d.tc(13);d.Db(1),d.lc("ngIf",t.label||t.labelTranslate),d.Db(1),d.lc("ngIf",t.selectAllDir)("ngIfElse",n),d.Db(7),d.Hc(" ",d.ic(10,6,"TRANSLATION",t.btnTranslation)," "),d.Db(2),d.lc("ngIf",0==t.numFiles)("ngIfElse",i)}},directives:[s.k,Q.a,F.a,U,s.m,s.n],pipes:[p.c],styles:[".input-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.d-flex-row[_ngcontent-%COMP%]{gap:.25rem}"]}),Te),Ce=["upload"];function ye(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"app-input-text",7),d.bc("onChange",function(e){return d.vc(n),d.fc().onInsertUrl(e)}),d.Tb(),d.Tb()}if(2&e){var i=d.fc();d.Db(1),d.lc("labelTranslate",i.TRANSLATION.url)("form",i.form)("controlName",i.myControlName.url)}}function Ne(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"app-upload-image",8,9),d.bc("onClearInput",function(){return d.vc(n),d.fc().deleteFile()}),d.Tb(),d.Tb()}if(2&e){var i=d.fc();d.Db(1),d.lc("labelTranslate",i.TRANSLATION.upload)("form",i.form)("controlName",i.myControlName.upload)}}var Ae,Oe,De,_e=((Ae=function(){function e(){u(this,e),this.TRANSLATION=C.input.backgroundImg,this.myControlName={}}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.myControlName={srcType:"".concat(this.controlName,"SrcType"),url:"".concat(this.controlName,"Url"),upload:"".concat(this.controlName,"Upload")},this.form.addControl(this.myControlName.srcType,new m.e(null,m.r.required)),this.form.addControl(this.myControlName.url,new m.e),this.form.addControl(this.myControlName.upload,new m.e),this.form.get(this.myControlName.upload).valueChanges.subscribe(function(t){return e._onUpload(t)})}},{key:"ngOnDestroy",value:function(){var e=this;Object.values(this.myControlName).forEach(function(t){return e.form.removeControl(t)})}},{key:"onChooseInputType",value:function(e){this.isUrl=e==h.URL,this.imgPreview=null,this.form.get(this.controlName).setValue(null),this.isUrl?(this._setFormControlAsRequired(this.myControlName.url),this._setFormControlAsNotRequired(this.myControlName.upload)):(this._setFormControlAsRequired(this.myControlName.upload),this._setFormControlAsNotRequired(this.myControlName.url))}},{key:"_setFormControlAsRequired",value:function(e){v.setFormControlAsRequired(this.form.get(e))}},{key:"_setFormControlAsNotRequired",value:function(e){v.setFormControlAsNotRequired(this.form.get(e))}},{key:"_onUpload",value:function(e){this._setImage((null==e?void 0:e.length)?e[0].base64:null)}},{key:"onInsertUrl",value:function(e){var t=e;e||(t=null),this._setImage(t)}},{key:"_setImage",value:function(e){this.imgPreview=e,this.form.get(this.controlName).setValue(e)}},{key:"deleteFile",value:function(){var e,t=this;[this.myControlName.url,this.myControlName.upload].forEach(function(e){return t.form.get(e).setValue(null)}),this._setImage(null),null===(e=this._uploadChild)||void 0===e||e.reset()}}]),e}()).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275cmp=d.Ib({type:Ae,selectors:[["app-background-image-form"]],viewQuery:function(e,t){var n;1&e&&d.Jc(Ce,1),2&e&&d.sc(n=d.cc())&&(t._uploadChild=n.first)},inputs:{form:"form",controlName:"controlName"},decls:8,vars:7,consts:[[1,"input-image"],[3,"form","controlName","onChange"],[1,"form-item"],[1,"input-preview"],[3,"ngSwitch","ngClass"],[4,"ngSwitchCase"],[3,"src","onDelete"],[3,"labelTranslate","form","controlName","onChange"],[3,"labelTranslate","form","controlName","onClearInput"],["upload",""]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Ub(1,"app-select-image-src-type",1),d.bc("onChange",function(e){return t.onChooseInputType(e)}),d.Tb(),d.Ub(2,"div",2),d.Ub(3,"div",3),d.Ub(4,"div",4),d.Dc(5,ye,2,3,"div",5),d.Dc(6,Ne,3,3,"div",5),d.Tb(),d.Ub(7,"app-image-preview",6),d.bc("onDelete",function(){return t.deleteFile()}),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Db(1),d.lc("form",t.form)("controlName",t.myControlName.srcType),d.Db(3),d.lc("ngSwitch",t.isUrl)("ngClass",t.isUrl?"form-item":""),d.Db(1),d.lc("ngSwitchCase",!0),d.Db(1),d.lc("ngSwitchCase",!1),d.Db(1),d.lc("src",t.imgPreview))},directives:[$,s.m,s.i,s.n,Y,re,Ie],styles:[".input-image[_ngcontent-%COMP%]{gap:1rem;align-items:flex-start}.input-image[_ngcontent-%COMP%], .input-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.input-preview[_ngcontent-%COMP%]{gap:.5rem;align-items:center}.img-preview[_ngcontent-%COMP%]{width:50px;height:auto}.delete-btn[_ngcontent-%COMP%]{margin-top:.75rem}"]}),Ae),Pe=a("0IaG"),Ue=((Oe=c(function e(){u(this,e),this.TRANSLATION=C.diffImagesPerPairDialog,this.SEP=T.a.upload.fileNameSeparator})).\u0275fac=function(e){return new(e||Oe)},Oe.\u0275cmp=d.Ib({type:Oe,selectors:[["app-card-image-filename-example-dialog"]],decls:22,vars:20,consts:[[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close","","id","modal-close-btn",3,"matTooltip"],["mat-dialog-content",""],[1,"image-cont"],["src","assets/images/upload_diff_images_per_pair_example.png","alt","Image"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"div"),d.Fc(3),d.gc(4,"translate"),d.Tb(),d.Ub(5,"button",2),d.gc(6,"translate"),d.Ub(7,"mat-icon"),d.Fc(8,"close"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(9,"div",3),d.Ub(10,"div"),d.Fc(11),d.gc(12,"translate"),d.Ub(13,"i"),d.Fc(14),d.gc(15,"translate"),d.Tb(),d.Fc(16),d.Ub(17,"i"),d.Fc(18),d.gc(19,"translate"),d.Tb(),d.Tb(),d.Ub(20,"div",4),d.Pb(21,"img",5),d.Tb(),d.Tb()),2&e&&(d.Db(3),d.Gc(d.ic(4,6,"TRANSLATION",t.TRANSLATION.title)),d.Db(2),d.mc("matTooltip",d.hc(6,9,"CLOSE")),d.Db(6),d.Hc(" ",d.ic(12,11,"TRANSLATION",t.TRANSLATION.instruction),": "),d.Db(3),d.Hc("[",d.ic(15,14,"TRANSLATION",t.TRANSLATION.pairName),"]"),d.Db(2),d.Hc(" ",t.SEP," "),d.Db(2),d.Hc("[",d.ic(19,17,"TRANSLATION",t.TRANSLATION.imageId),"]"))},directives:[Pe.g,Q.a,Pe.d,z.a,F.a,Pe.e],pipes:[p.c],styles:[".mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.mat-dialog-content[_ngcontent-%COMP%], .mat-dialog-content[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center}.mat-dialog-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;max-width:80%}"]}),Oe),Se=function(){function e(t,n){u(this,e),this.numPairs=t,this.singleImgPerPair=n}return c(e,[{key:"numCards",get:function(){return this.numPairs*(this.singleImgPerPair?1:2)}}]),e}(),ke=a("CzQJ"),Fe=((De=function(e){function t(){return u(this,t),n(this,t,arguments)}return r(t,e),c(t,[{key:"ngOnInit",value:function(){this.options=[{id:!0,label:{pt:"Sim",en:"Yes"}},{id:!1,label:{pt:"N\xe3o",en:"No"}}]}}]),t}(B)).\u0275fac=function(e){return we(e||De)},De.\u0275cmp=d.Ib({type:De,selectors:[["app-select-yes-no"]],features:[d.Ab],decls:1,vars:5,consts:[[3,"label","labelTranslate","form","controlName","optionsTranslate","onChange"]],template:function(e,t){1&e&&(d.Ub(0,"app-select",0),d.bc("onChange",function(e){return t.onChangeSelection(e)}),d.Tb()),2&e&&d.lc("label",t.label)("labelTranslate",t.labelTranslate)("form",t.form)("controlName",t.controlName)("optionsTranslate",t.options)},directives:[B],encapsulation:2}),De),we=d.Wb(Fe);function Le(e,t){if(1&e&&d.Pb(0,"app-input-label",5),2&e){var n=d.fc();d.lc("label",n.label)("labelTranslate",n.labelTranslate)("comment",n.labelComment)("required",n.isRequired)}}function Re(e,t){1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",6),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e&&(d.Db(4),d.Gc(d.hc(5,1,"FORM_INPUT.REQUIRED")))}var Me=function(e){return{min:e}};function xe(e,t){if(1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",6),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e){var n=d.fc();d.Db(4),d.Gc(d.ic(5,1,"FORM_INPUT.MIN_VALUE",d.qc(4,Me,n.min)))}}var Ee=function(e){return{max:e}};function qe(e,t){if(1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",6),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e){var n=d.fc();d.Db(4),d.Gc(d.ic(5,1,"FORM_INPUT.MAX_VALUE",d.qc(4,Ee,n.max)))}}function Ve(e,t){1&e&&(d.Ub(0,"mat-error"),d.Ub(1,"mat-icon",7),d.Fc(2,"cancel"),d.Tb(),d.Ub(3,"strong"),d.Fc(4),d.gc(5,"translate"),d.Tb(),d.Tb()),2&e&&(d.Db(4),d.Gc(d.hc(5,1,"FORM_INPUT.INVALID")))}var je,Ge=((je=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).min=null,e.max=null,e}return r(t,e),c(t,[{key:"sendValueChange",value:function(e){var t,n=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.valueAsNumber;isNaN(n)&&(n=null),this.onChange.emit(n)}}]),t}(y)).\u0275fac=function(e){return Be(e||je)},je.\u0275cmp=d.Ib({type:je,selectors:[["app-input-number"]],inputs:{min:"min",max:"max"},features:[d.Ab],decls:8,vars:10,consts:[[3,"id","ngClass"],[3,"label","labelTranslate","comment","required",4,"ngIf"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],["matInput","","type","number",3,"formControl","min","max","change"],[4,"ngIf"],[3,"label","labelTranslate","comment","required"],["aria-hidden","false"],["aria-label","false"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Dc(1,Le,1,4,"app-input-label",1),d.Ub(2,"mat-form-field",2),d.Ub(3,"input",3),d.bc("change",function(e){return t.sendValueChange(e)}),d.Tb(),d.Dc(4,Re,6,3,"mat-error",4),d.Dc(5,xe,6,6,"mat-error",4),d.Dc(6,qe,6,6,"mat-error",4),d.Dc(7,Ve,6,3,"mat-error",4),d.Tb(),d.Tb()),2&e&&(d.nc("id","",t.controlName,"-div"),d.lc("ngClass",t.inputClass),d.Db(1),d.lc("ngIf",t.label||t.labelTranslate),d.Db(2),d.lc("formControl",t.formControl)("min",t.min)("max",t.max),d.Db(1),d.lc("ngIf",t.isRequired),d.Db(1),d.lc("ngIf",null!=t.min&&t.formControl.hasError("min")),d.Db(1),d.lc("ngIf",null!=t.max&&t.formControl.hasError("max")),d.Db(1),d.lc("ngIf",null==t.min&&null==t.max&&t.isInvalid))},directives:[s.i,s.k,N.c,Z.b,m.p,m.c,m.m,m.f,U,N.b,F.a],pipes:[p.c],styles:["",".d-flex-row[_ngcontent-%COMP%]{justify-content:space-between}"]}),je),Be=d.Wb(Ge);function He(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"div",5),d.Ub(3,"app-input-text",6),d.bc("onChange",function(e){d.vc(n);var i=t.$implicit;return d.fc(3).onInsertUrl(e,i)}),d.gc(4,"translate"),d.Tb(),d.Tb(),d.Ub(5,"div",7),d.Ub(6,"app-image-preview",8),d.bc("onDelete",function(){d.vc(n);var e=t.$implicit;return d.fc(3).deleteUrl(e)}),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var i=t.$implicit,a=d.fc(3);d.Db(3),d.oc("label","",d.ic(4,4,"TRANSLATION",a.TRANSLATION.url.pairImageLink),"",i+1,""),d.lc("form",a.getSubForm(i)),d.Db(3),d.lc("src",a.getUrl(i))}}function We(e,t){if(1&e&&(d.Ub(0,"div"),d.Dc(1,He,7,7,"div",3),d.Tb()),2&e){var n=d.fc(2);d.Db(1),d.lc("ngForOf",n.indices)}}function $e(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div",10),d.Ub(1,"div",11),d.Fc(2),d.gc(3,"translate"),d.Tb(),d.Ub(4,"div",4),d.Ub(5,"app-input-text",12),d.bc("onChange",function(e){d.vc(n);var i=t.$implicit;return d.fc(3).onInsertUrl(e,i)}),d.gc(6,"translate"),d.Tb(),d.Ub(7,"app-image-preview",13),d.bc("onDelete",function(){d.vc(n);var e=t.$implicit;return d.fc(3).deleteUrl(e)}),d.Tb(),d.Ub(8,"app-input-text",14),d.bc("onChange",function(e){d.vc(n);var i=t.$implicit;return d.fc(3).onInsertUrl(e,i,1)}),d.gc(9,"translate"),d.Tb(),d.Ub(10,"app-image-preview",13),d.bc("onDelete",function(){d.vc(n);var e=t.$implicit;return d.fc(3).deleteUrl(e,1)}),d.Tb(),d.Tb(),d.Tb()}if(2&e){var i=t.$implicit,a=d.fc(3);d.Db(2),d.Ic("",d.ic(3,10,"TRANSLATION",a.TRANSLATION.pair),"",i+1,""),d.Db(3),d.oc("label","",d.ic(6,13,"TRANSLATION",a.TRANSLATION.url.diffImages.pairImageLink1),"",i+1,""),d.lc("form",a.getSubForm(i)),d.Db(2),d.lc("src",a.getUrl(i)),d.Db(1),d.oc("label","",d.ic(9,16,"TRANSLATION",a.TRANSLATION.url.diffImages.pairImageLink2),"",i+1,""),d.lc("form",a.getSubForm(i)),d.Db(2),d.lc("src",a.getUrl(i,1))}}function Je(e,t){if(1&e&&d.Dc(0,$e,11,19,"div",9),2&e){var n=d.fc(2);d.lc("ngForOf",n.indices)}}function Qe(e,t){if(1&e&&(d.Ub(0,"div"),d.Dc(1,We,2,1,"div",1),d.Dc(2,Je,1,1,"ng-template",null,2,d.Ec),d.Tb()),2&e){var n=d.tc(3),i=d.fc();d.Db(1),d.lc("ngIf",i.urlPairConfig.singleImgPerPair)("ngIfElse",n)}}var ze,Ke=((ze=function(){function t(e){u(this,t),this.fb=e,this.TRANSLATION=C.input.cardImages,this._cardImageMap={}}return c(t,[{key:"ngOnInit",value:function(){this._init()}},{key:"ngOnDestroy",value:function(){this.form.removeControl("cardUrls")}},{key:"ngOnChanges",value:function(e){e.urlPairConfig&&!e.urlPairConfig.firstChange&&this._init()}},{key:"_init",value:function(){this._cardImageMap={},this._numCardImages=this.urlPairConfig.numCards,this._initFormArray(),this._setIndicesAndFillFormArray()}},{key:"_initFormArray",value:function(){var e=this.fb.group({urls:this.fb.array([])});this.form.addControl("cardUrls",e),this._formArray=e.controls.urls}},{key:"_setIndicesAndFillFormArray",value:function(){var t=this,n=e(Array(this.urlPairConfig.numPairs).keys());n.forEach(function(e){t._formArray.push(t._buildSubFormArray())}),this.indices=n}},{key:"_buildSubFormArray",value:function(){var e=this.fb.group({url:new m.e(null,m.r.required)});return this.urlPairConfig.singleImgPerPair||e.addControl("url2",new m.e(null,m.r.required)),e}},{key:"getSubForm",value:function(e){var t;return null===(t=this._formArray)||void 0===t?void 0:t.controls[e]}},{key:"getUrl",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return null===(t=this._cardImageMap[this._buildCardImageKey(e,n)])||void 0===t?void 0:t.base64}catch(i){return null}}},{key:"_buildCardImageKey",value:function(e,t){return"".concat(e).concat(t)}},{key:"onInsertUrl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._buildCardImageKey(t,n);this._cardImageMap[i]={base64:e,filename:"pair".concat(t+1,"_img").concat(n+1)},this._updateFormControl()}},{key:"deleteUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="url";1==t&&(n="url2"),this.getSubForm(e).get(n).reset();var i=this._buildCardImageKey(e,t);delete this._cardImageMap[i],this._updateFormControl()}},{key:"_updateFormControl",value:function(){var e=Object.values(this._cardImageMap);e.length!==this._numCardImages?this.form.get(this.controlName).setValue(null):this.form.get(this.controlName).setValue(e)}}]),t}()).\u0275fac=function(e){return new(e||ze)(d.Ob(m.d))},ze.\u0275cmp=d.Ib({type:ze,selectors:[["app-card-images-url-input"]],inputs:{form:"form",controlName:"controlName",urlPairConfig:"urlPairConfig"},features:[d.Bb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["showDoubleInput",""],[4,"ngFor","ngForOf"],[1,"d-flex-row"],[1,"flex-8"],["controlName","url",3,"label","form","onChange"],[1,"flex-4"],[3,"src","onDelete"],["class","d-flex-col",4,"ngFor","ngForOf"],[1,"d-flex-col"],[1,"mt-2","fst-italic"],["controlName","url",1,"flex-4",3,"label","form","onChange"],[1,"flex-2",3,"src","onDelete"],["controlName","url2",1,"flex-4",3,"label","form","onChange"]],template:function(e,t){1&e&&d.Dc(0,Qe,4,2,"div",0),2&e&&d.lc("ngIf",t.indices)},directives:[s.k,s.j,re,Y],pipes:[p.c],styles:[".d-flex-col[_ngcontent-%COMP%]{gap:1em}.flex-2[_ngcontent-%COMP%]{flex:2 0 0}.flex-4[_ngcontent-%COMP%]{flex:4 0 0}.flex-8[_ngcontent-%COMP%]{flex:8 0 0}"]}),ze);function Xe(e,t){if(1&e){var n=d.Vb();d.Ub(0,"app-input-number",8),d.bc("onChange",function(e){return d.vc(n),d.fc().onChangeNumPairsForUrl(e)}),d.Tb()}if(2&e){var i=d.fc();d.lc("labelTranslate",i.TRANSLATION.input.numPairs)("form",i.form)("min",i.MIN_NUM_PAIRS)}}function Ye(e,t){if(1&e&&d.Pb(0,"app-upload-image",9),2&e){var n=d.fc();d.lc("labelTranslate",n.TRANSLATION.input.cardImages.upload.pickDirPath)("form",n.form)("selectAllDir",!0)}}function Ze(e,t){if(1&e){var n=d.Vb();d.Ub(0,"div",10),d.Ub(1,"mat-icon"),d.Fc(2,"warning"),d.Tb(),d.Ub(3,"span"),d.Fc(4),d.gc(5,"translate"),d.Ub(6,"a",11),d.bc("click",function(){return d.vc(n),d.fc().openExample()}),d.Fc(7),d.gc(8,"translate"),d.Tb(),d.Fc(9,". "),d.Tb(),d.Tb()}if(2&e){var i=d.fc();d.Db(4),d.Hc(" ",d.ic(5,2,"TRANSLATION",i.TRANSLATION.input.cardImages.upload.diffImagesPerPair.warning)," "),d.Db(3),d.Hc(" ",d.ic(8,5,"TRANSLATION",i.TRANSLATION.input.cardImages.upload.diffImagesPerPair.warningLink)," ")}}function et(e,t){if(1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",12),d.Pb(2,"app-card-images-url-input",13),d.Tb(),d.Tb()),2&e){var n=d.fc();d.Db(2),d.lc("form",n.form)("urlPairConfig",n.urlPairConfig)}}var tt,nt=((tt=function(){function e(t){u(this,e),this.dialogService=t,this.TRANSLATION=C,this.FILENAME_SEP=T.a.upload.fileNameSeparator,this.MIN_NUM_PAIRS=2,this.showFilePatternWarning=!1}return c(e,[{key:"ngOnInit",value:function(){this.form=this.parent.form}},{key:"onChangeCardImageSrcType",value:function(e){this.addUrls=e===h.URL,this.addUrls?this.form.addControl("numPairs",new m.e(null,[m.r.required,m.r.min(this.MIN_NUM_PAIRS)])):this.form.removeControl("numPairs"),this._handleInputChange()}},{key:"onChangeSingleImgPerPair",value:function(){this._handleInputChange()}},{key:"onChangeNumPairsForUrl",value:function(e){e<this.MIN_NUM_PAIRS||this._handleInputChange()}},{key:"_handleInputChange",value:function(){var e,t=this.form.get("singleImgPerPair").value,n=this.form.get("cardImageSrcType").value,i=null===(e=this.form.get("numPairs"))||void 0===e?void 0:e.value,a=n===h.UPLOAD;this.showFilePatternWarning=a&&!1===t,this.urlPairConfig=a||i<this.MIN_NUM_PAIRS||[t,n,i].some(function(e){return null==e})?null:new Se(i,t)}},{key:"openExample",value:function(){this.dialogService.openCustomDialog(Ue,80)}}]),e}()).\u0275fac=function(e){return new(e||tt)(d.Ob(ke.a))},tt.\u0275cmp=d.Ib({type:tt,selectors:[["app-card-images-form"]],inputs:{parent:"parent"},decls:9,vars:12,consts:[[1,"form-line"],["controlName","singleImgPerPair",3,"label","form","onChange"],["controlName","cardImageSrcType",3,"form","multiple","onChange"],[3,"ngSwitch"],["controlName","numPairs",3,"labelTranslate","form","min","onChange",4,"ngSwitchCase"],["controlName","cardImages",3,"labelTranslate","form","selectAllDir",4,"ngSwitchCase"],["class","file-warning",4,"ngIf"],["class","form-line",4,"ngIf"],["controlName","numPairs",3,"labelTranslate","form","min","onChange"],["controlName","cardImages",3,"labelTranslate","form","selectAllDir"],[1,"file-warning"],[1,"example-link",3,"click"],[1,"form-item","mt-3"],["controlName","cardImages",3,"form","urlPairConfig"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Ub(1,"app-select-yes-no",1),d.bc("onChange",function(){return t.onChangeSingleImgPerPair()}),d.gc(2,"translate"),d.Tb(),d.Ub(3,"app-select-image-src-type",2),d.bc("onChange",function(e){return t.onChangeCardImageSrcType(e)}),d.Tb(),d.Ub(4,"div",3),d.Dc(5,Xe,1,3,"app-input-number",4),d.Dc(6,Ye,1,3,"app-upload-image",5),d.Tb(),d.Tb(),d.Dc(7,Ze,10,8,"div",6),d.Dc(8,et,3,2,"div",7)),2&e&&(d.Db(1),d.mc("label",d.ic(2,9,"TRANSLATION",t.TRANSLATION.input.singleImgPerPair)),d.lc("form",t.form),d.Db(2),d.lc("form",t.form)("multiple",!0),d.Db(1),d.lc("ngSwitch",t.addUrls),d.Db(1),d.lc("ngSwitchCase",!0),d.Db(1),d.lc("ngSwitchCase",!1),d.Db(1),d.lc("ngIf",t.showFilePatternWarning),d.Db(1),d.lc("ngIf",t.urlPairConfig))},directives:[Fe,$,s.m,s.n,s.k,Ge,Ie,F.a,Ke],pipes:[p.c],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.d-flex-col[_ngcontent-%COMP%]{gap:1em}.num-pairs[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:flex-start}.num-pairs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1.5rem}.file-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background-color:#e89c12;color:#fff;padding:4px;border-radius:2px;max-width:-moz-max-content;max-width:max-content}.example-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}"]}),tt),it=a("YzOW"),at=function(){function e(){u(this,e)}return c(e,[{key:"numPairs",get:function(){var e=this.cardImages.length;return this.singleImgPerPair||(e/=2),e}}]),e}(),rt=a("VdwR");function ot(e,t){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"form",4),d.Ub(2,"div",5),d.Pb(3,"app-select",6),d.gc(4,"translate"),d.Pb(5,"app-select-yes-no",7),d.Pb(6,"app-select",8),d.Tb(),d.Tb(),d.Tb()),2&e){var n=d.fc();d.Db(1),d.lc("formGroup",n.form),d.Db(2),d.mc("label",d.ic(4,9,"TRANSLATION",n.TRANSLATION.input.cardIdType)),d.lc("form",n.form)("optionsTranslate",n.options.cardId),d.Db(2),d.lc("labelTranslate",n.TRANSLATION.input.singleImgPerPair)("form",n.form),d.Db(1),d.lc("labelTranslate",n.TRANSLATION.input.numPairs)("form",n.form)("options",n.options.numPairs)}}function lt(e,t){if(1&e&&(d.Ub(0,"div",15),d.Pb(1,"app-background-image-form",16),d.Tb()),2&e){var n=d.fc(2);d.Db(1),d.lc("form",n.form)}}function ct(e,t){if(1&e){var n=d.Vb();d.Ub(0,"form",4),d.Ub(1,"span",9),d.Fc(2),d.gc(3,"translate"),d.Tb(),d.Ub(4,"div",5),d.Pb(5,"app-input-text",10),d.Pb(6,"app-select",11),d.Tb(),d.Pb(7,"mat-divider"),d.Ub(8,"span",9),d.Fc(9),d.gc(10,"translate"),d.Tb(),d.Ub(11,"div",5),d.Ub(12,"app-select-yes-no",12),d.bc("onChange",function(e){return d.vc(n),d.fc().onChangeAddBackgroundImg(e)}),d.Tb(),d.Dc(13,lt,2,1,"div",13),d.Tb(),d.Pb(14,"mat-divider"),d.Ub(15,"span",9),d.Fc(16),d.gc(17,"translate"),d.Tb(),d.Pb(18,"app-card-images-form",14),d.Tb()}if(2&e){var i=d.fc();d.lc("formGroup",i.form),d.Db(2),d.Hc(" ",d.ic(3,13,"TRANSLATION",i.TRANSLATION.sectionTitle.mainData)," "),d.Db(3),d.lc("labelTranslate",i.TRANSLATION.input.gameTitle)("form",i.form),d.Db(1),d.lc("labelTranslate",i.TRANSLATION.input.singleImgPerPair)("form",i.form)("optionsTranslate",i.options.cardId),d.Db(3),d.Hc(" ",d.ic(10,16,"TRANSLATION",i.TRANSLATION.sectionTitle.backgroundImg)," "),d.Db(3),d.lc("labelTranslate",i.TRANSLATION.input.backgroundImg.add)("form",i.form),d.Db(1),d.lc("ngIf",i.flag.addBackgroundImg),d.Db(3),d.Hc(" ",d.ic(17,19,"TRANSLATION",i.TRANSLATION.sectionTitle.cardImages)," "),d.Db(2),d.lc("parent",i)}}var st,ut,mt,ft=((ut=function(){function e(t,n,i,a){u(this,e),this.fb=t,this.gameService=n,this.toastService=i,this.translationService=a,this.TRANSLATION=C,this.ACCEPT_IMG=["image/png","image/jpeg"],this.options={},this.flag={},this.submitBtnTranslation={}}return c(e,[{key:"ngOnInit",value:function(){this.flag={isDemo:this._isDemo},this._initForm(),this._setOptions(),this._setSubmitBtn()}},{key:"_isDemo",get:function(){return this.parent.isDemo}},{key:"_initForm",value:function(){this.form=this.fb.group({title:new m.e("Memory Game",m.r.required),cardIdType:new m.e(it.a.NUMBERS,m.r.required),addBackgroundImg:new m.e(!1,m.r.required),backgroundImgSrc:new m.e(null),singleImgPerPair:new m.e(null,m.r.required),cardImageSrcType:new m.e(null,m.r.required),cardImages:new m.e(null,m.r.required)}),this._isDemo&&(this.form.addControl("numPairs",new m.e(null,m.r.required)),this.form.removeControl("addBackgroundImg"),this.form.removeControl("backgroundImgSrc"),this.form.removeControl("cardImageSrcType"),this.form.removeControl("cardImages"))}},{key:"_setOptions",value:function(){var e=this,t=it.b;this.options={cardId:[{id:it.a.NUMBERS,label:t[it.a.NUMBERS]},{id:it.a.ROW_COLUMN,label:t[it.a.ROW_COLUMN]},{id:it.a.ICONS,label:t[it.a.ICONS]}]},this._isDemo&&(this.options.numPairs=[],[4,6,8,10].forEach(function(t){return e.options.numPairs.push({id:t,label:t})}))}},{key:"_setSubmitBtn",value:function(){this.submitBtnTranslation=this._isDemo?this.TRANSLATION.submitBtn.playDemo:this.TRANSLATION.submitBtn.createGame}},{key:"onChangeAddBackgroundImg",value:function(e){this.flag.addBackgroundImg=e,this.form.get("backgroundImgSrc").setValue(null)}},{key:"submit",value:function(){var e;if(this.form.markAllAsTouched(),this.form.invalid)return this.toastService.showInvalidFormError();var t=Object.assign({},this.form.value),n=new at;n.title=t.title.toUpperCase(),n.singleImgPerPair=t.singleImgPerPair,n.cardIdType=t.cardIdType,n.backgroundImgSrc=t.backgroundImgSrc,n.cardImages=null!==(e=t.cardImages)&&void 0!==e?e:[],this._isDemo&&(n.title=this.translationService.getTranslationObj(this.TRANSLATION.gameTitle.demo),this._setDemoCardImages(n,t.numPairs)),this.gameService.create(n)}},{key:"_setDemoCardImages",value:function(e,t){for(var n="assets/images/demo-game-cards",i=1;i<=t;i++){var a="num".concat(i,"_draw.png");e.cardImages.push(new le("".concat(n,"/draw/").concat(a),a))}if(!e.singleImgPerPair)for(var r=1;r<=t;r++){var o="num".concat(r,"_word.png");e.cardImages.push(new le("".concat(n,"/words/").concat(o),o))}}}]),e}()).\u0275fac=function(e){return new(e||ut)(d.Ob(m.d),d.Ob(rt.a),d.Ob(se.a),d.Ob(ue.a))},ut.\u0275cmp=d.Ib({type:ut,selectors:[["app-game-builder-form"]],inputs:{parent:"parent"},decls:9,vars:6,consts:[[4,"ngIf","ngIfElse"],["showFullBuilderForm",""],[1,"mt-4","text-center"],["mat-raised-button","","type","submit","color","primary",3,"click"],[3,"formGroup"],[1,"form-line"],["controlName","cardIdType",1,"form-item",3,"label","form","optionsTranslate"],["controlName","singleImgPerPair",1,"form-item",3,"labelTranslate","form"],["controlName","numPairs",1,"form-item",3,"labelTranslate","form","options"],[1,"subtitle","color-primary"],["controlName","title",1,"input-title",3,"labelTranslate","form"],["controlName","cardIdType",1,"input-card-id",3,"labelTranslate","form","optionsTranslate"],["controlName","addBackgroundImg",3,"labelTranslate","form","onChange"],["class","form-item",4,"ngIf"],[3,"parent"],[1,"form-item"],["controlName","backgroundImgSrc",3,"form"]],template:function(e,t){if(1&e&&(d.Dc(0,ot,7,12,"div",0),d.Dc(1,ct,19,22,"ng-template",null,1,d.Ec),d.Ub(3,"div",2),d.Ub(4,"button",3),d.bc("click",function(){return t.submit()}),d.Ub(5,"mat-icon"),d.Fc(6,"sports_esports"),d.Tb(),d.Fc(7),d.gc(8,"translate"),d.Tb(),d.Tb()),2&e){var n=d.tc(2);d.lc("ngIf",t.flag.isDemo)("ngIfElse",n),d.Db(7),d.Hc(" ",d.ic(8,3,"TRANSLATION",t.submitBtnTranslation)," ")}},styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.input-title[_ngcontent-%COMP%]{flex:8 0 0}.input-card-id[_ngcontent-%COMP%]{flex:4 0 0}.input-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.subtitle[_ngcontent-%COMP%]{font-size:16px}"]}),ut),pt=((st=function(){function e(t){u(this,e),this.route=t,this.TRANSLATION=C,this.pageTitleTranslation={}}return c(e,[{key:"ngOnInit",value:function(){var e,t=this;null===(e=this.route.data)||void 0===e||e.subscribe(function(e){var n;t._isDemo=null!==(n=e.demo)&&void 0!==n&&n,t.pageTitleTranslation=t._isDemo?t.TRANSLATION.pageTitle.demoBuilder:t.TRANSLATION.pageTitle.gameBuilder})}},{key:"isDemo",get:function(){return this._isDemo}}]),e}()).\u0275fac=function(e){return new(e||st)(d.Ob(f.a))},st.\u0275cmp=d.Ib({type:st,selectors:[["app-game-builder"]],decls:8,vars:9,consts:[[1,"color-primary"],[1,"main-instructions","mb-4"],[3,"parent"]],template:function(e,t){1&e&&(d.Ub(0,"h1",0),d.Fc(1),d.gc(2,"translate"),d.Tb(),d.Ub(3,"div",1),d.Ub(4,"mat-label"),d.Fc(5),d.gc(6,"translate"),d.Tb(),d.Tb(),d.Pb(7,"app-game-builder-form",2)),2&e&&(d.Db(1),d.Gc(d.ic(2,3,"TRANSLATION",t.pageTitleTranslation)),d.Db(4),d.Gc(d.ic(6,6,"TRANSLATION",t.TRANSLATION.instruction)),d.Db(2),d.lc("parent",t))},styles:["h1[_ngcontent-%COMP%]{font-family:Quicksand!important}.main-instructions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]}),st),bt=a("f0Cb"),dt=[{path:"",component:pt},{path:"demo",component:pt,data:{demo:!0}}],gt=((mt=c(function e(){u(this,e)})).\u0275fac=function(e){return new(e||mt)},mt.\u0275mod=d.Mb({type:mt}),mt.\u0275inj=d.Lb({imports:[[s.c,f.c.forChild(dt),b.a,m.q,m.i,p.b,g]]}),mt);d.yc(pt,[N.f,ft],[p.c]),d.yc(ft,[s.k,m.s,m.n,m.h,B,Fe,re,bt.a,_e,nt,Q.a,F.a],[p.c])}}])}();