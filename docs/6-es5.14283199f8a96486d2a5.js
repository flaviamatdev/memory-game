!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t,n){return t=r(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,n||[],r(e).constructor):t.apply(e,n))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{S4pq:function(t,i,r){"use strict";r.r(i),r.d(i,"GameBuilderModule",function(){return Xe});var a,l,s=r("ofXK"),m=r("3Pt+"),f=r("tyNb"),d=r("vvyD"),b=r("fXoL"),p=((a=c(function e(){u(this,e)})).\u0275fac=function(e){return new(e||a)},a.\u0275mod=b.Mb({type:a}),a.\u0275inj=b.Lb({imports:[[s.c,m.q,m.i,d.a]]}),a),g=function(e){return e[e.UPLOAD=1]="UPLOAD",e[e.URL=2]="URL",e}({}),h=function(){function e(){u(this,e)}return c(e,null,[{key:"setFormControlAsRequiredOrNot",value:function(e,t){t?this.setFormControlAsRequired(e):this.setFormControlAsNotRequired(e)}},{key:"setFormControlAsRequired",value:function(e){e.reset(),e.setValidators(m.r.required),e.updateValueAndValidity()}},{key:"setFormControlAsNotRequired",value:function(e){e.reset(),e.clearValidators(),e.updateValueAndValidity()}}]),e}(),v=((l=function(){function e(){u(this,e),this.flexDirectionRow=!1,this.disabled=!1,this.onChange=new b.o}return c(e,[{key:"_setOriginalRequired",value:function(){this._originalRequired=this.isRequired}},{key:"checkForm",value:function(){this.form||(this.controlName="model",this.form=new m.g({model:new m.e}))}},{key:"formControl",get:function(){return this.form.controls[this.controlName]}},{key:"isRequired",get:function(){var e;return(null===(e=this.formControl)||void 0===e?void 0:e.hasError("required"))||!1}},{key:"isInvalid",get:function(){return this.hasError("invalid")}},{key:"hasError",value:function(e){var t=this.formControl;return!this.isRequired&&(t.invalid||t.hasError(e))}},{key:"inputClass",get:function(){return{"d-flex-row":this.flexDirectionRow,"d-flex-col":!this.flexDirectionRow}}},{key:"getSelectValue",get:function(){try{return this.formControl.value}catch(e){return null}}},{key:"_setAsInvalid",value:function(){this._setFormControlAsInvalid(this.formControl)}},{key:"_setFormControlAsInvalid",value:function(e){e.setErrors({invalid:!0}),e.markAsTouched()}},{key:"_setAsValidByOriginalRequired",value:function(){this._originalRequired?this._setAsRequired():this._setAsValid()}},{key:"_setAsValid",value:function(){this._setFormControlAsValid(this.formControl)}},{key:"_setFormControlAsValid",value:function(e){e.setErrors(null),e.markAsTouched()}},{key:"_setAsRequired",value:function(){this._setFormControlAsRequired(this.formControl)}},{key:"_setFormControlAsRequired",value:function(e){e.setErrors({required:!0}),e.markAsTouched()}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=b.Ib({type:l,selectors:[["app-abstract-input"]],inputs:{label:"label",labelComment:"labelComment",form:"form",controlName:"controlName",flexDirectionRow:"flexDirectionRow",disabled:"disabled"},outputs:{onChange:"onChange"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),l),C=r("kmnG");function y(e,t){if(1&e&&(b.Ub(0,"span",2),b.Cc(1),b.Tb()),2&e){var n=b.fc();b.Db(1),b.Dc(n.comment)}}var k,I=((k=c(function e(){u(this,e),this.required=!0})).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=b.Ib({type:k,selectors:[["app-input-label"]],inputs:{label:"label",required:"required",comment:"comment"},decls:5,vars:3,consts:[["class","input-label-comment",4,"ngIf"],[1,"input-label-required"],[1,"input-label-comment"]],template:function(e,t){1&e&&(b.Ub(0,"mat-label"),b.Cc(1),b.Ac(2,y,2,1,"span",0),b.Ub(3,"span",1),b.Cc(4),b.Tb(),b.Tb()),2&e&&(b.Db(1),b.Ec(" ",t.label," "),b.Db(1),b.kc("ngIf",t.comment),b.Db(2),b.Ec(" ",t.required?"*":"",""))},directives:[C.f,s.k],styles:["mat-label[_ngcontent-%COMP%]{display:block}.input-label-required[_ngcontent-%COMP%]{color:red}.input-label-comment[_ngcontent-%COMP%]{color:grey;font-size:smaller}"]}),k),_=r("d3UM"),P=r("FKr1"),T=r("NFeN"),U=["allOption"];function w(e,t){if(1&e&&(b.Ub(0,"mat-option",8,9),b.Cc(2),b.Tb()),2&e){var n=b.fc();b.kc("value",n.ALL_OPTION),b.Db(2),b.Ec(" ",n.allOptionLabel," ")}}function A(e,t){if(1&e&&(b.Ub(0,"mat-option",10),b.Cc(1),b.Tb()),2&e){var n=t.$implicit,i=b.fc();b.kc("value",i.getOptionValue(n))("disabled",i.multiple&&i.allOptionSelected),b.Db(1),b.Ec(" ",n[i.labelAttribute]," ")}}function D(e,t){1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",11),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Campo "),b.Ub(4,"strong"),b.Cc(5,"obrigat\xf3rio"),b.Tb(),b.Tb())}function O(e,t){if(1&e&&(b.Ub(0,"div",12),b.Ub(1,"mat-icon",11),b.Cc(2,"cancel"),b.Tb(),b.Cc(3),b.Tb()),2&e){var n=b.fc();b.Db(3),b.Ec(" Erro ao buscar op\xe7\xf5es para ",n.label,"\n")}}var x,N,S=((x=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).ALL_OPTION="all",e.options=[],e.valueAttribute="id",e.labelAttribute="label",e.multiple=!1,e.useFullOptionAsValue=!1,e.onFinishedLoading=new b.o,e.showLoadingOptionsError=!1,e._allSelected=!1,e}return o(t,e),c(t,[{key:"ngOnInit",value:function(){this.showLoadingOptionsError=!1,this.checkForm()}},{key:"ngOnChanges",value:function(e){e.options&&null==e.options.currentValue&&(this.showLoadingOptionsError=!0)}},{key:"getOptionValue",value:function(e){return this.useFullOptionAsValue?e:e[this.valueAttribute]}},{key:"onChangeSelection",value:function(e){this.allOptionLabel&&this.multiple&&this._onChangeSelectionMultiple(e),this.onChange.emit(e)}},{key:"_onChangeSelectionMultiple",value:function(e){var t=this;if(this._allSelected)return this.formControl.setValue([]),void(this._allSelected=!1);this._allSelected=e.includes(this.ALL_OPTION)||e.length==this.options.length,this._allSelected&&this.formControl.setValue(this.options.map(function(e){return e[t.valueAttribute]}))}},{key:"allOptionSelected",get:function(){var e;return(null===(e=this._allOption)||void 0===e?void 0:e.selected)||!1}}]),t}(v)).\u0275fac=function(e){return F(e||x)},x.\u0275cmp=b.Ib({type:x,selectors:[["app-select"]],viewQuery:function(e,t){var n;1&e&&b.Fc(U,1),2&e&&b.pc(n=b.cc())&&(t._allOption=n.first)},inputs:{options:"options",valueAttribute:"valueAttribute",labelAttribute:"labelAttribute",multiple:"multiple",allOptionLabel:"allOptionLabel",useFullOptionAsValue:"useFullOptionAsValue"},outputs:{onFinishedLoading:"onFinishedLoading"},features:[b.Ab,b.Bb],decls:8,vars:11,consts:[[3,"id","ngClass"],[3,"label","comment","required"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],[3,"formControl","multiple","selectionChange"],[3,"value",4,"ngIf"],[3,"value","disabled",4,"ngFor","ngForOf"],[4,"ngIf"],["class","loading-options-error",4,"ngIf"],[3,"value"],["allOption",""],[3,"value","disabled"],["aria-label","false"],[1,"loading-options-error"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Pb(1,"app-input-label",1),b.Ub(2,"mat-form-field",2),b.Ub(3,"mat-select",3),b.bc("selectionChange",function(e){return t.onChangeSelection(e.value)}),b.Ac(4,w,3,2,"mat-option",4),b.Ac(5,A,2,3,"mat-option",5),b.Tb(),b.Ac(6,D,6,0,"mat-error",6),b.Tb(),b.Tb(),b.Ac(7,O,4,1,"div",7)),2&e&&(b.lc("id","",t.controlName,"-div"),b.kc("ngClass",t.inputClass),b.Db(1),b.kc("label",t.label)("comment",t.labelComment)("required",t.isRequired),b.Db(2),b.kc("formControl",t.formControl)("multiple",t.multiple),b.Db(1),b.kc("ngIf",t.allOptionLabel),b.Db(1),b.kc("ngForOf",t.options),b.Db(1),b.kc("ngIf",t.isRequired),b.Db(1),b.kc("ngIf",t.showLoadingOptionsError))},directives:[s.i,I,C.c,_.a,m.m,m.f,s.k,s.j,P.m,C.b,T.a],styles:[".loading-options-error[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;-moz-column-gap:.5em;column-gap:.5em;color:red;font-size:smaller;font-style:italic;margin-bottom:4px}.loading-options-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}"]}),x),F=b.Wb(S),M=((N=function(e){function t(){return u(this,t),n(this,t,arguments)}return o(t,e),c(t,[{key:"ngOnInit",value:function(){var e,t=this._getLabels();this.label=null!==(e=this.label)&&void 0!==e?e:t.title,this.options=[{id:g.UPLOAD,label:t.upload},{id:g.URL,label:t.url}]}},{key:"_getLabels",value:function(){var e="",t="m";return this.multiple&&(e="s",t="ns"),{title:"Como deseja inserir a".concat(e," image").concat(t,"?"),url:"Inserir link".concat(e," da").concat(e," image").concat(t),upload:"Enviar arquivo".concat(e)}}},{key:"onChangeSelection",value:function(e){this.onChange.emit(e)}}]),t}(S)).\u0275fac=function(e){return q(e||N)},N.\u0275cmp=b.Ib({type:N,selectors:[["app-select-image-src-type"]],features:[b.Ab],decls:1,vars:4,consts:[[3,"label","form","controlName","options","onChange"]],template:function(e,t){1&e&&(b.Ub(0,"app-select",0),b.bc("onChange",function(e){return t.onChangeSelection(e)}),b.Tb()),2&e&&b.kc("label",t.label)("form",t.form)("controlName",t.controlName)("options",t.options)},directives:[S],styles:[""]}),N),q=b.Wb(M),E=r("bTqV"),L=r("Qu3c");function R(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",1),b.Pb(1,"img",2),b.Ub(2,"div",3),b.Ub(3,"button",4),b.bc("click",function(){return b.sc(n),b.fc().deleteFile()}),b.Ub(4,"mat-icon"),b.Cc(5,"delete"),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&e){var i=b.fc();b.Db(1),b.kc("src",i.src,b.uc)}}var V,j=((V=function(){function e(){u(this,e),this.onDelete=new b.o}return c(e,[{key:"deleteFile",value:function(){this.src=null,this.onDelete.emit()}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=b.Ib({type:V,selectors:[["app-image-preview"]],inputs:{src:"src"},outputs:{onDelete:"onDelete"},decls:1,vars:1,consts:[["class","form-line",4,"ngIf"],[1,"form-line"],["alt","Imagem",3,"src"],[1,"delete-btn"],["mat-icon-button","","mat-stroked-button","","type","button","matTooltip","Excluir imagem","color","accent",3,"click"]],template:function(e,t){1&e&&b.Ac(0,R,6,1,"div",0),2&e&&b.kc("ngIf",t.src)},directives:[s.k,E.a,L.a,T.a],styles:[".form-line[_ngcontent-%COMP%]{align-items:center}img[_ngcontent-%COMP%]{width:50px;height:auto}.delete-btn[_ngcontent-%COMP%]{margin-top:.75rem}"]}),V),B=r("qFsG");function G(e,t){1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",5),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Campo "),b.Ub(4,"strong"),b.Cc(5,"obrigat\xf3rio"),b.Tb(),b.Tb())}function $(e,t){1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",5),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Valor inserido "),b.Ub(4,"strong"),b.Cc(5,"inv\xe1lido"),b.Tb(),b.Tb())}function W(e,t){if(1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",5),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Tamanho m\xednimo: "),b.Ub(4,"strong"),b.Cc(5),b.Tb(),b.Cc(6," caracteres "),b.Tb()),2&e){var n=b.fc();b.Db(5),b.Dc(n.minLength)}}var z,K=((z=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).placeholder="",e.maxLength=100,e.title="",e}return o(t,e),c(t,[{key:"clear",value:function(){this.formControl.setValue(null)}},{key:"sendChangeEvent",value:function(e){(null==e?void 0:e.target)&&this.onChange.emit(e.target.value)}},{key:"_eventTypeDeleteContent",value:function(e){return"deleteContentBackward"===(null==e?void 0:e.inputType)}}]),t}(v)).\u0275fac=function(e){return Q(e||z)},z.\u0275cmp=b.Ib({type:z,selectors:[["app-input-text"]],inputs:{placeholder:"placeholder",minLength:"minLength",maxLength:"maxLength",title:"title"},features:[b.Ab],decls:7,vars:16,consts:[[3,"id","ngClass"],[3,"label","comment","required"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],["matInput","","type","text",3,"formControl","id","name","minLength","maxLength","title","placeholder","readonly","change"],[4,"ngIf"],["aria-label","false"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Pb(1,"app-input-label",1),b.Ub(2,"mat-form-field",2),b.Ub(3,"input",3),b.bc("change",function(e){return t.sendChangeEvent(e)}),b.Tb(),b.Ac(4,G,6,0,"mat-error",4),b.Ac(5,$,6,0,"mat-error",4),b.Ac(6,W,7,1,"mat-error",4),b.Tb(),b.Tb()),2&e&&(b.lc("id","",t.controlName,"-div"),b.kc("ngClass",t.inputClass),b.Db(1),b.kc("label",t.label)("comment",t.labelComment)("required",t.isRequired),b.Db(2),b.kc("formControl",t.formControl)("id",t.controlName)("name",t.controlName)("minLength",t.minLength)("maxLength",t.maxLength)("title",t.title)("placeholder",t.placeholder)("readonly",t.disabled),b.Db(1),b.kc("ngIf",t.isRequired),b.Db(1),b.kc("ngIf",t.isInvalid),b.Db(1),b.kc("ngIf",t.hasError("minLength")))},directives:[s.i,I,C.c,B.b,m.c,m.m,m.f,s.k,C.b,T.a],styles:["",".d-flex-row[_ngcontent-%COMP%]{justify-content:space-between}"]}),z),Q=b.Wb(K),J=c(function e(t,n){u(this,e),this.base64=t,this.filename=n}),Y=r("2g2N"),X=["uploadInput"];function H(e,t){if(1&e&&b.Pb(0,"app-input-label",4),2&e){var n=b.fc();b.kc("label",n.label)("comment",n.labelComment)("required",n.isRequired)}}function Z(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div"),b.Ub(1,"input",5,6),b.bc("change",function(e){return b.sc(n),b.fc().onSelectFiles(e)}),b.Tb(),b.Tb()}if(2&e){var i=b.fc();b.Db(1),b.kc("accept",i.ACCEPT_IMG)}}function ee(e,t){if(1&e){var n=b.Vb();b.Ub(0,"input",7,6),b.bc("change",function(e){return b.sc(n),b.fc().onSelectFiles(e)}),b.Tb()}if(2&e){var i=b.fc();b.kc("accept",i.ACCEPT_IMG)("multiple",i.multiple)}}var te,ne=((te=function(e){function t(e){var i;return u(this,t),(i=n(this,t)).toastService=e,i.ACCEPT_IMG=["image/png","image/jpeg"],i.multiple=!1,i.selectAllDir=!1,i._numFiles=0,i}return o(t,e),c(t,[{key:"reset",value:function(){this._images=[],this._numFiles=0,this._clearInput(),this.formControl.reset()}},{key:"_clearInput",value:function(){this._inputElem.nativeElement.value=""}},{key:"onSelectFiles",value:function(e){var t,n=this;this._images=[];var i=this._extractFiles(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.files),r=i.files;if(i.allOk)r.forEach(function(e){return n._readFile(e)});else{this._clearInput();var o=this.ACCEPT_IMG.map(function(e){return e.replace("image/","")}).join(", ");this.toastService.error("Pelo menos 1 arquivo selecionado est\xe1 fora dos formatos de imagem aceitos: ".concat(o,". Tente novamente!"))}}},{key:"_extractFiles",value:function(e){var t;this._numFiles=null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0;var n=[],i=!0,r=0;do{var o=e.item(r++);n.push(o),i=i&&this.ACCEPT_IMG.includes(o.type)}while(i&&r<this._numFiles);return{files:n,allOk:i}}},{key:"_readFile",value:function(e){var t=this,n=new FileReader;n.onload=function(n){t._images.push(new J(n.target.result,e.name)),t._images.length==t._numFiles&&t.formControl.setValue(t._images)},n.readAsDataURL(e)}}]),t}(v)).\u0275fac=function(e){return new(e||te)(b.Ob(Y.a))},te.\u0275cmp=b.Ib({type:te,selectors:[["app-upload-image"]],viewQuery:function(e,t){var n;1&e&&b.Fc(X,1),2&e&&b.pc(n=b.cc())&&(t._inputElem=n.first)},inputs:{multiple:"multiple",selectAllDir:"selectAllDir"},features:[b.Ab],decls:5,vars:3,consts:[[1,"input-file"],[3,"label","comment","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["regularInput",""],[3,"label","comment","required"],["type","file","multiple","","webkitdirectory","",3,"accept","change"],["uploadInput",""],["type","file",3,"accept","multiple","change"]],template:function(e,t){if(1&e&&(b.Ub(0,"div",0),b.Ac(1,H,1,3,"app-input-label",1),b.Ac(2,Z,3,1,"div",2),b.Ac(3,ee,2,2,"ng-template",null,3,b.Bc),b.Tb()),2&e){var n=b.qc(4);b.Db(1),b.kc("ngIf",t.label),b.Db(1),b.kc("ngIf",t.selectAllDir)("ngIfElse",n)}},directives:[s.k,I],styles:[".input-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}"]}),te),ie=["upload"];function re(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div"),b.Ub(1,"app-input-text",7),b.bc("onChange",function(e){return b.sc(n),b.fc().onInsertUrl(e)}),b.Tb(),b.Tb()}if(2&e){var i=b.fc();b.Db(1),b.kc("form",i.form)("controlName",i.myControlName.url)}}function oe(e,t){if(1&e&&(b.Ub(0,"div"),b.Pb(1,"app-upload-image",8,9),b.Tb()),2&e){var n=b.fc();b.Db(1),b.kc("form",n.form)("controlName",n.myControlName.upload)}}var ae,le,ce,se=((ae=function(){function e(){u(this,e),this.multiple=!1,this.myControlName={}}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.myControlName={srcType:"".concat(this.controlName,"SrcType"),url:"".concat(this.controlName,"Url"),upload:"".concat(this.controlName,"Upload")},this.form.addControl(this.myControlName.srcType,new m.e(null,m.r.required)),this.form.addControl(this.myControlName.url,new m.e),this.form.addControl(this.myControlName.upload,new m.e),this.form.get(this.myControlName.upload).valueChanges.subscribe(function(t){return e._onUpload(t)})}},{key:"ngOnDestroy",value:function(){var e=this;Object.values(this.myControlName).forEach(function(t){return e.form.removeControl(t)})}},{key:"onChooseInputType",value:function(e){this.isUrl=e==g.URL,this.imgPreview=null,this.form.get(this.controlName).setValue(null),this.isUrl?(this._setFormControlAsRequired(this.myControlName.url),this._setFormControlAsNotRequired(this.myControlName.upload)):(this._setFormControlAsRequired(this.myControlName.upload),this._setFormControlAsNotRequired(this.myControlName.url))}},{key:"_setFormControlAsRequired",value:function(e){h.setFormControlAsRequired(this.form.get(e))}},{key:"_setFormControlAsNotRequired",value:function(e){h.setFormControlAsNotRequired(this.form.get(e))}},{key:"_onUpload",value:function(e){this._setImage((null==e?void 0:e.length)?e[0].base64:null)}},{key:"onInsertUrl",value:function(e){var t=e;e||(t=null),this._setImage(t)}},{key:"_setImage",value:function(e){this.imgPreview=e,this.form.get(this.controlName).setValue(e)}},{key:"deleteFile",value:function(){var e,t=this;[this.myControlName.url,this.myControlName.upload].forEach(function(e){return t.form.get(e).setValue(null)}),this._setImage(null),null===(e=this._uploadChild)||void 0===e||e.reset()}}]),e}()).\u0275fac=function(e){return new(e||ae)},ae.\u0275cmp=b.Ib({type:ae,selectors:[["app-background-image-form"]],viewQuery:function(e,t){var n;1&e&&b.Fc(ie,1),2&e&&b.pc(n=b.cc())&&(t._uploadChild=n.first)},inputs:{form:"form",controlName:"controlName",multiple:"multiple"},decls:8,vars:8,consts:[[1,"input-image"],["label","Como deseja inserir a imagem?",3,"form","controlName","multiple","onChange"],[1,"form-item"],[1,"input-preview"],[3,"ngSwitch","ngClass"],[4,"ngSwitchCase"],[3,"src","onDelete"],["label","Link da imagem",3,"form","controlName","onChange"],["label","Selecione imagem",3,"form","controlName"],["upload",""]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"app-select-image-src-type",1),b.bc("onChange",function(e){return t.onChooseInputType(e)}),b.Tb(),b.Ub(2,"div",2),b.Ub(3,"div",3),b.Ub(4,"div",4),b.Ac(5,re,2,2,"div",5),b.Ac(6,oe,3,2,"div",5),b.Tb(),b.Ub(7,"app-image-preview",6),b.bc("onDelete",function(){return t.deleteFile()}),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Db(1),b.kc("form",t.form)("controlName",t.myControlName.srcType)("multiple",t.multiple),b.Db(3),b.kc("ngSwitch",t.isUrl)("ngClass",t.isUrl?"form-item":""),b.Db(1),b.kc("ngSwitchCase",!0),b.Db(1),b.kc("ngSwitchCase",!1),b.Db(1),b.kc("src",t.imgPreview))},directives:[M,s.m,s.i,s.n,j,K,ne],styles:[".input-image[_ngcontent-%COMP%]{gap:1rem;align-items:flex-start}.input-image[_ngcontent-%COMP%], .input-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.input-preview[_ngcontent-%COMP%]{gap:.5rem;align-items:center}.img-preview[_ngcontent-%COMP%]{width:50px;height:auto}.delete-btn[_ngcontent-%COMP%]{margin-top:.75rem}"]}),ae),ue=r("nAIU"),me=function(){function e(t,n){u(this,e),this.numPairs=t,this.singleImgPerPair=n}return c(e,[{key:"numCards",get:function(){return this.numPairs*(this.singleImgPerPair?1:2)}}]),e}(),fe=r("0IaG"),de=((le=c(function e(){u(this,e),this.SEP=ue.a.upload.fileNameSeparator})).\u0275fac=function(e){return new(e||le)},le.\u0275cmp=b.Ib({type:le,selectors:[["app-card-image-filename-example-dialog"]],decls:17,vars:1,consts:[[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close","","id","modal-close-btn","matTooltip","Fechar"],["mat-dialog-content",""],[1,"image-cont"],["src","assets/images/upload_diff_images_per_pair_example.png","alt","Image"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Ub(2,"div"),b.Cc(3,"Envio de arquivos diferentes por par"),b.Tb(),b.Ub(4,"button",2),b.Ub(5,"mat-icon"),b.Cc(6,"close"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(7,"div",3),b.Ub(8,"div"),b.Cc(9," Exemplo de nome para arquivos de images para cada par: "),b.Ub(10,"i"),b.Cc(11,"[pair name]"),b.Tb(),b.Cc(12),b.Ub(13,"i"),b.Cc(14,"[image identification]"),b.Tb(),b.Tb(),b.Ub(15,"div",4),b.Pb(16,"img",5),b.Tb(),b.Tb()),2&e&&(b.Db(12),b.Dc(t.SEP))},directives:[fe.g,E.a,fe.d,L.a,T.a,fe.e],styles:[".mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.mat-dialog-content[_ngcontent-%COMP%], .mat-dialog-content[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center}.mat-dialog-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;max-width:80%}"]}),le),be=r("VdwR"),pe=r("CzQJ"),ge=((ce=function(e){function t(){return u(this,t),n(this,t,arguments)}return o(t,e),c(t,[{key:"ngOnInit",value:function(){this.options=[{id:!0,label:"Sim"},{id:!1,label:"N\xe3o"}]}}]),t}(S)).\u0275fac=function(e){return he(e||ce)},ce.\u0275cmp=b.Ib({type:ce,selectors:[["app-select-yes-no"]],features:[b.Ab],decls:1,vars:4,consts:[[3,"label","form","controlName","options","onChange"]],template:function(e,t){1&e&&(b.Ub(0,"app-select",0),b.bc("onChange",function(e){return t.onChangeSelection(e)}),b.Tb()),2&e&&b.kc("label",t.label)("form",t.form)("controlName",t.controlName)("options",t.options)},directives:[S],encapsulation:2}),ce),he=b.Wb(ge);function ve(e,t){if(1&e&&b.Pb(0,"app-input-label",5),2&e){var n=b.fc();b.kc("label",n.label)("comment",n.labelComment)("required",n.isRequired)}}function Ce(e,t){1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",6),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Campo "),b.Ub(4,"strong"),b.Cc(5,"obrigat\xf3rio"),b.Tb(),b.Tb())}function ye(e,t){if(1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",6),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Valor m\xednimo \xe9 "),b.Ub(4,"strong"),b.Cc(5),b.Tb(),b.Tb()),2&e){var n=b.fc();b.Db(5),b.Dc(n.min)}}function ke(e,t){if(1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",6),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Valor m\xe1ximo \xe9 "),b.Ub(4,"strong"),b.Cc(5),b.Tb(),b.Tb()),2&e){var n=b.fc();b.Db(5),b.Dc(n.max)}}function Ie(e,t){1&e&&(b.Ub(0,"mat-error"),b.Ub(1,"mat-icon",7),b.Cc(2,"cancel"),b.Tb(),b.Cc(3," Valor inserido "),b.Ub(4,"strong"),b.Cc(5,"inv\xe1lido"),b.Tb(),b.Tb())}var _e,Pe=((_e=function(e){function t(){var e;return u(this,t),(e=n(this,t,arguments)).min=null,e.max=null,e}return o(t,e),c(t,[{key:"sendValueChange",value:function(e){var t,n=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.valueAsNumber;isNaN(n)&&(n=null),this.onChange.emit(n)}}]),t}(v)).\u0275fac=function(e){return Te(e||_e)},_e.\u0275cmp=b.Ib({type:_e,selectors:[["app-input-number"]],inputs:{min:"min",max:"max"},features:[b.Ab],decls:8,vars:10,consts:[[3,"id","ngClass"],[3,"label","comment","required",4,"ngIf"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],["matInput","","type","number",3,"formControl","min","max","change"],[4,"ngIf"],[3,"label","comment","required"],["aria-hidden","false"],["aria-label","false"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ac(1,ve,1,3,"app-input-label",1),b.Ub(2,"mat-form-field",2),b.Ub(3,"input",3),b.bc("change",function(e){return t.sendValueChange(e)}),b.Tb(),b.Ac(4,Ce,6,0,"mat-error",4),b.Ac(5,ye,6,1,"mat-error",4),b.Ac(6,ke,6,1,"mat-error",4),b.Ac(7,Ie,6,0,"mat-error",4),b.Tb(),b.Tb()),2&e&&(b.lc("id","",t.controlName,"-div"),b.kc("ngClass",t.inputClass),b.Db(1),b.kc("ngIf",t.label),b.Db(2),b.kc("formControl",t.formControl)("min",t.min)("max",t.max),b.Db(1),b.kc("ngIf",t.isRequired),b.Db(1),b.kc("ngIf",null!=t.min&&t.formControl.hasError("min")),b.Db(1),b.kc("ngIf",null!=t.max&&t.formControl.hasError("max")),b.Db(1),b.kc("ngIf",null==t.min&&null==t.max&&t.isInvalid))},directives:[s.i,s.k,C.c,B.b,m.p,m.c,m.m,m.f,I,C.b,T.a],styles:["",".d-flex-row[_ngcontent-%COMP%]{justify-content:space-between}"]}),_e),Te=b.Wb(Pe);function Ue(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div"),b.Ub(1,"div",4),b.Ub(2,"div",5),b.Ub(3,"app-input-text",6),b.bc("onChange",function(e){b.sc(n);var i=t.$implicit;return b.fc(3).onInsertUrl(e,i)}),b.Tb(),b.Tb(),b.Ub(4,"div",7),b.Ub(5,"app-image-preview",8),b.bc("onDelete",function(){b.sc(n);var e=t.$implicit;return b.fc(3).deleteUrl(e)}),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&e){var i=t.$implicit,r=b.fc(3);b.Db(3),b.kc("label","Link da Imagem do Par "+(i+1))("form",r.getSubForm(i)),b.Db(2),b.kc("src",r.getUrl(i))}}function we(e,t){if(1&e&&(b.Ub(0,"div"),b.Ac(1,Ue,6,3,"div",3),b.Tb()),2&e){var n=b.fc(2);b.Db(1),b.kc("ngForOf",n.indices)}}function Ae(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",10),b.Ub(1,"div",11),b.Cc(2),b.Tb(),b.Ub(3,"div",4),b.Ub(4,"app-input-text",12),b.bc("onChange",function(e){b.sc(n);var i=t.$implicit;return b.fc(3).onInsertUrl(e,i)}),b.Tb(),b.Ub(5,"app-image-preview",13),b.bc("onDelete",function(){b.sc(n);var e=t.$implicit;return b.fc(3).deleteUrl(e)}),b.Tb(),b.Ub(6,"app-input-text",14),b.bc("onChange",function(e){b.sc(n);var i=t.$implicit;return b.fc(3).onInsertUrl(e,i,1)}),b.Tb(),b.Ub(7,"app-image-preview",13),b.bc("onDelete",function(){b.sc(n);var e=t.$implicit;return b.fc(3).deleteUrl(e,1)}),b.Tb(),b.Tb(),b.Tb()}if(2&e){var i=t.$implicit,r=b.fc(3);b.Db(2),b.Ec("Par ",i+1,""),b.Db(2),b.kc("label","Link da Imagem 1 do Par "+(i+1))("form",r.getSubForm(i)),b.Db(1),b.kc("src",r.getUrl(i)),b.Db(1),b.kc("label","Link da Imagem 2 do Par "+(i+1))("form",r.getSubForm(i)),b.Db(1),b.kc("src",r.getUrl(i,1))}}function De(e,t){if(1&e&&b.Ac(0,Ae,8,7,"div",9),2&e){var n=b.fc(2);b.kc("ngForOf",n.indices)}}function Oe(e,t){if(1&e&&(b.Ub(0,"div"),b.Ac(1,we,2,1,"div",1),b.Ac(2,De,1,1,"ng-template",null,2,b.Bc),b.Tb()),2&e){var n=b.qc(3),i=b.fc();b.Db(1),b.kc("ngIf",i.pairConfig.singleImgPerPair)("ngIfElse",n)}}var xe,Ne=((xe=function(){function t(e){u(this,t),this.fb=e,this._cardImageMap={}}return c(t,[{key:"ngOnInit",value:function(){this._init()}},{key:"ngOnDestroy",value:function(){this.form.removeControl("cardUrls")}},{key:"ngOnChanges",value:function(e){e.pairConfig&&!e.pairConfig.firstChange&&this._init()}},{key:"_init",value:function(){this._cardImageMap={},this._numCardImages=this.pairConfig.numCards,this._initFormArray(),this._setIndicesAndFillFormArray()}},{key:"_initFormArray",value:function(){var e=this.fb.group({urls:this.fb.array([])});this.form.addControl("cardUrls",e),this._formArray=e.controls.urls}},{key:"_setIndicesAndFillFormArray",value:function(){var t=this,n=e(Array(this.pairConfig.numPairs).keys());n.forEach(function(e){t._formArray.push(t._buildSubFormArray())}),this.indices=n}},{key:"_buildSubFormArray",value:function(){var e=this.fb.group({url:new m.e(null,m.r.required)});return this.pairConfig.singleImgPerPair||e.addControl("url2",new m.e(null,m.r.required)),e}},{key:"getSubForm",value:function(e){var t;return null===(t=this._formArray)||void 0===t?void 0:t.controls[e]}},{key:"getUrl",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return null===(t=this._cardImageMap[this._buildCardImageKey(e,n)])||void 0===t?void 0:t.base64}catch(i){return null}}},{key:"_buildCardImageKey",value:function(e,t){return"".concat(e).concat(t)}},{key:"onInsertUrl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._buildCardImageKey(t,n);this._cardImageMap[i]={base64:e,filename:"pair".concat(t+1,"_img").concat(n+1)},this._updateFormControl()}},{key:"deleteUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="url";1==t&&(n="url2"),this.getSubForm(e).get(n).reset();var i=this._buildCardImageKey(e,t);delete this._cardImageMap[i],this._updateFormControl()}},{key:"_updateFormControl",value:function(){var e=Object.values(this._cardImageMap);e.length!==this._numCardImages?this.form.get(this.controlName).setValue(null):this.form.get(this.controlName).setValue(e)}}]),t}()).\u0275fac=function(e){return new(e||xe)(b.Ob(m.d))},xe.\u0275cmp=b.Ib({type:xe,selectors:[["app-card-images-url-input"]],inputs:{form:"form",controlName:"controlName",pairConfig:"pairConfig"},features:[b.Bb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["showDoubleInput",""],[4,"ngFor","ngForOf"],[1,"d-flex-row"],[1,"flex-8"],["controlName","url",3,"label","form","onChange"],[1,"flex-4"],[3,"src","onDelete"],["class","d-flex-col",4,"ngFor","ngForOf"],[1,"d-flex-col"],[1,"mt-2","fst-italic"],["controlName","url",1,"flex-4",3,"label","form","onChange"],[1,"flex-2",3,"src","onDelete"],["controlName","url2",1,"flex-4",3,"label","form","onChange"]],template:function(e,t){1&e&&b.Ac(0,Oe,4,2,"div",0),2&e&&b.kc("ngIf",t.indices)},directives:[s.k,s.j,K,j],styles:[".d-flex-col[_ngcontent-%COMP%]{gap:1em}.flex-2[_ngcontent-%COMP%]{flex:2 0 0}.flex-4[_ngcontent-%COMP%]{flex:4 0 0}.flex-8[_ngcontent-%COMP%]{flex:8 0 0}"]}),xe);function Se(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",8),b.Pb(1,"app-input-number",9),b.Ub(2,"button",10),b.bc("click",function(){return b.sc(n),b.fc().addUrlPairs()}),b.Ub(3,"mat-icon"),b.Cc(4,"add"),b.Tb(),b.Cc(5," Adicionar links "),b.Tb(),b.Tb()}if(2&e){var i=b.fc();b.Db(1),b.kc("form",i.form)("min",i.MIN_NUM_PAIRS),b.Db(1),b.kc("disabled",i.disableAddUrlPairsBtn)}}function Fe(e,t){if(1&e&&b.Pb(0,"app-upload-image",11),2&e){var n=b.fc();b.kc("form",n.form)("selectAllDir",!0)}}function Me(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",12),b.Ub(1,"mat-icon"),b.Cc(2,"warning"),b.Tb(),b.Ub(3,"span"),b.Cc(4),b.Ub(5,"a",13),b.bc("click",function(){return b.sc(n),b.fc().openExample()}),b.Cc(6,"aqui"),b.Tb(),b.Cc(7,". "),b.Tb(),b.Tb()}if(2&e){var i=b.fc();b.Db(4),b.Ec("Envio de arquivos diferentes por par: ",i.warningMsgForDiffImagesPerPair," Veja um exemplo ")}}function qe(e,t){if(1&e&&(b.Ub(0,"div",0),b.Ub(1,"div",14),b.Pb(2,"app-card-images-url-input",15),b.Tb(),b.Tb()),2&e){var n=b.fc();b.Db(2),b.kc("form",n.form)("pairConfig",n.pairConfig)}}var Ee,Le=((Ee=function(){function e(t,n){u(this,e),this.gameService=t,this.dialogService=n,this.FILENAME_SEP=ue.a.upload.fileNameSeparator,this.IMAGE_SRC_TYPE=g,this.MIN_NUM_PAIRS=2,this.showFilePatternWarning=!1}return c(e,[{key:"ngOnInit",value:function(){this.form=this.parent.form}},{key:"cardImageSrcType",get:function(){var e,t;return(null===(t=null===(e=this.form)||void 0===e?void 0:e.get("cardImageSrcType"))||void 0===t?void 0:t.value)||null}},{key:"showCardImageUrlInputs",get:function(){return this.cardImageSrcType===g.URL&&!!this.pairConfig}},{key:"_singleImgPerPair",get:function(){return this.form.get("singleImgPerPair").value}},{key:"_numPairs",get:function(){var e,t;return null===(t=null===(e=this.form)||void 0===e?void 0:e.get("numPairs"))||void 0===t?void 0:t.value}},{key:"onChangeSingleImgPerPair",value:function(){this._setPairConfig(this._numPairs)}},{key:"onChangeCardImageSrcType",value:function(e){e===g.URL?this.form.addControl("numPairs",new m.e(null,[m.r.required,m.r.min(this.MIN_NUM_PAIRS)])):this.form.removeControl("numPairs"),this._setPairConfig(0)}},{key:"disableAddUrlPairsBtn",get:function(){var e,t,n;return null!==(n=null===(t=null===(e=this.form)||void 0===e?void 0:e.get("numPairs"))||void 0===t?void 0:t.invalid)&&void 0!==n&&n}},{key:"addUrlPairs",value:function(){var e=this._numPairs;e<this.MIN_NUM_PAIRS?this.pairConfig=null:this._setPairConfig(e)}},{key:"_setPairConfig",value:function(e){this.showFilePatternWarning=!1===this._singleImgPerPair&&this.cardImageSrcType===g.UPLOAD,this.pairConfig=this.cardImageSrcType&&e?new me(e,this._singleImgPerPair):null}},{key:"warningMsgForDiffImagesPerPair",get:function(){return this.gameService.warningMsgForDiffImagesPerPair}},{key:"openExample",value:function(){this.dialogService.openCustomDialog(de,80)}}]),e}()).\u0275fac=function(e){return new(e||Ee)(b.Ob(be.a),b.Ob(pe.a))},Ee.\u0275cmp=b.Ib({type:Ee,selectors:[["app-card-images-form"]],inputs:{parent:"parent"},decls:8,vars:8,consts:[[1,"form-line"],["label","Cada par possui imagens iguais?","controlName","singleImgPerPair",3,"form","onChange"],["controlName","cardImageSrcType",3,"form","multiple","onChange"],[3,"ngSwitch"],["class","num-pairs",4,"ngSwitchCase"],["label","Selecione a pasta que cont\xe9m as imagens das cartas","controlName","cardImages",3,"form","selectAllDir",4,"ngSwitchCase"],["class","file-warning",4,"ngIf"],["class","form-line",4,"ngIf"],[1,"num-pairs"],["label","N\xba de pares","labelComment","(ap\xf3s preencher, clique no bot\xe3o ao lado)","controlName","numPairs",3,"form","min"],["mat-stroked-button","","type","button","color","primary",3,"disabled","click"],["label","Selecione a pasta que cont\xe9m as imagens das cartas","controlName","cardImages",3,"form","selectAllDir"],[1,"file-warning"],[1,"example-link",3,"click"],[1,"form-item","mt-3"],["controlName","cardImages",3,"form","pairConfig"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"app-select-yes-no",1),b.bc("onChange",function(){return t.onChangeSingleImgPerPair()}),b.Tb(),b.Ub(2,"app-select-image-src-type",2),b.bc("onChange",function(e){return t.onChangeCardImageSrcType(e)}),b.Tb(),b.Ub(3,"div",3),b.Ac(4,Se,6,3,"div",4),b.Ac(5,Fe,1,2,"app-upload-image",5),b.Tb(),b.Tb(),b.Ac(6,Me,8,1,"div",6),b.Ac(7,qe,3,2,"div",7)),2&e&&(b.Db(1),b.kc("form",t.form),b.Db(1),b.kc("form",t.form)("multiple",!0),b.Db(1),b.kc("ngSwitch",t.cardImageSrcType),b.Db(1),b.kc("ngSwitchCase",t.IMAGE_SRC_TYPE.URL),b.Db(1),b.kc("ngSwitchCase",t.IMAGE_SRC_TYPE.UPLOAD),b.Db(1),b.kc("ngIf",t.showFilePatternWarning),b.Db(1),b.kc("ngIf",t.showCardImageUrlInputs))},directives:[ge,M,s.m,s.n,s.k,Pe,E.a,T.a,ne,Ne],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.d-flex-col[_ngcontent-%COMP%]{gap:1em}.num-pairs[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:flex-start}.num-pairs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1.5rem}.file-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background-color:#e89c12;color:#fff;padding:4px;border-radius:2px;max-width:-moz-max-content;max-width:max-content}.example-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}"]}),Ee),Re=r("YzOW"),Ve=function(){function e(){u(this,e)}return c(e,[{key:"numPairs",get:function(){var e=this.cardImages.length;return this.singleImgPerPair||(e/=2),e}}]),e}();function je(e,t){if(1&e&&(b.Ub(0,"div"),b.Ub(1,"form",4),b.Ub(2,"div",5),b.Pb(3,"app-select",6),b.Pb(4,"app-select-yes-no",7),b.Pb(5,"app-select",8),b.Tb(),b.Tb(),b.Tb()),2&e){var n=b.fc();b.Db(1),b.kc("formGroup",n.form),b.Db(2),b.kc("form",n.form)("options",n.options.cardId),b.Db(1),b.kc("form",n.form),b.Db(1),b.kc("form",n.form)("options",n.options.numPairs)}}function Be(e,t){if(1&e&&(b.Ub(0,"div",15),b.Pb(1,"app-background-image-form",16),b.Tb()),2&e){var n=b.fc(2);b.Db(1),b.kc("form",n.form)}}function Ge(e,t){if(1&e){var n=b.Vb();b.Ub(0,"form",4),b.Ub(1,"span",9),b.Cc(2,"Dados Principais"),b.Tb(),b.Ub(3,"div",5),b.Pb(4,"app-input-text",10),b.Pb(5,"app-select",11),b.Tb(),b.Pb(6,"mat-divider"),b.Ub(7,"span",9),b.Cc(8,"Imagem de Fundo"),b.Tb(),b.Ub(9,"div",5),b.Ub(10,"app-select-yes-no",12),b.bc("onChange",function(e){return b.sc(n),b.fc().onChangeAddBackgroundImg(e)}),b.Tb(),b.Ac(11,Be,2,1,"div",13),b.Tb(),b.Pb(12,"mat-divider"),b.Ub(13,"span",9),b.Cc(14,"Imagens das Cartas"),b.Tb(),b.Pb(15,"app-card-images-form",14),b.Tb()}if(2&e){var i=b.fc();b.kc("formGroup",i.form),b.Db(4),b.kc("form",i.form),b.Db(1),b.kc("form",i.form)("options",i.options.cardId),b.Db(5),b.kc("form",i.form),b.Db(1),b.kc("ngIf",i.flag.addBackgroundImg),b.Db(4),b.kc("parent",i)}}var $e,We,ze,Ke=((We=function(){function e(t,n,i){u(this,e),this.fb=t,this.gameService=n,this.toastService=i,this.ACCEPT_IMG=["image/png","image/jpeg"],this.options={},this.flag={}}return c(e,[{key:"ngOnInit",value:function(){this.flag={isDemo:this._isDemo},this._initForm(),this._setOptions()}},{key:"_isDemo",get:function(){return this.parent.isDemo}},{key:"_initForm",value:function(){this.form=this.fb.group({title:new m.e("Memory Game",m.r.required),cardIdType:new m.e(Re.a.NUMBERS,m.r.required),addBackgroundImg:new m.e(!1,m.r.required),backgroundImgSrc:new m.e(null),singleImgPerPair:new m.e(null,m.r.required),cardImageSrcType:new m.e(null,m.r.required),cardImages:new m.e(null,m.r.required)}),this._isDemo&&(this.form.addControl("numPairs",new m.e(null,m.r.required)),this.form.removeControl("addBackgroundImg"),this.form.removeControl("backgroundImgSrc"),this.form.removeControl("cardImageSrcType"),this.form.removeControl("cardImages"))}},{key:"_setOptions",value:function(){var e=this;this.options={cardId:this.gameService.getCardIpOptions()},this._isDemo&&(this.options.numPairs=[],[4,6,8,10].forEach(function(t){return e.options.numPairs.push({id:t,label:t})}))}},{key:"onChangeAddBackgroundImg",value:function(e){this.flag.addBackgroundImg=e,this.form.get("backgroundImgSrc").setValue(null)}},{key:"submit",value:function(){var e;if(this.form.markAllAsTouched(),this.form.invalid)return this.toastService.showInvalidFormError();var t=Object.assign({},this.form.value),n=new Ve;n.title=t.title,n.singleImgPerPair=t.singleImgPerPair,n.cardIdType=t.cardIdType,n.backgroundImgSrc=t.backgroundImgSrc,n.cardImages=null!==(e=t.cardImages)&&void 0!==e?e:[],this._isDemo&&this._setDemoCardImages(n,t.numPairs),this.gameService.create(n)}},{key:"_setDemoCardImages",value:function(e,t){for(var n="assets/images/demo-game-cards",i=1;i<=t;i++){var r="num".concat(i,"_draw.png");e.cardImages.push(new J("".concat(n,"/draw/").concat(r),r))}if(!e.singleImgPerPair)for(var o=1;o<=t;o++){var a="num".concat(o,"_word.png");e.cardImages.push(new J("".concat(n,"/words/").concat(a),a))}}}]),e}()).\u0275fac=function(e){return new(e||We)(b.Ob(m.d),b.Ob(be.a),b.Ob(Y.a))},We.\u0275cmp=b.Ib({type:We,selectors:[["app-game-builder-form"]],inputs:{parent:"parent"},decls:6,vars:3,consts:[[4,"ngIf","ngIfElse"],["showFullBuilderForm",""],[1,"mt-4","text-center"],["mat-raised-button","","type","submit","color","primary",3,"click"],[3,"formGroup"],[1,"form-line"],["label","Modo de identifica\xe7\xe3o das cartas","controlName","cardIdType",1,"form-item",3,"form","options"],["label","Cada par possui imagens iguais?","controlName","singleImgPerPair",1,"form-item",3,"form"],["label","N\xba de pares","controlName","numPairs",1,"form-item",3,"form","options"],[1,"subtitle","color-primary"],["label","T\xedtulo","controlName","title",1,"input-title",3,"form"],["label","Modo de identifica\xe7\xe3o das cartas","controlName","cardIdType",1,"input-card-id",3,"form","options"],["label","Inserir imagem de fundo?","controlName","addBackgroundImg",3,"form","onChange"],["class","form-item",4,"ngIf"],[3,"parent"],[1,"form-item"],["controlName","backgroundImgSrc",3,"form"]],template:function(e,t){if(1&e&&(b.Ac(0,je,6,6,"div",0),b.Ac(1,Ge,16,7,"ng-template",null,1,b.Bc),b.Ub(3,"div",2),b.Ub(4,"button",3),b.bc("click",function(){return t.submit()}),b.Cc(5),b.Tb(),b.Tb()),2&e){var n=b.qc(2);b.kc("ngIf",t.flag.isDemo)("ngIfElse",n),b.Db(5),b.Ec(" ",t.flag.isDemo?"Jogar":"Criar jogo"," ")}},styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.input-title[_ngcontent-%COMP%]{flex:8 0 0}.input-card-id[_ngcontent-%COMP%]{flex:4 0 0}.input-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.subtitle[_ngcontent-%COMP%]{font-size:16px}"]}),We),Qe=(($e=function(){function e(t){u(this,e),this.route=t,this.pageTitle="Monte o seu jogo"}return c(e,[{key:"ngOnInit",value:function(){var e,t=this;null===(e=this.route.data)||void 0===e||e.subscribe(function(e){var n;t._isDemo=null!==(n=e.demo)&&void 0!==n&&n,t._isDemo&&(t.pageTitle="Demo")})}},{key:"isDemo",get:function(){return this._isDemo}}]),e}()).\u0275fac=function(e){return new(e||$e)(b.Ob(f.a))},$e.\u0275cmp=b.Ib({type:$e,selectors:[["app-game-builder"]],decls:6,vars:2,consts:[[1,"color-primary"],[1,"main-instructions","mb-4"],[3,"parent"]],template:function(e,t){1&e&&(b.Ub(0,"h1",0),b.Cc(1),b.Tb(),b.Ub(2,"div",1),b.Ub(3,"mat-label"),b.Cc(4,"Preencha o formul\xe1rio abaixo com as informa\xe7\xf5es para o jogo:"),b.Tb(),b.Tb(),b.Pb(5,"app-game-builder-form",2)),2&e&&(b.Db(1),b.Dc(t.pageTitle),b.Db(4),b.kc("parent",t))},styles:["h1[_ngcontent-%COMP%]{font-family:Quicksand!important}.main-instructions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]}),$e),Je=r("f0Cb"),Ye=[{path:"",component:Qe},{path:"demo",component:Qe,data:{demo:!0}}],Xe=((ze=c(function e(){u(this,e)})).\u0275fac=function(e){return new(e||ze)},ze.\u0275mod=b.Mb({type:ze}),ze.\u0275inj=b.Lb({imports:[[s.c,f.c.forChild(Ye),d.a,m.q,m.i,p]]}),ze);b.vc(Qe,[C.f,Ke],[]),b.vc(Ke,[s.k,m.s,m.n,m.h,S,ge,K,Je.a,se,Le,E.a],[])}}])}();