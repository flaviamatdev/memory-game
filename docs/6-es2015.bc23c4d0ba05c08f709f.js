(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{S4pq:function(e,t,n){"use strict";n.r(t),n.d(t,"GameBuilderModule",function(){return tt});var i=n("ofXK"),a=n("3Pt+"),o=n("tyNb"),l=n("sYmb"),r=n("vvyD"),s=n("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({imports:[[i.c,a.q,a.i,r.a,l.b]]}),e})();var m=function(e){return e[e.UPLOAD=1]="UPLOAD",e[e.URL=2]="URL",e}({});class u{static setFormControlAsRequiredOrNot(e,t){t?this.setFormControlAsRequired(e):this.setFormControlAsNotRequired(e)}static setFormControlAsRequired(e){e.reset(),e.setValidators(a.r.required),e.updateValueAndValidity()}static setFormControlAsNotRequired(e){e.reset(),e.clearValidators(),e.updateValueAndValidity()}}var p=n("nAIU");const d=p.a.upload.fileNameSeparator,g={pt:"Baixar arquivo",en:"Download game file"},b={pageTitle:{gameBuilder:{pt:"Monte o seu jogo",en:"Create your game"},demoBuilder:{pt:"Jogo Demonstra\xe7\xe3o",en:"Demo Game"}},instruction:{pt:"Preencha o formul\xe1rio abaixo com as informa\xe7\xf5es para o jogo",en:"Fill out the form below with the information for the game"},uploadConfigFile:{checkboxLabel:{pt:"Prefiro enviar arquivo de configura\xe7\xe3o",en:"I prefer upload configuration file"},instruction:{pt:`(gerado ao clicar em "${g.pt}" no p\xe9 da p\xe1gina)`,en:`(generated by clicking "${g.en}" at page bottom)`}},sectionTitle:{mainData:{pt:"Dados Principais",en:"Main Data"},backgroundImg:{pt:"Imagem de Fundo",en:"Background image"},cardImages:{pt:"Imagens das Cartas",en:"Card Images"}},gameTitle:{demo:{pt:"Jogo da Mem\xf3ria (Demo)",en:"Demo Memory Game"}},input:{gameTitle:{pt:"T\xedtulo do jogo",en:"Game title"},singleImgPerPair:{pt:"Cada par possui imagens iguais?",en:"Does each pair have the same images?"},numPairs:{pt:"N\xba de pares",en:"Number of pairs"},cardIdType:{pt:"Como identificar as cartas",en:"How to identify the cards"},backgroundImg:{add:{pt:"Inserir imagem de fundo?",en:"Insert background image?"},url:{pt:"Link da imagem",en:"Image link"},upload:{pt:"Enviar arquivo",en:"Upload image file"}},cardImages:{pair:{pt:"Par n\xba ",en:"Pair #"},url:{pairImageLink:{pt:"Link da Imagem do Par ",en:"Image Link of Pair #"},diffImages:{pairImageLink1:{pt:"Link da Imagem 1 do Par ",en:"Image Link #1 of Pair #"},pairImageLink2:{pt:"Link da Imagem 2 do Par ",en:"Image Link #2 of Pair #"}}},upload:{pickDirPath:{pt:"Selecione a pasta que cont\xe9m as imagens das cartas",en:"Select the folder containing the card images"},diffImagesPerPair:{warning:{pt:`Envio de arquivos diferentes por par: os nomes dos arquivos referentes ao mesmo par devem ter o mesmo prefixo seguido de ${d} . Veja um exemplo `,en:`Sending different files per pair: file names referring to the same pair must have the same prefix followed by ${d}. See an example `},warningLink:{pt:"aqui",en:"here"}}}}},btn:{submit:{createGame:{pt:"Criar jogo",en:"Create game"},playDemo:{pt:"Jogar",en:"Play"}},download:{label:g,comment:{pt:"Para jogar depois",en:"For play later"}}},diffImagesPerPairDialog:{title:{pt:"Envio de arquivos diferentes por par",en:"Sending different files per pair"},instruction:{pt:"Exemplo de nome para arquivos de images para cada par",en:"Example name for image files for each pair"},pairName:{pt:"nome do par",en:"pair name"},imageId:{pt:"identificacao da imagem",en:"image identification"}}};let f=(()=>{class e{constructor(){this.flexDirectionRow=!1,this.disabled=!1,this.onChange=new s.o}_setOriginalRequired(){this._originalRequired=this.isRequired}checkForm(){this.form||(this.controlName="model",this.form=new a.g({model:new a.e}))}get formControl(){var e;return null===(e=this.form)||void 0===e?void 0:e.controls[this.controlName]}get isRequired(){var e;return(null===(e=this.formControl)||void 0===e?void 0:e.hasError("required"))||!1}get isInvalid(){return this.hasError("invalid")}hasError(e){let t=this.formControl;return!this.isRequired&&(t.invalid||t.hasError(e))}get inputClass(){return{"d-flex-row":this.flexDirectionRow,"d-flex-col":!this.flexDirectionRow}}get getSelectValue(){try{return this.formControl.value}catch(e){return null}}_setAsInvalid(){this._setFormControlAsInvalid(this.formControl)}_setFormControlAsInvalid(e){e.setErrors({invalid:!0}),e.markAsTouched()}_setAsValidByOriginalRequired(){this._originalRequired?this._setAsRequired():this._setAsValid()}_setAsValid(){this._setFormControlAsValid(this.formControl)}_setFormControlAsValid(e){e.setErrors(null),e.markAsTouched()}_setAsRequired(){this._setFormControlAsRequired(this.formControl)}_setFormControlAsRequired(e){e.setErrors({required:!0}),e.markAsTouched()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-abstract-input"]],inputs:{labelTranslate:"labelTranslate",label:"label",labelComment:"labelComment",form:"form",controlName:"controlName",flexDirectionRow:"flexDirectionRow",disabled:"disabled"},outputs:{onChange:"onChange"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var h=n("kmnG");function T(e,t){if(1&e&&(s.Ub(0,"span",4),s.Gc(1),s.Tb()),2&e){const e=s.fc(2);s.Db(1),s.Hc(e.comment)}}function I(e,t){if(1&e&&(s.Ub(0,"mat-label"),s.Gc(1),s.gc(2,"translate"),s.Ec(3,T,2,1,"span",2),s.Ub(4,"span",3),s.Gc(5),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Db(1),s.Ic(" ",s.ic(2,3,"TRANSLATION",e.labelTranslate)," "),s.Db(2),s.lc("ngIf",e.comment),s.Db(2),s.Ic(" ",e.required?"*":"","")}}function C(e,t){if(1&e&&(s.Ub(0,"span",4),s.Gc(1),s.Tb()),2&e){const e=s.fc(2);s.Db(1),s.Hc(e.comment)}}function N(e,t){if(1&e&&(s.Gc(0),s.Ec(1,C,2,1,"span",2),s.Ub(2,"span",3),s.Gc(3),s.Tb()),2&e){const e=s.fc();s.Ic(" ",e.label," "),s.Db(1),s.lc("ngIf",e.comment),s.Db(2),s.Ic(" ",e.required?"*":"","")}}let v=(()=>{class e{constructor(){this.required=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-input-label"]],inputs:{labelTranslate:"labelTranslate",label:"label",required:"required",comment:"comment"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showRegularLabel",""],["class","input-label-comment",4,"ngIf"],[1,"input-label-required"],[1,"input-label-comment"]],template:function(e,t){if(1&e&&(s.Ec(0,I,6,6,"mat-label",0),s.Ec(1,N,4,3,"ng-template",null,1,s.Fc)),2&e){const e=s.tc(2);s.lc("ngIf",t.labelTranslate)("ngIfElse",e)}},directives:[i.k,h.f],pipes:[l.c],styles:["mat-label[_ngcontent-%COMP%]{display:block}.input-label-required[_ngcontent-%COMP%]{color:red}.input-label-comment[_ngcontent-%COMP%]{color:grey;font-size:smaller}"]}),e})();var A=n("d3UM"),O=n("FKr1"),U=n("NFeN");const _=["allOption"];function P(e,t){if(1&e&&(s.Ub(0,"mat-option",9,10),s.Gc(2),s.Tb()),2&e){const e=s.fc();s.lc("value",e.ALL_OPTION),s.Db(2),s.Ic(" ",e.allOptionLabel," ")}}function w(e,t){if(1&e&&(s.Ub(0,"mat-option",12),s.Gc(1),s.gc(2,"translate"),s.Tb()),2&e){const e=t.$implicit,n=s.fc(2);s.lc("value",n.getOptionValue(e))("disabled",n.multiple&&n.allOptionSelected),s.Db(1),s.Ic(" ",s.ic(2,3,"TRANSLATION",e[n.labelAttribute])," ")}}function D(e,t){if(1&e&&(s.Ub(0,"div"),s.Ec(1,w,3,6,"mat-option",11),s.Tb()),2&e){const e=s.fc();s.Db(1),s.lc("ngForOf",e.optionsTranslate)}}function S(e,t){if(1&e&&(s.Ub(0,"mat-option",12),s.Gc(1),s.Tb()),2&e){const e=t.$implicit,n=s.fc(2);s.lc("value",n.getOptionValue(e))("disabled",n.multiple&&n.allOptionSelected),s.Db(1),s.Ic(" ",e[n.labelAttribute]," ")}}function y(e,t){if(1&e&&s.Ec(0,S,2,3,"mat-option",11),2&e){const e=s.fc();s.lc("ngForOf",e.options)}}function L(e,t){1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",13),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e&&(s.Db(4),s.Hc(s.hc(5,1,"FORM_INPUT.REQUIRED")))}function R(e,t){if(1&e&&(s.Ub(0,"div",14),s.Ub(1,"mat-icon",13),s.Gc(2,"cancel"),s.Tb(),s.Gc(3),s.Tb()),2&e){const e=s.fc();s.Db(3),s.Ic(" Erro ao buscar op\xe7\xf5es para ",e.label,"\n")}}let F=(()=>{class e extends f{constructor(){super(...arguments),this.ALL_OPTION="all",this.options=[],this.optionsTranslate=[],this.valueAttribute="id",this.labelAttribute="label",this.multiple=!1,this.useFullOptionAsValue=!1,this.onFinishedLoading=new s.o,this.showLoadingOptionsError=!1,this._allSelected=!1}ngOnInit(){this.showLoadingOptionsError=!1,this.checkForm()}ngOnChanges(e){e.options&&null==e.options.currentValue&&(this.showLoadingOptionsError=!0)}getOptionValue(e){return this.useFullOptionAsValue?e:e[this.valueAttribute]}onChangeSelection(e){this.allOptionLabel&&this.multiple&&this._onChangeSelectionMultiple(e),this.onChange.emit(e)}_onChangeSelectionMultiple(e){if(this._allSelected)return this.formControl.setValue([]),void(this._allSelected=!1);this._allSelected=e.includes(this.ALL_OPTION)||e.length==this.options.length,this._allSelected&&this.formControl.setValue(this.options.map(e=>e[this.valueAttribute]))}get allOptionSelected(){var e;return(null===(e=this._allOption)||void 0===e?void 0:e.selected)||!1}}return e.\u0275fac=function(t){return x(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-select"]],viewQuery:function(e,t){if(1&e&&s.Kc(_,1),2&e){let e;s.sc(e=s.cc())&&(t._allOption=e.first)}},inputs:{options:"options",optionsTranslate:"optionsTranslate",valueAttribute:"valueAttribute",labelAttribute:"labelAttribute",multiple:"multiple",allOptionLabel:"allOptionLabel",useFullOptionAsValue:"useFullOptionAsValue"},outputs:{onFinishedLoading:"onFinishedLoading"},features:[s.Ab,s.Bb],decls:10,vars:13,consts:[[3,"id","ngClass"],[3,"label","labelTranslate","comment","required"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],[3,"formControl","multiple","selectionChange"],[3,"value",4,"ngIf"],[4,"ngIf","ngIfElse"],["showRegularOptions",""],[4,"ngIf"],["class","loading-options-error",4,"ngIf"],[3,"value"],["allOption",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["aria-label","false"],[1,"loading-options-error"]],template:function(e,t){if(1&e&&(s.Ub(0,"div",0),s.Pb(1,"app-input-label",1),s.Ub(2,"mat-form-field",2),s.Ub(3,"mat-select",3),s.bc("selectionChange",function(e){return t.onChangeSelection(e.value)}),s.Ec(4,P,3,2,"mat-option",4),s.Ec(5,D,2,1,"div",5),s.Ec(6,y,1,1,"ng-template",null,6,s.Fc),s.Tb(),s.Ec(8,L,6,3,"mat-error",7),s.Tb(),s.Tb(),s.Ec(9,R,4,1,"div",8)),2&e){const e=s.tc(7);s.nc("id","",t.controlName,"-div"),s.lc("ngClass",t.inputClass),s.Db(1),s.lc("label",t.label)("labelTranslate",t.labelTranslate)("comment",t.labelComment)("required",t.isRequired),s.Db(2),s.lc("formControl",t.formControl)("multiple",t.multiple),s.Db(1),s.lc("ngIf",t.allOptionLabel),s.Db(1),s.lc("ngIf",null==t.optionsTranslate?null:t.optionsTranslate.length)("ngIfElse",e),s.Db(3),s.lc("ngIf",t.isRequired),s.Db(1),s.lc("ngIf",t.showLoadingOptionsError)}},directives:[i.i,v,h.c,A.a,a.m,a.f,i.k,O.m,i.j,h.b,U.a],pipes:[l.c],styles:[".loading-options-error[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;-moz-column-gap:.5em;column-gap:.5em;color:red;font-size:smaller;font-style:italic;margin-bottom:4px}.loading-options-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}",".d-flex-col[_ngcontent-%COMP%]{gap:0}"]}),e})();const x=s.Wb(F),E={nonMultiple:{input:{pt:"Como deseja inserir a imagem?",en:"How do you want to insert the image?"},options:{url:{pt:"Link da imagem",en:"Image link"},upload:{pt:"Enviar arquivo",en:"Upload image file"}}},multiple:{input:{pt:"Como deseja inserir as imagens?",en:"How do you want to insert the images?"},options:{url:{pt:"Link das imagens",en:"Image links"},upload:{pt:"Enviar arquivos",en:"Upload image files"}}}};let M=(()=>{class e extends F{constructor(){super(...arguments),this.TRANSLATION=E}ngOnInit(){let e=this.multiple?this.TRANSLATION.multiple:this.TRANSLATION.nonMultiple;this.labelTranslate=e.input,this.options=[{id:m.UPLOAD,label:e.options.upload},{id:m.URL,label:e.options.url}]}onChangeSelection(e){this.onChange.emit(e)}}return e.\u0275fac=function(t){return k(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-select-image-src-type"]],features:[s.Ab],decls:1,vars:4,consts:[[3,"labelTranslate","form","controlName","optionsTranslate","onChange"]],template:function(e,t){1&e&&(s.Ub(0,"app-select",0),s.bc("onChange",function(e){return t.onChangeSelection(e)}),s.Tb()),2&e&&s.lc("labelTranslate",t.labelTranslate)("form",t.form)("controlName",t.controlName)("optionsTranslate",t.options)},directives:[F],styles:[""]}),e})();const k=s.Wb(M);var q=n("bTqV"),G=n("Qu3c");function V(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",1),s.Pb(1,"img",2),s.Ub(2,"div",3),s.Ub(3,"button",4),s.bc("click",function(){return s.wc(e),s.fc().deleteFile()}),s.gc(4,"translate"),s.Ub(5,"mat-icon"),s.Gc(6,"delete"),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(1),s.lc("src",e.src,s.yc),s.Db(2),s.mc("matTooltip",s.hc(4,2,"DELETE_IMAGE"))}}let j=(()=>{class e{constructor(){this.onDelete=new s.o}deleteFile(){this.src=null,this.onDelete.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-image-preview"]],inputs:{src:"src"},outputs:{onDelete:"onDelete"},decls:1,vars:1,consts:[["class","form-line",4,"ngIf"],[1,"form-line"],["alt","Image",3,"src"],[1,"delete-btn"],["mat-icon-button","","mat-stroked-button","","type","button","color","accent",3,"matTooltip","click"]],template:function(e,t){1&e&&s.Ec(0,V,7,4,"div",0),2&e&&s.lc("ngIf",t.src)},directives:[i.k,q.a,G.a,U.a],pipes:[l.c],styles:[".form-line[_ngcontent-%COMP%]{align-items:center}img[_ngcontent-%COMP%]{width:50px;height:auto}.delete-btn[_ngcontent-%COMP%]{margin-top:.75rem}"]}),e})();var $=n("qFsG");function B(e,t){1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",5),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e&&(s.Db(4),s.Hc(s.hc(5,1,"FORM_INPUT.REQUIRED")))}function H(e,t){1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",5),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e&&(s.Db(4),s.Hc(s.hc(5,1,"FORM_INPUT.INVALID")))}const K=function(e){return{minLength:e}};function z(e,t){if(1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",5),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Db(4),s.Hc(s.ic(5,1,"FORM_INPUT.MIN_LENGTH",s.qc(4,K,e.minLength)))}}let W=(()=>{class e extends f{constructor(){super(...arguments),this.placeholder="",this.maxLength=100,this.title=""}clear(){this.formControl.setValue(null)}sendChangeEvent(e){(null==e?void 0:e.target)&&this.onChange.emit(e.target.value)}_eventTypeDeleteContent(e){return"deleteContentBackward"===(null==e?void 0:e.inputType)}}return e.\u0275fac=function(t){return Q(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-input-text"]],inputs:{placeholder:"placeholder",minLength:"minLength",maxLength:"maxLength",title:"title"},features:[s.Ab],decls:7,vars:17,consts:[[3,"id","ngClass"],[3,"label","labelTranslate","comment","required"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],["matInput","","type","text",3,"formControl","id","name","minLength","maxLength","title","placeholder","readonly","change"],[4,"ngIf"],["aria-label","false"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Pb(1,"app-input-label",1),s.Ub(2,"mat-form-field",2),s.Ub(3,"input",3),s.bc("change",function(e){return t.sendChangeEvent(e)}),s.Tb(),s.Ec(4,B,6,3,"mat-error",4),s.Ec(5,H,6,3,"mat-error",4),s.Ec(6,z,6,6,"mat-error",4),s.Tb(),s.Tb()),2&e&&(s.nc("id","",t.controlName,"-div"),s.lc("ngClass",t.inputClass),s.Db(1),s.lc("label",t.label)("labelTranslate",t.labelTranslate)("comment",t.labelComment)("required",t.isRequired),s.Db(2),s.lc("formControl",t.formControl)("id",t.controlName)("name",t.controlName)("minLength",t.minLength)("maxLength",t.maxLength)("title",t.title)("placeholder",t.placeholder)("readonly",t.disabled),s.Db(1),s.lc("ngIf",t.isRequired),s.Db(1),s.lc("ngIf",t.isInvalid),s.Db(1),s.lc("ngIf",t.minLength&&t.hasError("minLength")))},directives:[i.i,v,h.c,$.b,a.c,a.m,a.f,i.k,h.b,U.a],pipes:[l.c],styles:["",".d-flex-col[_ngcontent-%COMP%]{gap:0}"]}),e})();const Q=s.Wb(W);var J=n("wufY");const Y={noFileChosen:{pt:"Nenhum arquivo escolhido",en:"No file chosen"},fileType:{regular:{pt:"arquivo",en:"file"},image:{pt:"imagem",en:"image"}},nonMultiple:{btn:{pt:"Escolher arquivo",en:"Choose file"},acceptErrorMsg:{pt:"O arquivo selecionado est\xe1 fora dos formatos de {{ fileType }} aceitos: {{ accept }}. Tente novamente!",en:"The selected file is outside the supported {{ fileType }} formats: {{ accept }}. Try again!"}},multiple:{btn:{pt:"Escolher arquivos",en:"Choose files"},acceptErrorMsg:{pt:"Pelo menos 1 arquivo da pasta selecionada est\xe1 fora dos formatos de {{ fileType }} aceitos: {{ accept }}. Tente novamente!",en:"At least 1 file in the selected folder is outside the accepted {{ fileType }} formats: {{ accept }}. Try again!"},chosenFilesMsg:{pt:"arquivo(s)",en:"file(s)"}}};var X=n("2g2N"),Z=n("AgV0");const ee=["uploadInput"];function te(e,t){if(1&e&&s.Pb(0,"app-input-label",7),2&e){const e=s.fc();s.lc("label",e.label)("labelTranslate",e.labelTranslate)("comment",e.labelComment)("required",e.isRequired)}}function ne(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div"),s.Ub(1,"input",8,9),s.bc("change",function(t){return s.wc(e),s.fc().onSelectFiles(t)}),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(1),s.lc("accept",e.accept)}}function ie(e,t){if(1&e){const e=s.Vb();s.Ub(0,"input",10,9),s.bc("change",function(t){return s.wc(e),s.fc().onSelectFiles(t)}),s.Tb()}if(2&e){const e=s.fc();s.lc("accept",e.accept)("multiple",e.multiple)}}function ae(e,t){if(1&e&&(s.Ub(0,"div"),s.Gc(1),s.gc(2,"translate"),s.Tb()),2&e){const e=s.fc();s.Db(1),s.Ic(" ",s.ic(2,1,"TRANSLATION",e.TRANSLATION.noFileChosen)," ")}}function oe(e,t){if(1&e&&(s.Ub(0,"span"),s.Gc(1),s.Tb()),2&e){const e=s.fc(2);s.Db(1),s.Hc(e.singleChosedFileName)}}function le(e,t){if(1&e&&(s.Ub(0,"span"),s.Gc(1),s.gc(2,"translate"),s.Tb()),2&e){const e=s.fc(2);s.Db(1),s.Jc(" ",e.numFiles," ",s.ic(2,2,"TRANSLATION",e.TRANSLATION.multiple.chosenFilesMsg)," ")}}function re(e,t){if(1&e&&(s.Ub(0,"div",11),s.Ec(1,oe,2,1,"span",12),s.Ec(2,le,3,5,"span",12),s.Tb()),2&e){const e=s.fc();s.lc("ngSwitch",e.multiple),s.Db(1),s.lc("ngSwitchCase",!1),s.Db(1),s.lc("ngSwitchCase",!0)}}let se=(()=>{class e extends f{constructor(e,t){super(),this.toastService=e,this.translationService=t,this.TRANSLATION=Y,this.isImage=!1,this.multiple=!1,this.selectAllDir=!1,this.onClearInput=new s.o,this.onUpload=new s.o,this.accept=["application/json"],this._numFiles=0,this._fileTypeTranslationParamKey="regular"}get numFiles(){return this._numFiles}ngOnInit(){this.multiple=this.multiple||this.selectAllDir,this.btnTranslation=this.multiple?this.TRANSLATION.multiple.btn:this.TRANSLATION.nonMultiple.btn,this.isImage&&(this.accept=J.a.ACCEPT_IMG,this._fileTypeTranslationParamKey="image")}reset(){var e;this._fileUploads=[],this._clearInput(),null===(e=this.formControl)||void 0===e||e.reset(),this.singleChosedFileName=null}_clearInput(){this._numFiles=0,this._inputElem.nativeElement.value=""}openInputFile(){this._inputElem.nativeElement.click()}onSelectFiles(e){var t;this._fileUploads=[];let n=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.files;if(!(null==n?void 0:n.length)||null==n.item(0))return this._clearInput(),void this.onClearInput.emit();let{files:i,allOk:a}=this._extractFiles(n);if(!a)return this._clearInput(),void this._showOutAcceptErrorMsg();i.forEach(e=>this._readFile(e))}_extractFiles(e){var t;this._numFiles=null!==(t=e.length)&&void 0!==t?t:0;let n=[],i=!0,a=0;do{let t=e.item(a++);n.push(t),i=i&&(!this.accept||this.accept.includes(t.type))}while(i&&a<this._numFiles);return{files:n,allOk:i}}_showOutAcceptErrorMsg(){let e=this.accept.map(e=>`.${e.split("/")[1]}`).join(", "),t=this.translationService.getTranslationObj(this.TRANSLATION.fileType[this._fileTypeTranslationParamKey]),n=this.translationService.getTranslationObj(this.multiple?this.TRANSLATION.multiple.acceptErrorMsg:this.TRANSLATION.nonMultiple.acceptErrorMsg,{fileType:t,accept:e});this.toastService.error(n,7e3)}_readFile(e){const t=new FileReader;t.onload=t=>{this._fileUploads.push(new J.a(t.target.result,e.name)),this._fileUploads.length==this._numFiles&&this._finishReadFiles()},t.readAsDataURL(e)}_finishReadFiles(){var e;null===(e=this.formControl)||void 0===e||e.setValue(this._fileUploads),this.singleChosedFileName=this._fileUploads[0].filename,this.onUpload.emit(this._fileUploads)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(X.a),s.Ob(Z.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-upload"]],viewQuery:function(e,t){if(1&e&&s.Kc(ee,1),2&e){let e;s.sc(e=s.cc())&&(t._inputElem=e.first)}},inputs:{isImage:"isImage",multiple:"multiple",selectAllDir:"selectAllDir"},outputs:{onClearInput:"onClearInput",onUpload:"onUpload"},features:[s.Ab],decls:14,vars:9,consts:[[1,"input-file"],[3,"label","labelTranslate","comment","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["regularInput",""],[1,"d-flex-row"],["mat-raised-button","","type","button","color","primary",3,"click"],["showChosenFiles",""],[3,"label","labelTranslate","comment","required"],["type","file","hidden","","multiple","","webkitdirectory","",3,"accept","change"],["uploadInput",""],["type","file","hidden","",3,"accept","multiple","change"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){if(1&e&&(s.Ub(0,"div",0),s.Ec(1,te,1,4,"app-input-label",1),s.Ec(2,ne,3,1,"div",2),s.Ec(3,ie,2,2,"ng-template",null,3,s.Fc),s.Ub(5,"div",4),s.Ub(6,"button",5),s.bc("click",function(){return t.openInputFile()}),s.Ub(7,"mat-icon"),s.Gc(8,"upload"),s.Tb(),s.Gc(9),s.gc(10,"translate"),s.Tb(),s.Ec(11,ae,3,4,"div",2),s.Ec(12,re,3,3,"ng-template",null,6,s.Fc),s.Tb(),s.Tb()),2&e){const e=s.tc(4),n=s.tc(13);s.Db(1),s.lc("ngIf",t.label||t.labelTranslate),s.Db(1),s.lc("ngIf",t.selectAllDir)("ngIfElse",e),s.Db(7),s.Ic(" ",s.ic(10,6,"TRANSLATION",t.btnTranslation)," "),s.Db(2),s.lc("ngIf",0==t.numFiles)("ngIfElse",n)}},directives:[i.k,q.a,U.a,v,i.m,i.n],pipes:[l.c],styles:[".input-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.d-flex-row[_ngcontent-%COMP%]{gap:.25rem}",".d-flex-col[_ngcontent-%COMP%]{gap:0}"]}),e})();const ce=["upload"];function me(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div"),s.Ub(1,"app-input-text",7),s.bc("onChange",function(t){return s.wc(e),s.fc().onInsertUrl(t)}),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(1),s.lc("labelTranslate",e.TRANSLATION.url)("form",e.form)("controlName",e.myControlName.url)}}function ue(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div"),s.Ub(1,"app-upload",8,9),s.bc("onClearInput",function(){return s.wc(e),s.fc().deleteFile()}),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(1),s.lc("isImage",!0)("labelTranslate",e.TRANSLATION.upload)("form",e.form)("controlName",e.myControlName.upload)}}let pe=(()=>{class e{constructor(){this.TRANSLATION=b.input.backgroundImg,this.myControlName={}}ngOnInit(){this.myControlName={srcType:`${this.controlName}SrcType`,url:`${this.controlName}Url`,upload:`${this.controlName}Upload`},this.form.addControl(this.myControlName.srcType,new a.e(null,a.r.required)),this.form.addControl(this.myControlName.url,new a.e),this.form.addControl(this.myControlName.upload,new a.e),this.form.get(this.myControlName.upload).valueChanges.subscribe(e=>this._onUpload(e))}ngOnDestroy(){Object.values(this.myControlName).forEach(e=>this.form.removeControl(e))}onChooseInputType(e){this.isUrl=e==m.URL,this.imgPreview=null,this.form.get(this.controlName).setValue(null),this.isUrl?(this._setFormControlAsRequired(this.myControlName.url),this._setFormControlAsNotRequired(this.myControlName.upload)):(this._setFormControlAsRequired(this.myControlName.upload),this._setFormControlAsNotRequired(this.myControlName.url))}_setFormControlAsRequired(e){u.setFormControlAsRequired(this.form.get(e))}_setFormControlAsNotRequired(e){u.setFormControlAsNotRequired(this.form.get(e))}_onUpload(e){this._setImage((null==e?void 0:e.length)?e[0].src:null)}onInsertUrl(e){let t=e;e||(t=null),this._setImage(t)}_setImage(e){this.imgPreview=e,this.form.get(this.controlName).setValue(e)}deleteFile(){var e;[this.myControlName.url,this.myControlName.upload].forEach(e=>this.form.get(e).setValue(null)),this._setImage(null),null===(e=this._uploadChild)||void 0===e||e.reset()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-background-image-form"]],viewQuery:function(e,t){if(1&e&&s.Kc(ce,1),2&e){let e;s.sc(e=s.cc())&&(t._uploadChild=e.first)}},inputs:{form:"form",controlName:"controlName"},decls:8,vars:7,consts:[[1,"input-image"],[3,"form","controlName","onChange"],[1,"form-item"],[1,"input-preview"],[3,"ngSwitch","ngClass"],[4,"ngSwitchCase"],[3,"src","onDelete"],[3,"labelTranslate","form","controlName","onChange"],[3,"isImage","labelTranslate","form","controlName","onClearInput"],["upload",""]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"app-select-image-src-type",1),s.bc("onChange",function(e){return t.onChooseInputType(e)}),s.Tb(),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"div",4),s.Ec(5,me,2,3,"div",5),s.Ec(6,ue,3,4,"div",5),s.Tb(),s.Ub(7,"app-image-preview",6),s.bc("onDelete",function(){return t.deleteFile()}),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Db(1),s.lc("form",t.form)("controlName",t.myControlName.srcType),s.Db(3),s.lc("ngSwitch",t.isUrl)("ngClass",t.isUrl?"form-item":""),s.Db(1),s.lc("ngSwitchCase",!0),s.Db(1),s.lc("ngSwitchCase",!1),s.Db(1),s.lc("src",t.imgPreview))},directives:[M,i.m,i.i,i.n,j,W,se],styles:[".input-image[_ngcontent-%COMP%]{gap:1rem;align-items:flex-start}.input-image[_ngcontent-%COMP%], .input-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.input-preview[_ngcontent-%COMP%]{gap:.5rem;align-items:center}.img-preview[_ngcontent-%COMP%]{width:50px;height:auto}.delete-btn[_ngcontent-%COMP%]{margin-top:.75rem}"]}),e})();var de=n("R0Ic"),ge=n("0IaG");let be=(()=>{class e{constructor(){this.TRANSLATION=b.diffImagesPerPairDialog,this.SEP=p.a.upload.fileNameSeparator}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-card-image-filename-example-dialog"]],decls:22,vars:20,consts:[[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close","","id","modal-close-btn",3,"matTooltip"],["mat-dialog-content",""],[1,"image-cont"],["src","assets/images/upload_diff_images_per_pair_example.png","alt","Image"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div"),s.Gc(3),s.gc(4,"translate"),s.Tb(),s.Ub(5,"button",2),s.gc(6,"translate"),s.Ub(7,"mat-icon"),s.Gc(8,"close"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"div",3),s.Ub(10,"div"),s.Gc(11),s.gc(12,"translate"),s.Ub(13,"i"),s.Gc(14),s.gc(15,"translate"),s.Tb(),s.Gc(16),s.Ub(17,"i"),s.Gc(18),s.gc(19,"translate"),s.Tb(),s.Tb(),s.Ub(20,"div",4),s.Pb(21,"img",5),s.Tb(),s.Tb()),2&e&&(s.Db(3),s.Hc(s.ic(4,6,"TRANSLATION",t.TRANSLATION.title)),s.Db(2),s.mc("matTooltip",s.hc(6,9,"CLOSE")),s.Db(6),s.Ic(" ",s.ic(12,11,"TRANSLATION",t.TRANSLATION.instruction),": "),s.Db(3),s.Ic("[",s.ic(15,14,"TRANSLATION",t.TRANSLATION.pairName),"]"),s.Db(2),s.Ic(" ",t.SEP," "),s.Db(2),s.Ic("[",s.ic(19,17,"TRANSLATION",t.TRANSLATION.imageId),"]"))},directives:[ge.g,q.a,ge.d,G.a,U.a,ge.e],pipes:[l.c],styles:[".mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.mat-dialog-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.mat-dialog-content[_ngcontent-%COMP%], .mat-dialog-content[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center}.mat-dialog-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;max-width:80%}"]}),e})();class fe{constructor(e,t){this.numPairs=e,this.singleImgPerPair=t}get numCards(){return this.numPairs*(this.singleImgPerPair?1:2)}}var he=n("CzQJ");let Te=(()=>{class e extends F{ngOnInit(){this.options=[{id:!0,label:{pt:"Sim",en:"Yes"}},{id:!1,label:{pt:"N\xe3o",en:"No"}}]}}return e.\u0275fac=function(t){return Ie(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-select-yes-no"]],features:[s.Ab],decls:1,vars:5,consts:[[3,"label","labelTranslate","form","controlName","optionsTranslate","onChange"]],template:function(e,t){1&e&&(s.Ub(0,"app-select",0),s.bc("onChange",function(e){return t.onChangeSelection(e)}),s.Tb()),2&e&&s.lc("label",t.label)("labelTranslate",t.labelTranslate)("form",t.form)("controlName",t.controlName)("optionsTranslate",t.options)},directives:[F],encapsulation:2}),e})();const Ie=s.Wb(Te);function Ce(e,t){if(1&e&&s.Pb(0,"app-input-label",5),2&e){const e=s.fc();s.lc("label",e.label)("labelTranslate",e.labelTranslate)("comment",e.labelComment)("required",e.isRequired)}}function Ne(e,t){1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",6),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e&&(s.Db(4),s.Hc(s.hc(5,1,"FORM_INPUT.REQUIRED")))}const ve=function(e){return{min:e}};function Ae(e,t){if(1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",6),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Db(4),s.Hc(s.ic(5,1,"FORM_INPUT.MIN_VALUE",s.qc(4,ve,e.min)))}}const Oe=function(e){return{max:e}};function Ue(e,t){if(1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",6),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Db(4),s.Hc(s.ic(5,1,"FORM_INPUT.MAX_VALUE",s.qc(4,Oe,e.max)))}}function _e(e,t){1&e&&(s.Ub(0,"mat-error"),s.Ub(1,"mat-icon",7),s.Gc(2,"cancel"),s.Tb(),s.Ub(3,"strong"),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Tb()),2&e&&(s.Db(4),s.Hc(s.hc(5,1,"FORM_INPUT.INVALID")))}let Pe=(()=>{class e extends f{constructor(){super(...arguments),this.min=null,this.max=null}sendValueChange(e){var t;let n=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.valueAsNumber;isNaN(n)&&(n=null),this.onChange.emit(n)}}return e.\u0275fac=function(t){return we(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-input-number"]],inputs:{min:"min",max:"max"},features:[s.Ab],decls:8,vars:10,consts:[[3,"id","ngClass"],[3,"label","labelTranslate","comment","required",4,"ngIf"],["appearance","outline","floatLabel","never","color","primary",1,"w-100","mat-form-field-label-out"],["matInput","","type","number",3,"formControl","min","max","change"],[4,"ngIf"],[3,"label","labelTranslate","comment","required"],["aria-hidden","false"],["aria-label","false"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ec(1,Ce,1,4,"app-input-label",1),s.Ub(2,"mat-form-field",2),s.Ub(3,"input",3),s.bc("change",function(e){return t.sendValueChange(e)}),s.Tb(),s.Ec(4,Ne,6,3,"mat-error",4),s.Ec(5,Ae,6,6,"mat-error",4),s.Ec(6,Ue,6,6,"mat-error",4),s.Ec(7,_e,6,3,"mat-error",4),s.Tb(),s.Tb()),2&e&&(s.nc("id","",t.controlName,"-div"),s.lc("ngClass",t.inputClass),s.Db(1),s.lc("ngIf",t.label||t.labelTranslate),s.Db(2),s.lc("formControl",t.formControl)("min",t.min)("max",t.max),s.Db(1),s.lc("ngIf",t.isRequired),s.Db(1),s.lc("ngIf",null!=t.min&&t.formControl.hasError("min")),s.Db(1),s.lc("ngIf",null!=t.max&&t.formControl.hasError("max")),s.Db(1),s.lc("ngIf",null==t.min&&null==t.max&&t.isInvalid))},directives:[i.i,i.k,h.c,$.b,a.p,a.c,a.m,a.f,v,h.b,U.a],pipes:[l.c],styles:["",".d-flex-col[_ngcontent-%COMP%]{gap:0}"]}),e})();const we=s.Wb(Pe);function De(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",4),s.Ub(2,"div",5),s.Ub(3,"app-input-text",6),s.bc("onChange",function(n){s.wc(e);const i=t.$implicit;return s.fc(3).onInsertUrl(n,i)}),s.gc(4,"translate"),s.Tb(),s.Tb(),s.Ub(5,"div",7),s.Ub(6,"app-image-preview",8),s.bc("onDelete",function(){s.wc(e);const n=t.$implicit;return s.fc(3).deleteUrl(n)}),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,n=s.fc(3);s.Db(3),s.oc("label","",s.ic(4,4,"TRANSLATION",n.TRANSLATION.url.pairImageLink),"",e+1,""),s.lc("form",n.getSubForm(e)),s.Db(3),s.lc("src",n.getUrl(e))}}function Se(e,t){if(1&e&&(s.Ub(0,"div"),s.Ec(1,De,7,7,"div",3),s.Tb()),2&e){const e=s.fc(2);s.Db(1),s.lc("ngForOf",e.indices)}}function ye(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",10),s.Ub(1,"div",11),s.Gc(2),s.gc(3,"translate"),s.Tb(),s.Ub(4,"div",4),s.Ub(5,"app-input-text",12),s.bc("onChange",function(n){s.wc(e);const i=t.$implicit;return s.fc(3).onInsertUrl(n,i)}),s.gc(6,"translate"),s.Tb(),s.Ub(7,"app-image-preview",13),s.bc("onDelete",function(){s.wc(e);const n=t.$implicit;return s.fc(3).deleteUrl(n)}),s.Tb(),s.Ub(8,"app-input-text",14),s.bc("onChange",function(n){s.wc(e);const i=t.$implicit;return s.fc(3).onInsertUrl(n,i,1)}),s.gc(9,"translate"),s.Tb(),s.Ub(10,"app-image-preview",13),s.bc("onDelete",function(){s.wc(e);const n=t.$implicit;return s.fc(3).deleteUrl(n,1)}),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,n=s.fc(3);s.Db(2),s.Jc("",s.ic(3,10,"TRANSLATION",n.TRANSLATION.pair),"",e+1,""),s.Db(3),s.oc("label","",s.ic(6,13,"TRANSLATION",n.TRANSLATION.url.diffImages.pairImageLink1),"",e+1,""),s.lc("form",n.getSubForm(e)),s.Db(2),s.lc("src",n.getUrl(e)),s.Db(1),s.oc("label","",s.ic(9,16,"TRANSLATION",n.TRANSLATION.url.diffImages.pairImageLink2),"",e+1,""),s.lc("form",n.getSubForm(e)),s.Db(2),s.lc("src",n.getUrl(e,1))}}function Le(e,t){if(1&e&&s.Ec(0,ye,11,19,"div",9),2&e){const e=s.fc(2);s.lc("ngForOf",e.indices)}}function Re(e,t){if(1&e&&(s.Ub(0,"div"),s.Ec(1,Se,2,1,"div",1),s.Ec(2,Le,1,1,"ng-template",null,2,s.Fc),s.Tb()),2&e){const e=s.tc(3),t=s.fc();s.Db(1),s.lc("ngIf",t.urlPairConfig.singleImgPerPair)("ngIfElse",e)}}let Fe=(()=>{class e{constructor(e){this.fb=e,this.TRANSLATION=b.input.cardImages,this._cardImageMap={}}ngOnInit(){this._init()}ngOnDestroy(){this.form.removeControl("cardUrls")}ngOnChanges(e){e.urlPairConfig&&!e.urlPairConfig.firstChange&&this._init()}_init(){this._cardImageMap={},this._numCardImages=this.urlPairConfig.numCards,this._initFormArray(),this._setIndicesAndFillFormArray()}_initFormArray(){let e=this.fb.group({urls:this.fb.array([])});this.form.addControl("cardUrls",e),this._formArray=e.controls.urls}_setIndicesAndFillFormArray(){let e=[...Array(this.urlPairConfig.numPairs).keys()];e.forEach(e=>{this._formArray.push(this._buildSubFormArray())}),this.indices=e}_buildSubFormArray(){let e=this.fb.group({url:new a.e(null,a.r.required)});return this.urlPairConfig.singleImgPerPair||e.addControl("url2",new a.e(null,a.r.required)),e}getSubForm(e){var t;return null===(t=this._formArray)||void 0===t?void 0:t.controls[e]}getUrl(e,t=0){var n;try{return null===(n=this._cardImageMap[this._buildCardImageKey(e,t)])||void 0===n?void 0:n.src}catch(i){return null}}_buildCardImageKey(e,t){return`${e}${t}`}onInsertUrl(e,t,n=0){let i=this._buildCardImageKey(t,n);this._cardImageMap[i]=new J.a(e,`pair${t+1}_img${n+1}`),this._updateFormControl()}deleteUrl(e,t=0){let n="url";1==t&&(n="url2"),this.getSubForm(e).get(n).reset();let i=this._buildCardImageKey(e,t);delete this._cardImageMap[i],this._updateFormControl()}_updateFormControl(){let e=Object.values(this._cardImageMap);e.length!==this._numCardImages?this.form.get(this.controlName).setValue(null):this.form.get(this.controlName).setValue(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.d))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-card-images-url-input"]],inputs:{form:"form",controlName:"controlName",urlPairConfig:"urlPairConfig"},features:[s.Bb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["showDoubleInput",""],[4,"ngFor","ngForOf"],[1,"d-flex-row"],[1,"flex-8"],["controlName","url",3,"label","form","onChange"],[1,"flex-4"],[3,"src","onDelete"],["class","d-flex-col",4,"ngFor","ngForOf"],[1,"d-flex-col"],[1,"mt-2","fst-italic"],["controlName","url",1,"flex-4",3,"label","form","onChange"],[1,"flex-2",3,"src","onDelete"],["controlName","url2",1,"flex-4",3,"label","form","onChange"]],template:function(e,t){1&e&&s.Ec(0,Re,4,2,"div",0),2&e&&s.lc("ngIf",t.indices)},directives:[i.k,i.j,W,j],pipes:[l.c],styles:[".flex-2[_ngcontent-%COMP%]{flex:2 0 0}.flex-4[_ngcontent-%COMP%]{flex:4 0 0}.flex-8[_ngcontent-%COMP%]{flex:8 0 0}"]}),e})();function xe(e,t){if(1&e){const e=s.Vb();s.Ub(0,"app-input-number",8),s.bc("onChange",function(t){return s.wc(e),s.fc().onChangeNumPairsForUrl(t)}),s.Tb()}if(2&e){const e=s.fc();s.lc("labelTranslate",e.TRANSLATION.input.numPairs)("form",e.form)("min",e.MIN_NUM_PAIRS)}}function Ee(e,t){if(1&e&&s.Pb(0,"app-upload",9),2&e){const e=s.fc();s.lc("isImage",!0)("labelTranslate",e.TRANSLATION.input.cardImages.upload.pickDirPath)("form",e.form)("selectAllDir",!0)}}function Me(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",10),s.Ub(1,"mat-icon"),s.Gc(2,"warning"),s.Tb(),s.Ub(3,"span"),s.Gc(4),s.gc(5,"translate"),s.Ub(6,"a",11),s.bc("click",function(){return s.wc(e),s.fc().openExample()}),s.Gc(7),s.gc(8,"translate"),s.Tb(),s.Gc(9,". "),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(4),s.Ic(" ",s.ic(5,2,"TRANSLATION",e.TRANSLATION.input.cardImages.upload.diffImagesPerPair.warning)," "),s.Db(3),s.Ic(" ",s.ic(8,5,"TRANSLATION",e.TRANSLATION.input.cardImages.upload.diffImagesPerPair.warningLink)," ")}}function ke(e,t){if(1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",12),s.Pb(2,"app-card-images-url-input",13),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Db(2),s.lc("form",e.form)("urlPairConfig",e.urlPairConfig)}}let qe=(()=>{class e{constructor(e){this.dialogService=e,this.TRANSLATION=b,this.FILENAME_SEP=p.a.upload.fileNameSeparator,this.MIN_NUM_PAIRS=2,this.stateUrlInputs="hide",this.showFilePatternWarning=!1}ngOnInit(){this.form=this.parent.form}onChangeCardImageSrcType(e){this.addUrls=e===m.URL,this.addUrls?this.form.addControl("numPairs",new a.e(null,[a.r.required,a.r.min(this.MIN_NUM_PAIRS)])):this.form.removeControl("numPairs"),this._handleInputChange()}onChangeSingleImgPerPair(){this._handleInputChange()}onChangeNumPairsForUrl(e){e<this.MIN_NUM_PAIRS||this._handleInputChange()}_handleInputChange(){var e;let t=this.form.get("singleImgPerPair").value,n=this.form.get("cardImageSrcType").value,i=null===(e=this.form.get("numPairs"))||void 0===e?void 0:e.value,a=n===m.UPLOAD;this.showFilePatternWarning=a&&!1===t,a||i<this.MIN_NUM_PAIRS||[t,n,i].some(e=>null==e)?this._removeUrlInputs():(this.urlPairConfig=new fe(i,t),this.stateUrlInputs="show")}_removeUrlInputs(){this.stateUrlInputs="hide",setTimeout(()=>{this.urlPairConfig=null},500)}openExample(){this.dialogService.openCustomDialog(be,80)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(he.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-card-images-form"]],inputs:{parent:"parent"},decls:10,vars:13,consts:[[1,"form-line"],["controlName","singleImgPerPair",3,"label","form","onChange"],["controlName","cardImageSrcType",3,"form","multiple","onChange"],[3,"ngSwitch"],["controlName","numPairs",3,"labelTranslate","form","min","onChange",4,"ngSwitchCase"],["controlName","cardImages",3,"isImage","labelTranslate","form","selectAllDir",4,"ngSwitchCase"],["class","file-warning",4,"ngIf"],["class","form-line",4,"ngIf"],["controlName","numPairs",3,"labelTranslate","form","min","onChange"],["controlName","cardImages",3,"isImage","labelTranslate","form","selectAllDir"],[1,"file-warning"],[1,"example-link",3,"click"],[1,"form-item","mt-3"],["controlName","cardImages",3,"form","urlPairConfig"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"app-select-yes-no",1),s.bc("onChange",function(){return t.onChangeSingleImgPerPair()}),s.gc(2,"translate"),s.Tb(),s.Ub(3,"app-select-image-src-type",2),s.bc("onChange",function(e){return t.onChangeCardImageSrcType(e)}),s.Tb(),s.Ub(4,"div",3),s.Ec(5,xe,1,3,"app-input-number",4),s.Ec(6,Ee,1,4,"app-upload",5),s.Tb(),s.Tb(),s.Ec(7,Me,10,8,"div",6),s.Ub(8,"div"),s.Ec(9,ke,3,2,"div",7),s.Tb()),2&e&&(s.Db(1),s.mc("label",s.ic(2,10,"TRANSLATION",t.TRANSLATION.input.singleImgPerPair)),s.lc("form",t.form),s.Db(2),s.lc("form",t.form)("multiple",!0),s.Db(1),s.lc("ngSwitch",t.addUrls),s.Db(1),s.lc("ngSwitchCase",!0),s.Db(1),s.lc("ngSwitchCase",!1),s.Db(1),s.lc("ngIf",t.showFilePatternWarning),s.Db(1),s.lc("@showContent",t.stateUrlInputs),s.Db(1),s.lc("ngIf",t.urlPairConfig))},directives:[Te,M,i.m,i.n,i.k,Pe,se,U.a,Fe],pipes:[l.c],styles:[".layout[_ngcontent-%COMP%]{flex-direction:column}.layout[_ngcontent-%COMP%], .num-pairs[_ngcontent-%COMP%]{display:flex;gap:.5rem}.num-pairs[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.num-pairs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1.5rem}.file-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background-color:#e89c12;color:#fff;padding:4px;border-radius:2px;max-width:-moz-max-content;max-width:max-content}.example-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}"],data:{animation:[Object(de.m)("showContent",[Object(de.j)("show",Object(de.k)({overflow:"hidden",height:"*"})),Object(de.j)("hide",Object(de.k)({overflow:"hidden",height:"0px",opacity:"0"})),Object(de.l)("*=>*",Object(de.e)("500ms ease-in-out"))])]}}),e})();var Ge=n("YzOW"),Ve=n("2w9t"),je=n("VdwR");function $e(e,t){if(1&e&&(s.Ub(0,"div"),s.Ub(1,"form",5),s.Ub(2,"div",6),s.Pb(3,"app-select",7),s.gc(4,"translate"),s.Pb(5,"app-select-yes-no",8),s.Pb(6,"app-select",9),s.Tb(),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Db(1),s.lc("formGroup",e.form),s.Db(2),s.mc("label",s.ic(4,9,"TRANSLATION",e.TRANSLATION.input.cardIdType)),s.lc("form",e.form)("optionsTranslate",e.options.cardId),s.Db(2),s.lc("labelTranslate",e.TRANSLATION.input.singleImgPerPair)("form",e.form),s.Db(1),s.lc("labelTranslate",e.TRANSLATION.input.numPairs)("form",e.form)("options",e.options.numPairs)}}function Be(e,t){if(1&e&&(s.Ub(0,"div",16),s.Pb(1,"app-background-image-form",17),s.Tb()),2&e){const e=s.fc(2);s.Db(1),s.lc("form",e.form)}}function He(e,t){if(1&e){const e=s.Vb();s.Ub(0,"form",5),s.Ub(1,"span",10),s.Gc(2),s.gc(3,"translate"),s.Tb(),s.Ub(4,"div",6),s.Pb(5,"app-input-text",11),s.Pb(6,"app-select",12),s.Tb(),s.Pb(7,"mat-divider"),s.Ub(8,"span",10),s.Gc(9),s.gc(10,"translate"),s.Tb(),s.Ub(11,"div",6),s.Ub(12,"app-select-yes-no",13),s.bc("onChange",function(t){return s.wc(e),s.fc().onChangeAddBackgroundImg(t)}),s.Tb(),s.Ec(13,Be,2,1,"div",14),s.Tb(),s.Pb(14,"mat-divider"),s.Ub(15,"span",10),s.Gc(16),s.gc(17,"translate"),s.Tb(),s.Pb(18,"app-card-images-form",15),s.Tb()}if(2&e){const e=s.fc();s.lc("formGroup",e.form),s.Db(2),s.Ic(" ",s.ic(3,13,"TRANSLATION",e.TRANSLATION.sectionTitle.mainData)," "),s.Db(3),s.lc("labelTranslate",e.TRANSLATION.input.gameTitle)("form",e.form),s.Db(1),s.lc("labelTranslate",e.TRANSLATION.input.cardIdType)("form",e.form)("optionsTranslate",e.options.cardId),s.Db(3),s.Ic(" ",s.ic(10,16,"TRANSLATION",e.TRANSLATION.sectionTitle.backgroundImg)," "),s.Db(3),s.lc("labelTranslate",e.TRANSLATION.input.backgroundImg.add)("form",e.form),s.Db(1),s.lc("ngIf",e.flag.addBackgroundImg),s.Db(3),s.Ic(" ",s.ic(17,19,"TRANSLATION",e.TRANSLATION.sectionTitle.cardImages)," "),s.Db(2),s.lc("parent",e)}}function Ke(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",18),s.Ub(1,"button",19),s.bc("click",function(){return s.wc(e),s.fc().download()}),s.Ub(2,"mat-icon"),s.Gc(3,"download"),s.Tb(),s.Gc(4),s.gc(5,"translate"),s.Tb(),s.Ub(6,"span"),s.Gc(7),s.gc(8,"translate"),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(4),s.Ic(" ",s.ic(5,2,"TRANSLATION",e.TRANSLATION.btn.download.label)," "),s.Db(3),s.Hc(s.ic(8,5,"TRANSLATION",e.TRANSLATION.btn.download.comment))}}let ze=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.gameService=t,this.toastService=n,this.translationService=i,this.TRANSLATION=b,this.ACCEPT_IMG=["image/png","image/jpeg"],this.options={},this.flag={},this.submitBtnTranslation={}}ngOnInit(){this.flag={isDemo:this._isDemo},this._initForm(),this._setOptions(),this._setSubmitBtn()}get _isDemo(){return this.parent.isDemo}_initForm(){this.form=this.fb.group({title:new a.e("Memory Game",a.r.required),cardIdType:new a.e(Ge.a.NUMBERS,a.r.required),addBackgroundImg:new a.e(!1,a.r.required),backgroundImgSrc:new a.e(null),singleImgPerPair:new a.e(null,a.r.required),cardImageSrcType:new a.e(null,a.r.required),cardImages:new a.e(null,a.r.required)}),this._isDemo&&(this.form.addControl("numPairs",new a.e(null,a.r.required)),this.form.removeControl("addBackgroundImg"),this.form.removeControl("backgroundImgSrc"),this.form.removeControl("cardImageSrcType"),this.form.removeControl("cardImages"))}_setOptions(){const e=Ge.c;this.options={cardId:[{id:Ge.a.NUMBERS,label:e[Ge.a.NUMBERS]},{id:Ge.a.ROW_COLUMN,label:e[Ge.a.ROW_COLUMN]},{id:Ge.a.ICONS,label:e[Ge.a.ICONS]}]},this._isDemo&&(this.options.numPairs=[],[4,6,8,10].forEach(e=>this.options.numPairs.push({id:e,label:e})))}_setSubmitBtn(){this.submitBtnTranslation=this._isDemo?this.TRANSLATION.btn.submit.playDemo:this.TRANSLATION.btn.submit.createGame}onChangeAddBackgroundImg(e){this.flag.addBackgroundImg=e,this.form.get("backgroundImgSrc").setValue(null)}download(){if(!this._isDemo)return this._isInvalidForm?this.toastService.showInvalidFormError():void this.gameService.downloadGameConfig(this._buildGameConfig())}submit(){if(this._isInvalidForm)return this.toastService.showInvalidFormError();let e=this._buildGameConfig();this._isDemo&&(e.title=this.translationService.getTranslationObj(this.TRANSLATION.gameTitle.demo),this._setDemoCardImages(e)),this.gameService.create(e)}get _isInvalidForm(){return this.form.markAllAsTouched(),this.form.invalid}_buildGameConfig(){let e=Object.assign({},this.form.value),t=new Ve.a;return t.title=e.title.toUpperCase(),t.singleImgPerPair=e.singleImgPerPair,t.cardIdType=e.cardIdType,t.backgroundImgSrc=e.backgroundImgSrc,t.cardImages=e.cardImages,t}_setDemoCardImages(e){e.cardImages=[];const t="assets/images/demo-game-cards";let n=this.form.value.numPairs;for(let i=1;i<=n;i++){let n=`num${i}_draw.png`;e.cardImages.push(new J.a(`${t}/draw/${n}`,n))}if(!e.singleImgPerPair)for(let i=1;i<=n;i++){let n=`num${i}_word.png`;e.cardImages.push(new J.a(`${t}/words/${n}`,n))}}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.d),s.Ob(je.a),s.Ob(X.a),s.Ob(Z.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-game-builder-form"]],inputs:{parent:"parent"},decls:11,vars:7,consts:[[4,"ngIf","ngIfElse"],["showFullBuilderForm",""],[1,"d-flex-row","mt-4"],["mat-raised-button","","type","submit","color","primary",3,"click"],["class","download-btn",4,"ngIf"],[3,"formGroup"],[1,"form-line"],["controlName","cardIdType",1,"form-item",3,"label","form","optionsTranslate"],["controlName","singleImgPerPair",1,"form-item",3,"labelTranslate","form"],["controlName","numPairs",1,"form-item",3,"labelTranslate","form","options"],[1,"subtitle","color-primary"],["controlName","title",1,"input-title",3,"labelTranslate","form"],["controlName","cardIdType",1,"input-card-id",3,"labelTranslate","form","optionsTranslate"],["controlName","addBackgroundImg",3,"labelTranslate","form","onChange"],["class","form-item",4,"ngIf"],[3,"parent"],[1,"form-item"],["controlName","backgroundImgSrc",3,"form"],[1,"download-btn"],["mat-stroked-button","","type","button","color","primary",3,"click"]],template:function(e,t){if(1&e&&(s.Ec(0,$e,7,12,"div",0),s.Ec(1,He,19,22,"ng-template",null,1,s.Fc),s.Ub(3,"div",2),s.Ub(4,"div"),s.Ub(5,"button",3),s.bc("click",function(){return t.submit()}),s.Ub(6,"mat-icon"),s.Gc(7,"sports_esports"),s.Tb(),s.Gc(8),s.gc(9,"translate"),s.Tb(),s.Tb(),s.Ec(10,Ke,9,8,"div",4),s.Tb()),2&e){const e=s.tc(2);s.lc("ngIf",t.flag.isDemo)("ngIfElse",e),s.Db(8),s.Ic(" ",s.ic(9,4,"TRANSLATION",t.submitBtnTranslation)," "),s.Db(2),s.lc("ngIf",!t.flag.isDemo)}},styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.input-title[_ngcontent-%COMP%]{flex:8 0 0}.input-card-id[_ngcontent-%COMP%]{flex:4 0 0}.input-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.subtitle[_ngcontent-%COMP%]{font-size:16px}.d-flex-row[_ngcontent-%COMP%]{align-items:flex-start;justify-content:center}.download-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.25rem}.download-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:12px}"]}),e})();function We(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",5),s.Ub(1,"mat-checkbox",6),s.bc("change",function(t){return s.wc(e),s.fc().onChangeUploadConfigFile(t.checked)}),s.Gc(2),s.gc(3,"translate"),s.Tb(),s.Ub(4,"span",7),s.Gc(5),s.gc(6,"translate"),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Db(2),s.Ic(" ",s.ic(3,2,"TRANSLATION",e.TRANSLATION.uploadConfigFile.checkboxLabel)," "),s.Db(3),s.Ic(" ",s.ic(6,5,"TRANSLATION",e.TRANSLATION.uploadConfigFile.instruction)," ")}}function Qe(e,t){if(1&e&&s.Pb(0,"app-game-builder-form",8),2&e){const e=s.fc();s.lc("parent",e)}}function Je(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div"),s.Ub(1,"app-upload",9,10),s.bc("onUpload",function(t){s.wc(e);const n=s.tc(2);return s.fc().onUploadConfigFile(t,n)}),s.Tb(),s.Tb()}}let Ye=(()=>{class e{constructor(e,t){this.route=e,this.gameService=t,this.TRANSLATION=b,this.pageTitleTranslation={},this.flag={}}ngOnInit(){var e;null===(e=this.route.data)||void 0===e||e.subscribe(e=>{var t;this._isDemo=null!==(t=e.demo)&&void 0!==t&&t,this.pageTitleTranslation=this._isDemo?this.TRANSLATION.pageTitle.demoBuilder:this.TRANSLATION.pageTitle.gameBuilder,this._initFlags()})}_initFlags(){this.flag={isDemo:this._isDemo,uploadConfigFile:!1,showForm:!0}}get isDemo(){return this._isDemo}onChangeUploadConfigFile(e){this.flag.uploadConfigFile=e,this.flag.showForm=!e}onUploadConfigFile(e,t){try{this.gameService.createGameFromUploadedConfigFile(e[0])}catch(n){t.reset()}}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(o.a),s.Ob(je.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-game-builder"]],decls:10,vars:11,consts:[[1,"color-primary"],[1,"main-instructions","mb-4"],["class","upload-config-file",4,"ngIf"],[3,"parent",4,"ngIf"],[4,"ngIf"],[1,"upload-config-file"],["color","primary",3,"change"],[1,"instruction"],[3,"parent"],[3,"onUpload"],["upload",""]],template:function(e,t){1&e&&(s.Ub(0,"h1",0),s.Gc(1),s.gc(2,"translate"),s.Tb(),s.Ub(3,"div",1),s.Ub(4,"mat-label"),s.Gc(5),s.gc(6,"translate"),s.Tb(),s.Ec(7,We,7,8,"div",2),s.Tb(),s.Ec(8,Qe,1,1,"app-game-builder-form",3),s.Ec(9,Je,3,0,"div",4)),2&e&&(s.Db(1),s.Hc(s.ic(2,5,"TRANSLATION",t.pageTitleTranslation)),s.Db(4),s.Hc(s.ic(6,8,"TRANSLATION",t.TRANSLATION.instruction)),s.Db(2),s.lc("ngIf",!t.flag.isDemo),s.Db(1),s.lc("ngIf",t.flag.showForm),s.Db(1),s.lc("ngIf",t.flag.uploadConfigFile))},styles:["h1[_ngcontent-%COMP%]{font-family:Quicksand!important}.main-instructions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.upload-config-file[_ngcontent-%COMP%]{margin-left:3rem;display:flex;flex-direction:row;flex-wrap:wrap;gap:.5rem;align-items:center}.upload-config-file[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{font-size:12px;color:grey}@media screen and (max-width:500px){.upload-config-file[_ngcontent-%COMP%]{margin-left:1rem}}@media screen and (max-width:300px){.upload-config-file[_ngcontent-%COMP%]{margin-left:0}}"]}),e})();var Xe=n("bSwM"),Ze=n("f0Cb");const et=[{path:"",component:Ye},{path:"demo",component:Ye,data:{demo:!0}}];let tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({imports:[[i.c,o.c.forChild(et),r.a,a.q,a.i,l.b,c]]}),e})();s.zc(Ye,[h.f,i.k,Xe.a,ze,se],[l.c]),s.zc(ze,[i.k,a.s,a.n,a.h,F,Te,W,Ze.a,pe,qe,q.a,U.a],[l.c])}}]);