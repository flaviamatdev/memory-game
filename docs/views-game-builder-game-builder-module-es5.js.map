{"version":3,"sources":["webpack:///src/app/shared/enums/file-upload-type.enum.ts","webpack:///src/app/views/game-builder/game-builder-values.ts","webpack:///src/app/shared/components/input/input.module.ts","webpack:///src/app/shared/components/input/upload/upload.component.ts","webpack:///src/app/shared/components/input/upload/upload.component.html","webpack:///src/app/views/game-builder/game-builder-form-demo/game-builder-form-demo.component.ts","webpack:///src/app/views/game-builder/game-builder-form-demo/game-builder-form-demo.component.html","webpack:///src/app/views/game-builder/game-builder-form/cards/card-urls/card-pair-url-inputs/card-pair-url-inputs.component.ts","webpack:///src/app/views/game-builder/game-builder-form/cards/card-urls/card-pair-url-inputs/card-pair-url-inputs.component.html","webpack:///src/app/views/game-builder/game-builder-form/game-builder-form.component.ts","webpack:///src/app/views/game-builder/game-builder-form/game-builder-form.component.html","webpack:///src/app/shared/enums/media-src-type.enum.ts","webpack:///src/app/shared/components/input/abstract-input.component.ts","webpack:///src/app/views/game-builder/game-builder-form/cards/card-image-filename-example-dialog/card-image-filename-example-dialog.component.ts","webpack:///src/app/views/game-builder/game-builder-form/cards/card-image-filename-example-dialog/card-image-filename-example-dialog.component.html","webpack:///src/app/views/game-builder/game-builder/game-builder.component.ts","webpack:///src/app/views/game-builder/game-builder/game-builder.component.html","webpack:///src/app/views/game-builder/game-builder-form/cards/card-urls/card-urls.component.ts","webpack:///src/app/views/game-builder/game-builder-form/cards/card-urls/card-urls.component.html","webpack:///src/app/views/game-builder/game-build-form-input.values.ts","webpack:///src/app/shared/components/input/select/select/select.component.ts","webpack:///src/app/shared/components/input/select/select/select.component.html","webpack:///src/app/views/game-builder/game-builder.module.ts","webpack:///src/app/shared/components/input/image/input-image-url/input-image-url.component.ts","webpack:///src/app/shared/components/input/image/input-image-url/input-image-url.component.html","webpack:///src/app/shared/components/input/input-label/input-label.component.html","webpack:///src/app/shared/components/input/input-label/input-label.component.ts","webpack:///src/app/shared/util/form.util.ts","webpack:///src/app/views/game-builder/game-builder-form/cards/card-form/card-form.component.ts","webpack:///src/app/views/game-builder/game-builder-form/cards/card-form/card-form.component.html","webpack:///src/app/views/game-builder/game-builder-form/background-image-form/background-image-form.component.ts","webpack:///src/app/views/game-builder/game-builder-form/background-image-form/background-image-form.component.html","webpack:///src/app/shared/components/input/upload/upload-values.ts","webpack:///src/app/views/game-builder/abstract-game-builder-form/abstract-game-builder-form.component.ts","webpack:///src/app/shared/components/input/select/select-yes-no/select-yes-no.component.ts","webpack:///src/app/shared/components/input/select/select-yes-no/select-yes-no.component.html","webpack:///src/app/shared/components/input/select/select-media-src-type/select-media-src-type-values.ts","webpack:///src/app/shared/components/input/input-number/input-number.component.ts","webpack:///src/app/shared/components/input/input-number/input-number.component.html","webpack:///src/app/shared/components/input/audio/input-audio-url/input-audio-url.component.ts","webpack:///src/app/shared/components/input/audio/input-audio-url/input-audio-url.component.html","webpack:///src/app/shared/components/input/select/select-media-src-type/select-media-src-type.component.ts","webpack:///src/app/shared/components/input/select/select-media-src-type/select-media-src-type.component.html","webpack:///src/app/shared/components/input/input-text/input-text.component.ts","webpack:///src/app/shared/components/input/input-text/input-text.component.html","webpack:///src/app/views/game-builder/game-builder-form/cards/url-pair-config.model.ts","webpack:///src/app/shared/components/input/image/image-preview/image-preview.component.ts","webpack:///src/app/shared/components/input/image/image-preview/image-preview.component.html"],"names":["FileUploadTypeEnum","IMG_FILENAME_SEP","upload","fileNameSeparator","DOWNLOAD_CONFIG_FILE","pt","en","GAME_BUILDER_TRANSLATION","pageTitle","gameBuilder","demoBuilder","topInstruction","main","orUploadConfigFile","uploadConfigFile","checkboxLabel","instruction","sectionTitle","mainData","backgroundImg","cards","cardImages","gameTitle","demo","input","singleCardPerPair","addCustomSoundsPerCard","numPairs","cardIdType","add","url","pair","getCardPair","ordinal","image","pairLink","getPairLink","audio","images","pickDirPath","diffImagesPerPair","warning","warningLink","audios","btn","submit","createGame","playDemo","download","label","comment","diffImagesPerPairDialog","title","pairName","imageId","InputModule","UploadComponent","toastService","translationService","TRANSLATION","fileType","IMAGE","multiple","selectAllDir","onClearInput","onUpload","_numFiles","_setAccept","btnTranslation","nonMultiple","accept","AUDIO","JSON","_fileUploads","_clearInput","formControl","reset","singleChosedFileName","_inputElem","nativeElement","value","click","$event","fileList","target","files","length","item","emit","_extractFiles","typeOk","_showOutAcceptErrorMsg","sort","a","b","name","localeCompare","forEach","file","_readFile","replace","i","push","type","startsWith","translation","acceptErrorMsg","fileTypeTranslation","getTranslation","msg","error","reader","FileReader","onload","fileReaderEvent","result","_finishReadFiles","readAsDataURL","setValue","filename","openInputFile","GameBuilderFormDemoComponent","gameService","fb","form","group","FORM_INPUT","NUMBERS","required","card","options","id","data","gameConfig","_buildCard","imgFilename","imgSubDir","imageDirPath","audioDirPath","audioFilename","CardPairUrlInputsComponent","pairOrdinal","index","_initForm","_resetControls","parent","addSubForm","changes","urlPairConfig","firstChange","addCustomAudioPerPair","_addAudioControl","removeControl","addControl","$url","onInsertUrl","deleteUrl","GameBuilderFormComponent","ACCEPT_IMG","flag","addBackgroundImg","backgroundImgSrc","cardSrcType","$value","get","_isInvalidForm","showInvalidFormError","downloadGameConfig","_buildGameConfig","toUpperCase","srcType","UPLOAD","_getCardsFromUploads","_getCardsFromUrls","formValue","buildCardsFromValidUploads","cardUrls","urls","map","obj","image2","audio2","onChangeAddBackgroundImg","MediaSourceTypeEnum","AbstractInputComponent","flexDirectionRow","disabled","onChange","_originalRequired","isRequired","controlName","model","controls","hasError","errorKey","invalid","control","setErrors","markAsTouched","CardImageFilenameExampleDialogComponent","SEP","GameBuilderComponent","route","CONFIG_FILE_TYPE","pageTitleTranslation","subscribe","_isDemo","_initFlags","isDemo","showForm","$doUpload","uploadFiles","uploadChild","createGameFromUploadedConfigFile","CardUrlsInputComponent","_CARD_URLS_INPUT","_cardImageMap","indices","Array","keys","_formArray","array","setTimeout","_numCardImages","numCards","ngOnInit","subForm","pairIndex","imageIndex","_buildCardImageKey","src","key","_updateFormControl","sumControlName","getSubForm","cardImageKey","Object","values","GAME_BUILDER_FORM_INPUT","SelectComponent","ALL_OPTION","optionsTranslate","valueAttribute","labelAttribute","useFullOptionAsValue","onFinishedLoading","showLoadingOptionsError","_allSelected","checkForm","currentValue","option","$eventValue","allOptionLabel","_onChangeSelectionMultiple","includes","_allOption","selected","onChangeSelection","routes","path","component","GameBuilderModule","forChild","InputImageUrlComponent","InputLabelComponent","FormUtil","setFormControlAsRequired","setFormControlAsNotRequired","setValidators","updateValueAndValidity","clearValidators","ANIMATION_TIMEOUT","STATE","show","hide","CardFormComponent","feedbackService","UploadFileType","FILENAME_SEP","MIN_NUM_PAIRS","stateUrlInputs","isUpload","showFilePatternWarning","showAudioUpload","_singleCardPerPair","$addCustomAudios","_addUploadAudioControl","receivePairConfigChange","$numPairs","_addCustomSoundsPerCard","some","_removeUrlInputs","min","siblingControlName","siblingFileUploadLen","cardUploadInput","imageControl","audioControl","validateCardUploads","invalidUploadMsg","setFormControlAsValid","handleError","setFormControlAsInvalid","dialog","openCustomDialog","changeAddCustomAudios","onChangeCardSrcType","overflow","height","opacity","BackgroundImageFormComponent","myControlName","valueChanges","_onUpload","$srcType","isUrl","URL","imgPreview","_setFormControlAsRequired","_setFormControlAsNotRequired","_setImage","_uploadChild","onChooseInputType","deleteFile","UPLOAD_TRANSLATION","noFileChosen","chosenFilesMsg","AbstractGameBuilderFormComponent","_setOptions","Error","cardIdTypeNameTranslations","cardId","ROW_COLUMN","ICONS","create","markAllAsTouched","SelectYesNoComponent","SRC_TYPE_TRANSLATION_VALUES","InputNumberComponent","max","valueAsNumber","isNaN","sendValueChange","InputAudioUrlComponent","hasValue","isPlaying","_audio","Audio","load","play","pause","playPause","SelectMediaSrcTypeComponent","labelTranslate","InputTextComponent","placeholder","maxLength","inputType","sendChangeEvent","UrlPairConfig","ImagePreviewComponent","onDelete"],"mappings":"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","file":"views-game-builder-game-builder-module-es5.js","sourcesContent":["export enum FileUploadTypeEnum {\r\n    AUDIO,\r\n    IMAGE,\r\n    JSON\r\n}\r\n","import { VALUES } from \"src/app/shared/constants/global.values\";\r\n\r\nconst IMG_FILENAME_SEP = VALUES.upload.fileNameSeparator;\r\n\r\nconst DOWNLOAD_CONFIG_FILE = {\r\n    pt: 'Baixar arquivo',\r\n    en: 'Download game file'\r\n}\r\n\r\nexport const GAME_BUILDER_TRANSLATION = {\r\n    pageTitle: {\r\n        gameBuilder: {\r\n            pt: 'Monte o seu jogo',\r\n            en: 'Create your game'\r\n        },\r\n        demoBuilder: {\r\n            pt: 'Jogo Demonstração',\r\n            en: 'Demo Game'\r\n        }\r\n    },\r\n\r\n    topInstruction: {\r\n        main: {\r\n            pt: 'Preencha o formulário abaixo com as informações para o jogo',\r\n            en: 'Fill out the form below with the game information'\r\n        },\r\n    \r\n        orUploadConfigFile: {\r\n            pt: ' OU selecione a opção abaixo caso tenha o arquivo do jogo.',\r\n            en: ' OR select the option below if you have the game file.'\r\n        },\r\n    },\r\n\r\n    uploadConfigFile: {\r\n        checkboxLabel: {\r\n            pt: 'Já tenho arquivo do jogo',\r\n            en: 'I already have the game file'\r\n        },\r\n        instruction: {\r\n            pt: `(gerado ao clicar em \"${DOWNLOAD_CONFIG_FILE.pt}\" no pé da página)`,\r\n            en: `(generated by clicking \"${DOWNLOAD_CONFIG_FILE.en}\" at page bottom)`\r\n        }\r\n    },\r\n\r\n    sectionTitle: {\r\n        mainData: {\r\n            pt: 'Dados Principais',\r\n            en: 'Main Data'\r\n        },\r\n\r\n        backgroundImg: {\r\n            pt: 'Imagem de Fundo',\r\n            en: 'Background image'\r\n        },\r\n\r\n        cards: {\r\n            pt: 'Cartas',\r\n            en: 'Cards'\r\n        },\r\n\r\n        cardImages: {\r\n            pt: 'Imagens das Cartas',\r\n            en: 'Card Images'\r\n        },\r\n    },\r\n\r\n    gameTitle: {\r\n        demo: {\r\n            pt: 'Jogo da Memória (Demo)',\r\n            en: 'Demo Memory Game'\r\n        }\r\n    },\r\n\r\n    input: {\r\n        gameTitle: {\r\n            pt: 'Título do jogo',\r\n            en: 'Game title'\r\n        },\r\n\r\n        singleCardPerPair: {\r\n            pt: 'Cada par possui cartas iguais?',\r\n            en: 'Does each pair have the same card?'\r\n        },\r\n\r\n        addCustomSoundsPerCard: {\r\n            pt: 'Adicionar sons customizados ao abrir cada carta',\r\n            en: 'Add custom sounds when opening each card'\r\n        },\r\n\r\n        numPairs: {\r\n            pt: 'Nº de pares',\r\n            en: 'Number of pairs'\r\n        },\r\n\r\n        cardIdType: {\r\n            pt: 'Como identificar as cartas',\r\n            en: 'How to identify the cards'\r\n        },\r\n\r\n        backgroundImg: {\r\n            add: {\r\n                pt: 'Inserir imagem de fundo?',\r\n                en: 'Insert background image?'\r\n            },\r\n            url: {\r\n                pt: 'Link da imagem',\r\n                en: 'Image link'\r\n            },\r\n            upload: {\r\n                pt: 'Enviar arquivo',\r\n                en: 'Upload image file'\r\n            }\r\n        },\r\n\r\n        cards: {\r\n            pair: {\r\n                pt: 'Par nº ',\r\n                en: 'Pair #'\r\n            },\r\n            getCardPair: (ordinal: any) => {\r\n                return {\r\n                    pt: `Carta ${ordinal} do Par `,\r\n                    en: `Card #${ordinal} of Pair #`\r\n                }\r\n            },\r\n\r\n            url: {\r\n                image: {\r\n                    pairLink: {\r\n                        pt: 'Link da Imagem do Par ',\r\n                        en: 'Image Link of Pair #'\r\n                    },\r\n\r\n                    getPairLink: (ordinal: any) => {\r\n                        return {\r\n                            pt: `Link da Imagem ${ordinal} do Par `,\r\n                            en: `Image Link #${ordinal} of Pair #`\r\n                        }\r\n                    },\r\n                },\r\n\r\n                audio: {\r\n                    pairLink: {\r\n                        pt: 'Link do Áudio do Par ',\r\n                        en: 'Audio Link of Pair #'\r\n                    },\r\n\r\n                    getPairLink: (ordinal: any) => {\r\n                        return {\r\n                            pt: `Link do Áudio ${ordinal} do Par `,\r\n                            en: `Audio Link #${ordinal} of Pair #`\r\n                        }\r\n                    },\r\n                },\r\n            },\r\n\r\n            upload: {\r\n                images: {\r\n                    pickDirPath: {\r\n                        pt: 'Selecione a pasta que contém as imagens das cartas',\r\n                        en: 'Select the folder containing the card images'\r\n                    },\r\n                    diffImagesPerPair: {\r\n                        warning: {\r\n                            pt: `Envio de arquivos diferentes por par: os nomes dos arquivos referentes ao mesmo par devem ter o mesmo prefixo seguido de ${IMG_FILENAME_SEP} . Veja um exemplo `,\r\n                            en: `Sending different files per pair: file names referring to the same pair must have the same prefix followed by ${IMG_FILENAME_SEP}. See an example `\r\n                        },\r\n                        warningLink: {\r\n                            pt: 'aqui',\r\n                            en: 'here'\r\n                        }\r\n                    }\r\n                },\r\n                \r\n                audios: {\r\n                    pickDirPath: {\r\n                        pt: 'Selecione a pasta que contém os áudios das cartas',\r\n                        en: 'Select the folder containing the card audios'\r\n                    },\r\n                    instruction: {\r\n                        pt: `O nome de cada arquivo de áudio de cada carta deve ser igual ao nome do arquivo de imagem correspondente. Por exemplo: 'bola.png' e 'bola.mp3'`,\r\n                        en: `The name of each audio file for each card must be the same as the name of the corresponding image file. For example: 'ball.png' and 'ball.mp3'`\r\n                    }\r\n                }\r\n            },\r\n        },\r\n    },\r\n\r\n    btn: {\r\n        submit: {\r\n            createGame: {\r\n                pt: 'Criar jogo',\r\n                en: 'Create game'\r\n            },\r\n            playDemo: {\r\n                pt: 'Jogar',\r\n                en: 'Play'\r\n            }\r\n        },\r\n        download: {\r\n            label: DOWNLOAD_CONFIG_FILE,\r\n            comment: {\r\n                pt: 'Para jogar depois',\r\n                en: 'For play later'\r\n            }\r\n        }\r\n    },\r\n\r\n    diffImagesPerPairDialog: {\r\n        title: {\r\n            pt: 'Envio de arquivos diferentes por par',\r\n            en: 'Sending different files per pair'\r\n        },\r\n        instruction: {\r\n            pt: 'Exemplo de nome para arquivos de images para cada par',\r\n            en: 'Example name for image files for each pair'\r\n        },\r\n        pairName: {\r\n            pt: 'nome do par',\r\n            en: 'pair name'\r\n        },\r\n        imageId: {\r\n            pt: 'identificacao da imagem',\r\n            en: 'image identification'\r\n        }\r\n    },\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { MaterialModule } from 'src/app/material.module';\r\nimport { ImagePreviewComponent } from './image/image-preview/image-preview.component';\r\nimport { InputLabelComponent } from './input-label/input-label.component';\r\nimport { InputNumberComponent } from './input-number/input-number.component';\r\nimport { InputTextComponent } from './input-text/input-text.component';\r\nimport { SelectMediaSrcTypeComponent } from './select/select-media-src-type/select-media-src-type.component';\r\nimport { SelectYesNoComponent } from './select/select-yes-no/select-yes-no.component';\r\nimport { SelectComponent } from './select/select/select.component';\r\nimport { UploadComponent } from './upload/upload.component';\r\nimport { InputAudioUrlComponent } from './audio/input-audio-url/input-audio-url.component';\r\nimport { InputImageUrlComponent } from './image/input-image-url/input-image-url.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        MaterialModule,\r\n        TranslateModule,\r\n    ],\r\n    declarations: [\r\n        InputLabelComponent,\r\n        InputNumberComponent,\r\n        InputTextComponent,\r\n        SelectComponent,\r\n        SelectMediaSrcTypeComponent,\r\n        SelectYesNoComponent,\r\n        ImagePreviewComponent,\r\n        UploadComponent,\r\n        InputAudioUrlComponent,\r\n        InputImageUrlComponent,\r\n    ],\r\n    exports: [\r\n        InputNumberComponent,\r\n        InputTextComponent,\r\n        SelectComponent,\r\n        SelectMediaSrcTypeComponent,\r\n        SelectYesNoComponent,\r\n        ImagePreviewComponent,\r\n        UploadComponent,\r\n        InputAudioUrlComponent,\r\n        InputImageUrlComponent,\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class InputModule { }\r\n","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { FileUpload } from 'src/app/shared/model/file-upload.model';\r\nimport { FileUploadTypeEnum } from '../../../enums/file-upload-type.enum';\r\nimport { TranslationService } from '../../translation/translation.service';\r\nimport { AbstractInputComponent } from '../abstract-input.component';\r\nimport { UPLOAD_TRANSLATION } from './upload-values';\r\n\r\n@Component({\r\n    selector: 'app-upload',\r\n    templateUrl: './upload.component.html',\r\n    styleUrls: ['./upload.component.scss', '../abstract-input.component.scss']\r\n})\r\nexport class UploadComponent extends AbstractInputComponent implements OnInit {\r\n\r\n    readonly TRANSLATION = UPLOAD_TRANSLATION;\r\n\r\n    @Input() fileType: FileUploadTypeEnum = FileUploadTypeEnum.IMAGE;\r\n    @Input() multiple: boolean = false;\r\n    @Input() selectAllDir: boolean = false;\r\n\r\n    @Output() onClearInput = new EventEmitter();\r\n    @Output() onUpload = new EventEmitter();\r\n\r\n    accept: string;\r\n    btnTranslation: any;\r\n    singleChosedFileName: string;\r\n\r\n    @ViewChild('uploadInput') private _inputElem: ElementRef;\r\n    \r\n    private _numFiles: number = 0;\r\n    private _fileUploads: FileUpload[];\r\n\r\n    constructor(\r\n        private toastService: ToastService,\r\n        private translationService: TranslationService,\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    get numFiles() {\r\n        return this._numFiles;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._setAccept();\r\n        this.multiple = this.multiple || this.selectAllDir;\r\n        this.btnTranslation = (this.multiple ? \r\n            this.TRANSLATION.multiple.btn : \r\n            this.TRANSLATION.nonMultiple.btn\r\n        );\r\n    }\r\n\r\n    private _setAccept() {\r\n        this.accept = ({\r\n            [FileUploadTypeEnum.AUDIO]: 'audio/*',\r\n            [FileUploadTypeEnum.IMAGE]: 'image/*',\r\n            [FileUploadTypeEnum.JSON]:  'application/json',\r\n        })[this.fileType];\r\n    }\r\n\r\n    reset() {\r\n        this._fileUploads = [];\r\n        this._clearInput();\r\n        this.formControl?.reset();\r\n        this.singleChosedFileName = null;\r\n    }\r\n\r\n    private _clearInput() {\r\n        this._numFiles = 0;\r\n        this._inputElem.nativeElement.value = \"\";\r\n    }\r\n\r\n    openInputFile() {\r\n        this._inputElem.nativeElement.click();\r\n    }\r\n\r\n    onSelectFiles($event: any) {        \r\n        this._fileUploads = [];\r\n        let fileList: FileList = $event?.target?.files;\r\n\r\n        if ( !(fileList?.length) || fileList.item(0) == null ) {\r\n            this._clearInput();\r\n            this.onClearInput.emit();\r\n            return;\r\n        }\r\n        \r\n        let { files, typeOk } = this._extractFiles(fileList);\r\n        if (!typeOk) {\r\n            this._clearInput();\r\n            this._showOutAcceptErrorMsg();\r\n            return;\r\n        }\r\n\r\n        files.sort((a,b) => a.name.localeCompare(b.name))\r\n            .forEach(file => this._readFile(file));\r\n    }\r\n\r\n    private _extractFiles(fileList: FileList) {\r\n        this._numFiles = fileList.length ?? 0;\r\n        \r\n        const accept = this.accept.replace('*', '');\r\n        let files: File[] = [];\r\n        let typeOk = true;\r\n        let i = 0;\r\n        do {\r\n            let file = fileList.item(i++);\r\n            files.push(file);\r\n            typeOk = typeOk && file.type.startsWith(accept);\r\n        } while (typeOk && i < this._numFiles);\r\n        \r\n        return {\r\n            files: files, \r\n            typeOk: typeOk\r\n        };\r\n    }\r\n\r\n    private _showOutAcceptErrorMsg() {\r\n        let translation = (this.multiple ?\r\n            this.TRANSLATION.multiple.acceptErrorMsg :\r\n            this.TRANSLATION.nonMultiple.acceptErrorMsg\r\n        );\r\n        let fileTypeTranslation = this.translationService.getTranslation(this.TRANSLATION.fileType[this.fileType]);\r\n        let msg = this.translationService.getTranslation(translation, { \r\n            fileType: fileTypeTranslation,\r\n        });\r\n        this.toastService.error(msg, 7000);\r\n    }\r\n\r\n    private _readFile(file: File) {\r\n        const reader = new FileReader();\r\n        reader.onload = (fileReaderEvent: any) => {\r\n            this._fileUploads.push(new FileUpload(fileReaderEvent.target.result, file.name));\r\n            if (this._fileUploads.length == this._numFiles) {\r\n                this._finishReadFiles();\r\n            }\r\n        }\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    private _finishReadFiles() {\r\n        this.formControl?.setValue(this._fileUploads);\r\n        this.singleChosedFileName = this._fileUploads[0].filename;\r\n        this.onUpload.emit(this._fileUploads);\r\n    }\r\n\r\n}\r\n","<div class=\"input-file\">\r\n    <app-input-label *ngIf=\"label || labelTranslate\" [label]=\"label\" [labelTranslate]=\"labelTranslate\" \r\n        [comment]=\"labelComment\" [required]=\"isRequired\">\r\n    </app-input-label>\r\n\r\n    <div *ngIf=\"selectAllDir else regularInput\" >\r\n        <input type=\"file\" #uploadInput hidden (change)=\"onSelectFiles($event)\" [accept]=\"accept\" multiple webkitdirectory>\r\n    </div>\r\n    <ng-template #regularInput>\r\n        <input type=\"file\" #uploadInput hidden (change)=\"onSelectFiles($event)\" [accept]=\"accept\" [multiple]=\"multiple\">\r\n    </ng-template>\r\n\r\n    <div class=\"d-flex-row\">\r\n        <button mat-raised-button type=\"button\" color=\"primary\" (click)=\"openInputFile()\">\r\n            <mat-icon>upload</mat-icon>\r\n            {{ 'TRANSLATION' | translate: btnTranslation }}\r\n        </button>\r\n\r\n        <div *ngIf=\"numFiles == 0; else showChosenFiles\">\r\n            {{ 'TRANSLATION' | translate: TRANSLATION.noFileChosen }}\r\n        </div>\r\n        <ng-template #showChosenFiles>\r\n            <div [ngSwitch]=\"multiple\">\r\n                <span *ngSwitchCase=\"false\">{{ singleChosedFileName }}</span>\r\n                <span *ngSwitchCase=\"true\">\r\n                    {{ numFiles }} {{ 'TRANSLATION' | translate: TRANSLATION.multiple.chosenFilesMsg }}\r\n                </span>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { GameService } from 'src/app/services/game.service';\nimport { ToastService } from 'src/app/services/toast.service';\nimport { TranslationService } from 'src/app/shared/components/translation/translation.service';\nimport { CardIdTypeEnum } from 'src/app/shared/enums/card-id-type.enum';\nimport { Card } from 'src/app/shared/model/card';\nimport { FileUpload } from 'src/app/shared/model/file-upload.model';\nimport { GameConfig } from 'src/app/shared/model/game-config.model';\nimport { AbstractGameBuilderFormComponent } from '../abstract-game-builder-form/abstract-game-builder-form.component';\n\n@Component({\n    selector: 'app-game-builder-form-demo',\n    templateUrl: './game-builder-form-demo.component.html',\n    styleUrls: ['./game-builder-form-demo.component.scss']\n})\nexport class GameBuilderFormDemoComponent extends AbstractGameBuilderFormComponent implements OnInit {\n\n    constructor(\n        protected gameService: GameService,\n        protected toastService: ToastService,\n        private fb: FormBuilder,\n        private translationService: TranslationService,\n    ) {\n        super(gameService, toastService);\n    }\n\n    // override\n    protected _initForm() {\n        this.form = this.fb.group({\n            [this.FORM_INPUT.cardIdType]: new FormControl(CardIdTypeEnum.NUMBERS, Validators.required),\n            [this.FORM_INPUT.card.singleCardPerPair]: new FormControl(null, Validators.required),\n            [this.FORM_INPUT.card.numPairs]: new FormControl(null, Validators.required),\n        });        \n    }\n\n    // override\n    protected _setOptions() {\n        super._setOptions();\n\n        this.options.numPairs = [];\n        ([4, 6, 8, 10]).forEach(value => this.options.numPairs.push({ id: value, label: value }));\n    }\n\n    // override\n    protected _buildGameConfig() {\n        let data = this.form.value;\n\n        let gameConfig = new GameConfig();\n        gameConfig.title = this.translationService.getTranslation(this.TRANSLATION.gameTitle.demo);\n        gameConfig.cardIdType = data[this.FORM_INPUT.cardIdType] as number;\n        gameConfig.singleCardPerPair = data[this.FORM_INPUT.card.singleCardPerPair] as boolean;\n        gameConfig.addCustomSoundsPerCard = true;\n        gameConfig.cards = [];\n\n        let numPairs: number = data.numPairs;\n\n        for (let i = 1; i <= numPairs; i++) {\n            gameConfig.cards.push( this._buildCard(i, `num${i}_draw.png`, 'draw') );\n        }\n\n        if (!gameConfig.singleCardPerPair) {\n            for (let i = 1; i <= numPairs; i++) {\n                gameConfig.cards.push( this._buildCard(i, `num${i}_word.png`, 'words') );\n            }\n        }\n\n        return gameConfig;\n    }\n\n    private _buildCard(i: number, imgFilename: string, imgSubDir: string) {\n        const imageDirPath = 'assets/images/demo-game-cards';\n        const audioDirPath = 'assets/audio/demo-game-audios';\n\n        let image = new FileUpload(`${imageDirPath}/${imgSubDir}/${imgFilename}`, imgFilename);\n\n        let audioFilename = `num${i}.mp3`;\n        let audio = new FileUpload(`${audioDirPath}/${audioFilename}`, audioFilename);\n\n        return new Card(null, image, audio);\n    }\n\n}\n","<h1 class=\"color-primary\">{{ 'TRANSLATION' | translate: TRANSLATION.pageTitle.demoBuilder }}</h1>\n\n<div class=\"main-instructions mb-4\">\n    <mat-label>{{ 'TRANSLATION' | translate: TRANSLATION.topInstruction.main }}</mat-label>\n</div>\n\n<form [formGroup]=\"form\">\n    <div class=\"form-line\">\n        <app-select class=\"form-item\" \n            label=\"{{ 'TRANSLATION' | translate: TRANSLATION.input.cardIdType }}\" \n            [form]=\"form\" [controlName]=\"FORM_INPUT.cardIdType\" [optionsTranslate]=\"options.cardId\">\n        </app-select>\n\n        <app-select-yes-no class=\"form-item\" \n            [labelTranslate]=\"TRANSLATION.input.singleCardPerPair\" \n            [form]=\"form\" [controlName]=\"FORM_INPUT.card.singleCardPerPair\">\n        </app-select-yes-no>\n\n        <app-select class=\"form-item\" \n            [labelTranslate]=\"TRANSLATION.input.numPairs\" \n            [form]=\"form\" [controlName]=\"FORM_INPUT.card.numPairs\" [options]=\"options.numPairs\">\n        </app-select>\n    </div>\n</form>\n\n<div class=\"d-flex-row mt-4\">\n    <div>\n        <button mat-raised-button type=\"submit\" color=\"primary\" (click)=\"submit()\">\n            <mat-icon>sports_esports</mat-icon>\n            {{ 'TRANSLATION' | translate: TRANSLATION.btn.submit.playDemo }} \n        </button>\n    </div>\n</div>","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { GAME_BUILDER_TRANSLATION } from '../../../../game-builder-values';\r\nimport { CardUrlsInputComponent } from '../card-urls.component';\r\nimport { UrlPairConfig } from '../../url-pair-config.model';\r\n\r\n@Component({\r\n    selector: 'app-card-pair-url-inputs',\r\n    templateUrl: './card-pair-url-inputs.component.html',\r\n    styleUrls: []\r\n})\r\nexport class CardPairUrlInputsComponent implements OnInit, OnChanges {\r\n\r\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION.input.cards;\r\n\r\n    @Input() parent: CardUrlsInputComponent;\r\n    @Input() index: number;\r\n    @Input() urlPairConfig: UrlPairConfig;\r\n\r\n    form: FormGroup;\r\n    pairOrdinal: number;\r\n\r\n    constructor(private fb: FormBuilder) { }\r\n    \r\n\r\n    ngOnInit(): void {\r\n        this.pairOrdinal = this.index + 1;\r\n        this._initForm();\r\n    }\r\n\r\n    private _initForm() {\r\n        this.form = this.fb.group({\r\n            image: new FormControl(null, Validators.required),\r\n        });\r\n\r\n        this._resetControls();\r\n        this.parent.addSubForm(this.form);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.urlPairConfig && !changes.urlPairConfig.firstChange) {\r\n            this._resetControls();\r\n        }\r\n    }\r\n\r\n    private _resetControls() {\r\n        if (this.urlPairConfig.addCustomAudioPerPair) {\r\n            this._addAudioControl();\r\n        } else {\r\n            this.form.removeControl('audio');\r\n        }\r\n\r\n        if (this.urlPairConfig.singleCardPerPair) {\r\n            this.form.removeControl('image2');\r\n            this.form.removeControl('audio2');\r\n        } else {\r\n            this.form.addControl('image2', new FormControl(null, Validators.required));\r\n            if (this.urlPairConfig.addCustomAudioPerPair) {\r\n                this.form.addControl('audio2', new FormControl(null, Validators.required));\r\n            }\r\n        }\r\n    }\r\n\r\n    private _addAudioControl() {\r\n        this.form.addControl('audio', new FormControl(null, Validators.required));\r\n    }\r\n\r\n    get firstPairImageLabelTranslation() {\r\n        return this.urlPairConfig?.singleCardPerPair ? \r\n            this.TRANSLATION.url.image.pairLink :\r\n            this.TRANSLATION.url.image.getPairLink(1)\r\n    }\r\n\r\n    get firstPairAudioLabelTranslation() {\r\n        return this.urlPairConfig?.singleCardPerPair ? \r\n            this.TRANSLATION.url.audio.pairLink :\r\n            this.TRANSLATION.url.audio.getPairLink(1)\r\n    }\r\n\r\n    onInsertUrl($url: string) {\r\n        this.parent.onInsertUrl($url, this.index);\r\n    }\r\n\r\n    deleteImgUrl() {\r\n        this.parent.deleteUrl(this.index);\r\n    }\r\n\r\n}\r\n","<div class=\"d-flex-col\">\r\n    <div class=\"mt-2 fst-italic fw-bold\">{{ 'TRANSLATION' | translate: TRANSLATION.pair }}{{pairOrdinal}}</div>\r\n\r\n    <div *ngIf=\"!urlPairConfig?.singleCardPerPair\">\r\n        <div class=\"mt-2 fst-italic\">{{ 'TRANSLATION' | translate: TRANSLATION.getCardPair(1) }}{{pairOrdinal}}</div>\r\n    </div>\r\n\r\n    <div class=\"d-flex-row\">\r\n        <div class=\"form-item\">\r\n            <app-input-image-url label=\"{{ 'TRANSLATION' | translate: firstPairImageLabelTranslation }}{{pairOrdinal}}\"\r\n                [form]=\"form\" controlName=\"image\">\r\n            </app-input-image-url>\r\n        </div>\r\n    \r\n        <div class=\"form-item\" *ngIf=\"urlPairConfig?.addCustomAudioPerPair\">\r\n            <app-input-audio-url label=\"{{ 'TRANSLATION' | translate: firstPairAudioLabelTranslation }}{{pairOrdinal}}\"\r\n                [form]=\"form\" controlName=\"audio\">\r\n            </app-input-audio-url>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"!urlPairConfig?.singleCardPerPair\">\r\n        <div class=\"mt-2 fst-italic\">{{ 'TRANSLATION' | translate: TRANSLATION.getCardPair(2) }}{{pairOrdinal}}</div>\r\n    </div>\r\n\r\n    <div class=\"d-flex-row\" *ngIf=\"!urlPairConfig?.singleCardPerPair\">\r\n        <div class=\"form-item\">\r\n            <app-input-image-url label=\"{{ 'TRANSLATION' | translate:TRANSLATION.url.image.getPairLink(2) }}{{pairOrdinal}}\" \r\n                [form]=\"form\" controlName=\"image2\">\r\n            </app-input-image-url>\r\n        </div>\r\n    \r\n        <div *ngIf=\"urlPairConfig.addCustomAudioPerPair\" class=\"form-item\">\r\n            <app-input-audio-url label=\"{{ 'TRANSLATION' | translate: TRANSLATION.url.audio.getPairLink(2) }}{{pairOrdinal}}\"\r\n                [form]=\"form\" controlName=\"audio2\">\r\n            </app-input-audio-url>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { CardIdTypeEnum } from 'src/app/shared/enums/card-id-type.enum';\r\nimport { MediaSourceTypeEnum } from 'src/app/shared/enums/media-src-type.enum';\r\nimport { Card } from 'src/app/shared/model/card';\r\nimport { FileUpload } from 'src/app/shared/model/file-upload.model';\r\nimport { GameConfig } from 'src/app/shared/model/game-config.model';\r\nimport { AbstractGameBuilderFormComponent } from '../abstract-game-builder-form/abstract-game-builder-form.component';\r\n\r\n@Component({\r\n    selector: 'app-game-builder-form',\r\n    templateUrl: './game-builder-form.component.html',\r\n    styleUrls: ['./game-builder-form.component.scss']\r\n})\r\nexport class GameBuilderFormComponent extends AbstractGameBuilderFormComponent implements OnInit {\r\n\r\n    readonly ACCEPT_IMG = [ 'image/png', 'image/jpeg' ];\r\n\r\n    flag: any = {};\r\n\r\n    constructor(\r\n        protected gameService: GameService,\r\n        protected toastService: ToastService,\r\n        private fb: FormBuilder,\r\n    ) {\r\n        super(gameService, toastService);\r\n    }\r\n\r\n    // override\r\n    protected _initForm() {\r\n        this.form = this.fb.group({\r\n            title: new FormControl('Memory Game', Validators.required),\r\n            [this.FORM_INPUT.cardIdType]: new FormControl(CardIdTypeEnum.NUMBERS, Validators.required),\r\n\r\n            [this.FORM_INPUT.addBackgroundImg]: new FormControl(false, Validators.required),\r\n            [this.FORM_INPUT.backgroundImgSrc]: new FormControl(null),\r\n\r\n            [this.FORM_INPUT.card.singleCardPerPair]: new FormControl(null, Validators.required),\r\n            [this.FORM_INPUT.card.addCustomSoundsPerCard]: new FormControl(null, Validators.required),\r\n            [this.FORM_INPUT.card.cardSrcType]: new FormControl(null, Validators.required),\r\n        });\r\n    }\r\n\r\n    onChangeAddBackgroundImg($value: boolean) {\r\n        this.flag.addBackgroundImg = $value;\r\n        this.form.get(this.FORM_INPUT.backgroundImgSrc).setValue(null);\r\n    }\r\n\r\n    download() {\r\n        if (this._isInvalidForm) {\r\n            return this.toastService.showInvalidFormError();\r\n        }\r\n        this.gameService.downloadGameConfig( this._buildGameConfig() );\r\n    }\r\n\r\n    // override\r\n    protected _buildGameConfig() {\r\n        let data = {...this.form.value };\r\n        let gameConfig = new GameConfig();\r\n        gameConfig.title = data.title.toUpperCase();\r\n        gameConfig.singleCardPerPair = data.singleCardPerPair;\r\n        gameConfig.addCustomSoundsPerCard = data.addCustomSoundsPerCard;\r\n        gameConfig.cardIdType = data.cardIdType;\r\n        gameConfig.backgroundImgSrc = data.backgroundImgSrc;\r\n\r\n        let srcType = data[this.FORM_INPUT.card.cardSrcType] as MediaSourceTypeEnum;\r\n        gameConfig.cards = (srcType == MediaSourceTypeEnum.UPLOAD ?\r\n            this._getCardsFromUploads(data) :\r\n            this._getCardsFromUrls(data)\r\n        );\r\n\r\n        return gameConfig;\r\n    }\r\n\r\n    private _getCardsFromUploads(formValue: any) {\r\n        let images = formValue[this.FORM_INPUT.card.upload.images] as FileUpload[];\r\n        let audios = formValue[this.FORM_INPUT.card.upload.audios] as FileUpload[];\r\n        return this.gameService.buildCardsFromValidUploads(images, audios);\r\n    }\r\n\r\n    private _getCardsFromUrls(formValue: any) {\r\n        let cardUrls = formValue[this.FORM_INPUT.card.urls] as any[];\r\n        let index=1;\r\n\r\n        let singleCardPerPair = formValue[this.FORM_INPUT.card.singleCardPerPair] as boolean;\r\n        if (singleCardPerPair) {\r\n            return cardUrls.map((obj) => {\r\n                let image = new FileUpload(obj.image, `imageUrl${index}`);\r\n                let audio = obj.audio ? new FileUpload(obj.audio, `audioUrl${index}`) : null;\r\n                index++;\r\n                return new Card(null, image, audio);\r\n            });\r\n        }\r\n\r\n        let cards: Card[] = [];\r\n        cardUrls.forEach((obj) => {\r\n            let image = new FileUpload(obj.image, `imageUrl${index}_card1`);\r\n            let audio = obj.audio ? new FileUpload(obj.audio, `audioUrl${index}_card1`) : null;\r\n            cards.push(new Card(null, image, audio));\r\n\r\n            let image2 = new FileUpload(obj.image2, `imageUrl${index}_card2`);\r\n            let audio2 = obj.audio ? new FileUpload(obj.audio2, `audioUrl${index}_card2`) : null;\r\n            cards.push(new Card(null, image2, audio2));\r\n\r\n            index++;\r\n        });\r\n        return cards;\r\n    }\r\n\r\n}\r\n","<form [formGroup]=\"form\">\r\n    <span class=\"subtitle color-primary\">\r\n        {{ 'TRANSLATION' | translate: TRANSLATION.sectionTitle.mainData }}\r\n    </span>\r\n\r\n    <div class=\"form-line\">\r\n        <app-input-text class=\"input-title\" \r\n            [labelTranslate]=\"TRANSLATION.input.gameTitle\" \r\n            [form]=\"form\" controlName=\"title\">\r\n        </app-input-text>\r\n\r\n        <app-select class=\"input-card-id\" \r\n            [labelTranslate]=\"TRANSLATION.input.cardIdType\" \r\n            [form]=\"form\" [controlName]=\"FORM_INPUT.cardIdType\" [optionsTranslate]=\"options.cardId\">\r\n        </app-select>\r\n    </div>\r\n\r\n    <mat-divider></mat-divider>\r\n    <span class=\"subtitle color-primary\">{{ 'TRANSLATION' | translate: TRANSLATION.sectionTitle.backgroundImg }}</span>\r\n    <div class=\"form-line\">\r\n        <app-select-yes-no [labelTranslate]=\"TRANSLATION.input.backgroundImg.add\" \r\n            [form]=\"form\" [controlName]=\"FORM_INPUT.addBackgroundImg\" (onChange)=\"onChangeAddBackgroundImg($event)\">\r\n        </app-select-yes-no>\r\n\r\n        <div *ngIf=\"flag.addBackgroundImg\" class=\"form-item\">\r\n            <app-background-image-form [form]=\"form\" [controlName]=\"FORM_INPUT.backgroundImgSrc\"></app-background-image-form>\r\n        </div>\r\n    </div>\r\n\r\n    <mat-divider></mat-divider>\r\n    <span class=\"subtitle color-primary\">{{ 'TRANSLATION' | translate: TRANSLATION.sectionTitle.cards }}</span>\r\n    <app-card-form [parent]=\"this\"></app-card-form>\r\n</form>\r\n\r\n<div class=\"d-flex-row mt-4\">\r\n    <div>\r\n        <button mat-raised-button type=\"submit\" color=\"primary\" (click)=\"submit()\">\r\n            <mat-icon>sports_esports</mat-icon>\r\n            {{ 'TRANSLATION' | translate: TRANSLATION.btn.submit.createGame }} \r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"download-btn\">\r\n        <button mat-stroked-button type=\"button\" color=\"primary\" (click)=\"download()\">\r\n            <mat-icon>download</mat-icon>\r\n            {{ 'TRANSLATION' | translate: TRANSLATION.btn.download.label }}\r\n        </button>\r\n\r\n        <span>{{ 'TRANSLATION' | translate: TRANSLATION.btn.download.comment }}</span>\r\n    </div>\r\n</div>\r\n","export enum MediaSourceTypeEnum {\r\n    UPLOAD = 1,\r\n    URL = 2,\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-abstract-input',\r\n    template: '',\r\n    styleUrls: []\r\n})\r\nexport class AbstractInputComponent {\r\n\r\n    @Input() labelTranslate: any;\r\n    @Input() label: string;\r\n    @Input() labelComment: string;\r\n    @Input() form: FormGroup;\r\n    @Input() controlName: string;\r\n    @Input() flexDirectionRow = false;\r\n    @Input() disabled = false;\r\n\r\n    @Output() onChange = new EventEmitter<any>();\r\n    \r\n    protected _originalRequired: boolean;\r\n\r\n    protected _setOriginalRequired() {\r\n        this._originalRequired = this.isRequired;\r\n    }\r\n\r\n    protected checkForm() {\r\n        if(!this.form) {\r\n            this.controlName = 'model';\r\n\r\n            this.form = new FormGroup({\r\n                model: new FormControl()\r\n            });\r\n        }\r\n    }\r\n\r\n    get formControl() {\r\n        return this.form?.controls[this.controlName];\r\n    }\r\n\r\n    get isRequired() {\r\n        return this.formControl?.hasError('required') || false;\r\n    }\r\n\r\n    get isInvalid() {\r\n        return this.hasError('invalid');\r\n    }\r\n\r\n    hasError(errorKey: string) {\r\n        let formControl = this.formControl;\r\n        return !this.isRequired && (formControl?.invalid || formControl?.hasError(errorKey));\r\n    }\r\n\r\n    get inputClass() {\r\n        return {\r\n            'd-flex-row': this.flexDirectionRow,\r\n            'd-flex-col': !this.flexDirectionRow,\r\n        }\r\n    }\r\n\r\n    get getSelectValue() {\r\n        try {\r\n            return this.formControl.value;\r\n        } \r\n        catch (error) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    protected _setAsInvalid() {\r\n        let control = this.formControl;\r\n        control.setErrors({'invalid': true});\r\n        control.markAsTouched();\r\n    }\r\n\r\n    protected _setAsValidByOriginalRequired() {\r\n        let control = this.formControl;\r\n        control.setErrors(this._originalRequired ? {'required': true} : null);\r\n        control.markAsTouched();\r\n    }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { VALUES } from 'src/app/shared/constants/global.values';\r\nimport { GAME_BUILDER_TRANSLATION } from '../../../game-builder-values';\r\n\r\n@Component({\r\n    selector: 'app-card-image-filename-example-dialog',\r\n    templateUrl: './card-image-filename-example-dialog.component.html',\r\n    styleUrls: ['./card-image-filename-example-dialog.component.scss']\r\n})\r\nexport class CardImageFilenameExampleDialogComponent {\r\n\r\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION.diffImagesPerPairDialog;\r\n    readonly SEP = VALUES.upload.fileNameSeparator;\r\n    \r\n}\r\n","<div class=\"dialog-header\">\r\n    <div mat-dialog-title>\r\n        <div>{{ 'TRANSLATION' | translate: TRANSLATION.title }}</div>\r\n        <button mat-icon-button mat-dialog-close id=\"modal-close-btn\" \r\n            matTooltip=\"{{ 'CLOSE' | translate }}\">\r\n            <mat-icon>close</mat-icon>\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<div mat-dialog-content>\r\n    <div>\r\n        {{ 'TRANSLATION' | translate: TRANSLATION.instruction }}: \r\n        <i>[{{ 'TRANSLATION' | translate: TRANSLATION.pairName }}]</i>\r\n        {{SEP}}\r\n        <i>[{{ 'TRANSLATION' | translate: TRANSLATION.imageId }}]</i>\r\n    </div>\r\n    <div class=\"image-cont\">\r\n        <img src=\"assets/images/upload_diff_images_per_pair_example.png\" alt=\"Image\">\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { UploadComponent } from 'src/app/shared/components/input/upload/upload.component';\r\nimport { FileUploadTypeEnum } from 'src/app/shared/enums/file-upload-type.enum';\r\nimport { FileUpload } from 'src/app/shared/model/file-upload.model';\r\nimport { GAME_BUILDER_TRANSLATION } from '../game-builder-values';\r\n\r\n@Component({\r\n    selector: 'app-game-builder',\r\n    templateUrl: './game-builder.component.html',\r\n    styleUrls: ['./game-builder.component.scss']\r\n})\r\nexport class GameBuilderComponent implements OnInit {\r\n\r\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION;\r\n    readonly CONFIG_FILE_TYPE = FileUploadTypeEnum.JSON;\r\n\r\n    pageTitleTranslation: any = {};\r\n    flag: { [key: string]: boolean } = {};\r\n\r\n    private _isDemo: boolean;\r\n    \r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private gameService: GameService,\r\n    ) {}\r\n\r\n    ngOnInit(): void {\r\n        this.route.data?.subscribe(data => {\r\n            this._isDemo = data.demo ?? false;\r\n            this.pageTitleTranslation = (this._isDemo ? \r\n                this.TRANSLATION.pageTitle.demoBuilder :\r\n                this.TRANSLATION.pageTitle.gameBuilder\r\n            );\r\n            this._initFlags();\r\n        });\r\n    }\r\n\r\n    private _initFlags() {\r\n        this.flag = {\r\n            isDemo: this._isDemo,\r\n            uploadConfigFile: false,\r\n            showForm: true\r\n        }\r\n    }\r\n\r\n    get isDemo() {\r\n        return this._isDemo;\r\n    }\r\n\r\n    onChangeUploadConfigFile($doUpload: boolean) {\r\n        this.flag.uploadConfigFile = $doUpload;\r\n        this.flag.showForm = !$doUpload;\r\n    }\r\n\r\n    onUploadConfigFile(uploadFiles: FileUpload[], uploadChild: UploadComponent) {\r\n        try {\r\n            this.gameService.createGameFromUploadedConfigFile(uploadFiles[0]);\r\n        } catch (error) {\r\n            uploadChild.reset();\r\n        }\r\n    }\r\n    \r\n}","<h1 class=\"color-primary\">{{ 'TRANSLATION' | translate: pageTitleTranslation }}</h1>\r\n\r\n<div class=\"main-instructions mb-4\">\r\n    <mat-label>\r\n        {{ 'TRANSLATION' | translate: TRANSLATION.topInstruction.main }}\r\n        {{ 'TRANSLATION' | translate: TRANSLATION.topInstruction.orUploadConfigFile }}\r\n    </mat-label>\r\n\r\n    <div *ngIf=\"!flag.isDemo\" class=\"upload-config-file\">\r\n        <mat-checkbox (change)=\"onChangeUploadConfigFile($event.checked)\" color=\"primary\">\r\n            {{ 'TRANSLATION' | translate: TRANSLATION.uploadConfigFile.checkboxLabel }}\r\n        </mat-checkbox>\r\n        <span class=\"instruction\">\r\n            {{ 'TRANSLATION' | translate: TRANSLATION.uploadConfigFile.instruction }}\r\n        </span>\r\n    </div>\r\n</div>\r\n\r\n<app-game-builder-form *ngIf=\"flag.showForm\" [parent]=\"this\"></app-game-builder-form>\r\n\r\n<div *ngIf=\"flag.uploadConfigFile\">\r\n    <app-upload #upload [fileType]=\"CONFIG_FILE_TYPE\" (onUpload)=\"onUploadConfigFile($event, upload)\"></app-upload>\r\n</div>","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { FileUpload } from 'src/app/shared/model/file-upload.model';\r\nimport { GAME_BUILDER_TRANSLATION } from '../../../game-builder-values';\r\nimport { UrlPairConfig } from '../url-pair-config.model';\r\n\r\n@Component({\r\n    selector: 'app-card-urls',\r\n    templateUrl: './card-urls.component.html',\r\n    styleUrls: ['./card-urls.component.scss']\r\n})\r\nexport class CardUrlsInputComponent implements OnInit, OnChanges  {\r\n\r\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION.input.cards;\r\n    private readonly _CARD_URLS_INPUT = 'cardUrls';\r\n\r\n    @Input() form: FormGroup;\r\n    @Input() controlName: string;\r\n    @Input() urlPairConfig: UrlPairConfig;\r\n\r\n    indices: number[];\r\n\r\n    private _formArray: FormArray;\r\n    private _numCardImages: number;\r\n    private _cardImageMap: { [key: string]: FileUpload } = {};\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n    ) {\r\n        // define hear to avoid ExpressionChangedAfterItHasBeenCheckedError\r\n        this.indices = [...Array(2).keys()];\r\n        this._formArray = fb.array([]);\r\n    }\r\n    \r\n\r\n    ngOnInit(): void {\r\n        setTimeout(() => {\r\n            this.indices = [...Array(this.urlPairConfig.numPairs).keys()];\r\n            this._cardImageMap = {};\r\n            this._numCardImages = this.urlPairConfig.numCards;\r\n            this.form.addControl(this._CARD_URLS_INPUT, this._formArray);\r\n        }, 1);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.form.removeControl(this._CARD_URLS_INPUT);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.urlPairConfig && !changes.urlPairConfig.firstChange) {\r\n            this.ngOnInit();\r\n        }\r\n    }\r\n\r\n    addSubForm(subForm: FormGroup) {\r\n        this._formArray.push(subForm);\r\n    }\r\n\r\n    getSubForm(index: number) {\r\n        return this._formArray?.controls[index] as FormGroup;\r\n    }\r\n\r\n    getUrl(pairIndex: number, imageIndex: number = 0): string {\r\n        try {\r\n            return this._cardImageMap[this._buildCardImageKey(pairIndex, imageIndex)]?.src;\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private _buildCardImageKey(pairIndex: number, imageIndex: number): string {\r\n        return `${pairIndex}${imageIndex}`;\r\n    }\r\n\r\n    onInsertUrl($url: string, pairIndex: number, imageIndex: number = 0) {\r\n        let key = this._buildCardImageKey(pairIndex, imageIndex);\r\n        this._cardImageMap[key] = new FileUpload($url, `pair${pairIndex+1}_image${imageIndex+1}`);\r\n        this._updateFormControl();\r\n    }\r\n\r\n    deleteUrl(pairIndex: number, imageIndex: number = 0) {\r\n        let sumControlName = 'url';\r\n        if (imageIndex == 1) {\r\n            sumControlName = 'url2';\r\n        }\r\n        this.getSubForm(pairIndex).get(sumControlName).reset();\r\n\r\n        let cardImageKey = this._buildCardImageKey(pairIndex, imageIndex);\r\n        delete this._cardImageMap[cardImageKey];\r\n\r\n        this._updateFormControl();\r\n    }\r\n\r\n    private _updateFormControl() {\r\n        let cardImages = Object.values(this._cardImageMap);\r\n        if (cardImages.length === this._numCardImages) {\r\n            this.form.get(this.controlName).setValue(cardImages);\r\n            return;\r\n        }\r\n\r\n        this.form.get(this.controlName).setValue(null);\r\n    }\r\n\r\n}\r\n","<div *ngIf=\"indices\">\r\n    <div *ngFor=\"let i of (indices || [])\" class=\"card-box\">\r\n        <app-card-pair-url-inputs [parent]=\"this\" [index]=\"i\" [urlPairConfig]=\"urlPairConfig\"></app-card-pair-url-inputs>\r\n    </div>\r\n</div>\r\n","export const GAME_BUILDER_FORM_INPUT = {\r\n    cardIdType: 'cardIdType',\r\n    addBackgroundImg: 'addBackgroundImg',\r\n    backgroundImgSrc: 'backgroundImgSrc',\r\n    card: {\r\n        singleCardPerPair: 'singleCardPerPair',\r\n        addCustomSoundsPerCard: 'addCustomSoundsPerCard',\r\n        cardSrcType: 'cardSrcType',\r\n        // for srcType UPLOAD\r\n        upload: {\r\n            images: 'cardUploadImages',\r\n            audios: 'cardUploadAudios'\r\n        },\r\n        // for srcType URL        \r\n        numPairs: 'numPairs',\r\n        urls: 'cardUrls',\r\n    }\r\n}\r\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { MatOption } from '@angular/material/core';\r\nimport { AbstractInputComponent } from '../../abstract-input.component';\r\n\r\n\r\n@Component({\r\n    selector: 'app-select',\r\n    templateUrl: './select.component.html',\r\n    styleUrls: ['./select.component.scss', '../../abstract-input.component.scss']\r\n})\r\nexport class SelectComponent extends AbstractInputComponent implements OnInit, OnChanges {\r\n\r\n    readonly ALL_OPTION = 'all';\r\n    \r\n    @Input() options: any[] = [];\r\n    @Input() optionsTranslate: any[] = [];\r\n    @Input() valueAttribute: string = 'id';\r\n    @Input() labelAttribute: string = 'label';\r\n    @Input() multiple = false;\r\n    @Input() allOptionLabel: string;\r\n    @Input() useFullOptionAsValue = false;\r\n\r\n    @Output() onFinishedLoading = new EventEmitter<boolean>();\r\n\r\n    showLoadingOptionsError: boolean = false;\r\n\r\n    @ViewChild('allOption') \r\n    private _allOption: MatOption;\r\n    \r\n    private _allSelected = false;\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.showLoadingOptionsError = false;\r\n        this.checkForm();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.options && changes.options.currentValue == null) {\r\n            this.showLoadingOptionsError = true;\r\n        }\r\n    }\r\n\r\n    getOptionValue(option: any): any {\r\n        if (this.useFullOptionAsValue) {\r\n            return option;\r\n        }\r\n        return option[this.valueAttribute];\r\n    }\r\n\r\n    onChangeSelection($eventValue: any) {\r\n        if (this.allOptionLabel && this.multiple) {\r\n            this._onChangeSelectionMultiple($eventValue);\r\n        }\r\n\r\n        this.onChange.emit($eventValue);\r\n    }\r\n\r\n    private _onChangeSelectionMultiple($eventValue: any[]) {\r\n        if (this._allSelected) {\r\n            this.formControl.setValue([]);\r\n            this._allSelected = false;\r\n            return;\r\n        }\r\n\r\n        this._allSelected = $eventValue.includes(this.ALL_OPTION) || \r\n            $eventValue.length == this.options.length;\r\n\r\n        if (this._allSelected) {\r\n            this.formControl.setValue(\r\n                this.options.map(option => option[this.valueAttribute])\r\n            );\r\n        }\r\n    }\r\n\r\n    get allOptionSelected() {\r\n        return this._allOption?.selected || false;\r\n    }\r\n\r\n}\r\n","<div id=\"{{controlName}}-div\" [ngClass]=\"inputClass\">\r\n    <app-input-label [label]=\"label\" [labelTranslate]=\"labelTranslate\"\r\n        [comment]=\"labelComment\" [required]=\"isRequired\">\r\n    </app-input-label>\r\n\r\n    <mat-form-field appearance=\"outline\" class=\"w-100 mat-form-field-label-out\" floatLabel=\"never\" color=\"primary\">\r\n        <mat-select [formControl]=\"formControl\" [multiple]=\"multiple\" \r\n            (selectionChange)=\"onChangeSelection($event.value)\">\r\n\r\n            <mat-option #allOption *ngIf=\"allOptionLabel\" [value]=\"ALL_OPTION\">\r\n                {{ allOptionLabel }}\r\n            </mat-option>            \r\n            \r\n            <div *ngIf=\"optionsTranslate?.length; else showRegularOptions\">\r\n                <mat-option *ngFor=\"let option of optionsTranslate\" [value]=\"getOptionValue(option)\" \r\n                    [disabled]=\"multiple && allOptionSelected\">\r\n                    {{ 'TRANSLATION' | translate: option[labelAttribute] }}\r\n                </mat-option>\r\n            </div>\r\n            <ng-template #showRegularOptions>\r\n                <mat-option *ngFor=\"let option of options\" [value]=\"getOptionValue(option)\" \r\n                    [disabled]=\"multiple && allOptionSelected\">\r\n                    {{ option[labelAttribute] }}\r\n                </mat-option>\r\n            </ng-template>           \r\n        </mat-select>\r\n\r\n        <mat-error *ngIf=\"isRequired\">\r\n            <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.REQUIRED' | translate }}</strong>\r\n        </mat-error>\r\n    </mat-form-field>\r\n</div>\r\n\r\n<div *ngIf=\"showLoadingOptionsError\" class=\"loading-options-error\">\r\n    <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n    Erro ao buscar opções para {{ label }}\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { MaterialModule } from 'src/app/material.module';\r\nimport { InputModule } from 'src/app/shared/components/input/input.module';\r\nimport { GameBuilderFormDemoComponent } from './game-builder-form-demo/game-builder-form-demo.component';\r\nimport { BackgroundImageFormComponent } from './game-builder-form/background-image-form/background-image-form.component';\r\nimport { CardFormComponent } from './game-builder-form/cards/card-form/card-form.component';\r\nimport { CardImageFilenameExampleDialogComponent } from './game-builder-form/cards/card-image-filename-example-dialog/card-image-filename-example-dialog.component';\r\nimport { CardPairUrlInputsComponent } from './game-builder-form/cards/card-urls/card-pair-url-inputs/card-pair-url-inputs.component';\r\nimport { CardUrlsInputComponent } from './game-builder-form/cards/card-urls/card-urls.component';\r\nimport { GameBuilderFormComponent } from './game-builder-form/game-builder-form.component';\r\nimport { GameBuilderComponent } from './game-builder/game-builder.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: GameBuilderComponent,\r\n    },\r\n    {\r\n        path: 'demo',\r\n        component: GameBuilderFormDemoComponent,\r\n    }\r\n]\r\n\r\n@NgModule({\r\n    declarations: [\r\n        GameBuilderComponent,\r\n        GameBuilderFormComponent,\r\n        BackgroundImageFormComponent,\r\n        CardFormComponent,\r\n        CardImageFilenameExampleDialogComponent,\r\n        CardUrlsInputComponent,\r\n        CardPairUrlInputsComponent,\r\n        GameBuilderFormDemoComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        MaterialModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        TranslateModule,\r\n        InputModule,\r\n    ],\r\n    schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\r\n})\r\nexport class GameBuilderModule { }\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-input-image-url',\r\n    templateUrl: './input-image-url.component.html',\r\n    styleUrls: ['./input-image-url.component.scss']\r\n})\r\nexport class InputImageUrlComponent implements OnInit {\r\n\r\n    @Input() labelTranslate: any;\r\n    @Input() label: string;\r\n    @Input() form: FormGroup;\r\n    @Input() controlName: string;\r\n\r\n    formControl: AbstractControl;\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit(): void {\r\n        this.formControl = this.form.get(this.controlName);\r\n    }\r\n\r\n    deleteUrl() {\r\n        this.formControl.setValue(null);\r\n    }\r\n\r\n}\r\n","<div class=\"d-flex-row\">\r\n    <app-input-text  class=\"flex-8\" \r\n        [label]=\"label\" [form]=\"form\" [controlName]=\"controlName\">\r\n    </app-input-text>\r\n\r\n    <app-image-preview class=\"flex-4\" [src]=\"formControl?.value\" (onDelete)=\"deleteUrl()\"></app-image-preview>\r\n</div>","<mat-label *ngIf=\"labelTranslate; else showRegularLabel\">\r\n    {{ 'TRANSLATION' | translate: labelTranslate }}\r\n    <span class=\"input-label-comment\" *ngIf=\"comment\">{{ comment }}</span>\r\n    <span class=\"input-label-required\"> {{ required ? '*' : '' }}</span>\r\n</mat-label>\r\n<ng-template #showRegularLabel>\r\n    {{ label }}\r\n    <span class=\"input-label-comment\" *ngIf=\"comment\">{{ comment }}</span>\r\n    <span class=\"input-label-required\"> {{ required ? '*' : '' }}</span>\r\n</ng-template>","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-input-label',\r\n    templateUrl: './input-label.component.html',\r\n    styleUrls: ['./input-label.component.scss']\r\n})\r\nexport class InputLabelComponent {\r\n\r\n    @Input() labelTranslate: any;\r\n    @Input() label: string;\r\n    @Input() required = true;\r\n    @Input() comment: string;\r\n\r\n}\r\n","import { AbstractControl, Validators } from \"@angular/forms\";\r\n\r\nexport class FormUtil {\r\n\r\n    static setFormControlAsRequiredOrNot(control: AbstractControl, required: boolean) {\r\n        if (required) {\r\n            this.setFormControlAsRequired(control);\r\n        } else {\r\n            this.setFormControlAsNotRequired(control);\r\n        }\r\n    }\r\n\r\n    static setFormControlAsRequired(control: AbstractControl) {\r\n        control.reset();\r\n        control.setValidators(Validators.required);\r\n        control.updateValueAndValidity();\r\n    }\r\n\r\n    static setFormControlAsNotRequired(control: AbstractControl) {\r\n        control.reset();\r\n        control.clearValidators();\r\n        control.updateValueAndValidity();\r\n    }\r\n\r\n    static setFormControlAsInvalid(control: AbstractControl) {\r\n        control?.setErrors({'invalid': true});\r\n        control?.markAsTouched();\r\n    }\r\n\r\n    static setFormControlAsValid(control: AbstractControl, required: boolean) {\r\n        control?.setErrors(required ? {'required': true} : null);\r\n        control?.markAsTouched();\r\n    }\r\n\r\n}\r\n","import { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { FeedbackService } from 'src/app/services/feedback.service';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { VALUES } from 'src/app/shared/constants/global.values';\r\nimport { FileUploadTypeEnum } from 'src/app/shared/enums/file-upload-type.enum';\r\nimport { MediaSourceTypeEnum } from 'src/app/shared/enums/media-src-type.enum';\r\nimport { ITranslation } from 'src/app/shared/components/translation/translation.model';\r\nimport { FormUtil } from 'src/app/shared/util/form.util';\r\nimport { GAME_BUILDER_TRANSLATION } from '../../../game-builder-values';\r\nimport { GAME_BUILDER_FORM_INPUT } from '../../../game-build-form-input.values';\r\nimport { GameBuilderFormComponent } from '../../game-builder-form.component';\r\nimport { CardImageFilenameExampleDialogComponent } from '../card-image-filename-example-dialog/card-image-filename-example-dialog.component';\r\nimport { UrlPairConfig } from '../url-pair-config.model';\r\n\r\nconst ANIMATION_TIMEOUT = 500;\r\nconst STATE = {\r\n    show: 'show',\r\n    hide: 'hide'\r\n};\r\n\r\n@Component({\r\n    selector: 'app-card-form',\r\n    templateUrl: './card-form.component.html',\r\n    styleUrls: ['./card-form.component.scss'],\r\n    animations: [\r\n        trigger('showContent', [\r\n            state(STATE.show, style({\r\n                overflow: 'hidden',\r\n                height: '*'\r\n            })),\r\n            state(STATE.hide, style({\r\n                overflow: 'hidden',\r\n                height: '0px',\r\n                opacity: '0'\r\n            })),\r\n            transition('*=>*', animate(`${ANIMATION_TIMEOUT}ms ease-in-out`))\r\n        ])\r\n    ]\r\n})\r\nexport class CardFormComponent implements OnInit {\r\n\r\n    readonly UploadFileType = FileUploadTypeEnum;\r\n    readonly FORM_INPUT = GAME_BUILDER_FORM_INPUT.card;\r\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION.input;\r\n    readonly FILENAME_SEP = VALUES.upload.fileNameSeparator;\r\n    readonly MIN_NUM_PAIRS = 2;\r\n\r\n    @Input() parent: GameBuilderFormComponent;\r\n\r\n    form: FormGroup;\r\n    stateUrlInputs = STATE.hide;\r\n    urlPairConfig: UrlPairConfig;\r\n    flag: { [key: string]: boolean };\r\n    invalidUploadMsg: ITranslation;\r\n\r\n    constructor(\r\n        private feedbackService: FeedbackService,\r\n        private gameService: GameService\r\n    ) {}\r\n\r\n    ngOnInit(): void {\r\n        this.form = this.parent.form;\r\n        this._initFlags();\r\n    }\r\n\r\n    private _initFlags() {\r\n        this.flag = {\r\n            isUpload: null,\r\n            showFilePatternWarning: false,\r\n            showAudioUpload: false,\r\n        }\r\n    }\r\n\r\n    private get _addCustomSoundsPerCard() {\r\n        return this.form.get(this.FORM_INPUT.addCustomSoundsPerCard).value as boolean;\r\n    }\r\n\r\n    private get _singleCardPerPair() {\r\n        return this.form.get(this.FORM_INPUT.singleCardPerPair).value as boolean;\r\n    }\r\n\r\n    get showFilePatternWarning(): boolean {\r\n        try {\r\n            return this.flag.isUpload && this._singleCardPerPair === false;\r\n        } catch (error) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    changeAddCustomAudios($addCustomAudios: boolean) {\r\n        this.flag.showAudioUpload = (this.flag.isUpload && $addCustomAudios);\r\n        if (this.flag.showAudioUpload) {\r\n            this._addUploadAudioControl();\r\n        } else if (this.flag.isUpload) {\r\n            this.form.removeControl(this.FORM_INPUT.upload.audios);\r\n        }\r\n\r\n        this.receivePairConfigChange();\r\n    }\r\n\r\n    onChangeNumPairsForUrl($numPairs: number) {\r\n        if ($numPairs < this.MIN_NUM_PAIRS) {\r\n            return;\r\n        }\r\n        this.receivePairConfigChange();\r\n    }\r\n\r\n    receivePairConfigChange(numPairs?: number) {\r\n        let singleCardPerPair = this._singleCardPerPair;\r\n        let addCustomAudioPerPair = this._addCustomSoundsPerCard;\r\n        numPairs = numPairs ?? (this.form.get(this.FORM_INPUT.numPairs)?.value as number);\r\n\r\n        if (this.flag.isUpload || ([ singleCardPerPair, addCustomAudioPerPair, numPairs ]).some(value => value == null)) {\r\n            this._removeUrlInputs();\r\n            return;\r\n        }\r\n\r\n        this.urlPairConfig = new UrlPairConfig(singleCardPerPair, addCustomAudioPerPair, numPairs);\r\n        this.stateUrlInputs = STATE.show;\r\n    }\r\n\r\n    private _removeUrlInputs() {\r\n        this.stateUrlInputs = STATE.hide;\r\n        setTimeout(() => {\r\n            this.urlPairConfig = null;\r\n        }, ANIMATION_TIMEOUT);\r\n    }\r\n    \r\n\r\n    onChangeCardSrcType($value: MediaSourceTypeEnum) {\r\n        this.flag.isUpload = ($value === MediaSourceTypeEnum.UPLOAD);\r\n        this.flag.showAudioUpload = (this.flag.isUpload && this._addCustomSoundsPerCard);\r\n\r\n        if (this.flag.isUpload) {\r\n            this.form.addControl(this.FORM_INPUT.upload.images, new FormControl(null, Validators.required));\r\n            if (this.flag.showAudioUpload) {\r\n                this._addUploadAudioControl();\r\n            }           \r\n            this.form.removeControl(this.FORM_INPUT.numPairs);\r\n            this._removeUrlInputs();\r\n        } else {\r\n            this.form.removeControl(this.FORM_INPUT.upload.images);\r\n            this.form.removeControl(this.FORM_INPUT.upload.audios);\r\n            this.form.addControl(this.FORM_INPUT.numPairs, new FormControl(null, [Validators.required, Validators.min(this.MIN_NUM_PAIRS)]));\r\n        }\r\n    }\r\n\r\n    private _addUploadAudioControl() {\r\n        this.form.addControl(this.FORM_INPUT.upload.audios, new FormControl(null, Validators.required));\r\n    }\r\n    \r\n\r\n    receiveUploads(siblingControlName: string) {\r\n        let siblingFileUploadLen = (this.form.get(siblingControlName)?.value ?? []).length;\r\n        if (!siblingFileUploadLen) {\r\n            return;\r\n        }\r\n\r\n        const cardUploadInput = this.FORM_INPUT.upload;\r\n        let imageControl = this.form.get(cardUploadInput.images);\r\n        let audioControl = this.form.get(cardUploadInput.audios);\r\n\r\n        try {\r\n            this.gameService.validateCardUploads(imageControl.value, audioControl.value);\r\n            this.invalidUploadMsg = null;\r\n            FormUtil.setFormControlAsValid(imageControl, false);\r\n            FormUtil.setFormControlAsValid(audioControl, false);\r\n        } \r\n        catch (error) {\r\n            this.invalidUploadMsg = this.feedbackService.handleError(error);\r\n            FormUtil.setFormControlAsInvalid(imageControl);\r\n            FormUtil.setFormControlAsInvalid(audioControl);\r\n        }\r\n    }\r\n\r\n    openExample() {\r\n        this.feedbackService.dialog.openCustomDialog(CardImageFilenameExampleDialogComponent, 80);\r\n    }\r\n\r\n}\r\n","<div class=\"form-line\">\r\n    <app-select-yes-no label=\"{{ 'TRANSLATION' | translate: TRANSLATION.singleCardPerPair }}\" \r\n        [form]=\"form\" [controlName]=\"FORM_INPUT.singleCardPerPair\" (onChange)=\"receivePairConfigChange()\">\r\n    </app-select-yes-no>\r\n\r\n    <app-select-yes-no label=\"{{ 'TRANSLATION' | translate: TRANSLATION.addCustomSoundsPerCard }}\" \r\n        [form]=\"form\" [controlName]=\"FORM_INPUT.addCustomSoundsPerCard\" (onChange)=\"changeAddCustomAudios($event)\">\r\n    </app-select-yes-no>\r\n\r\n    <app-select-media-src-type [form]=\"form\" [controlName]=\"FORM_INPUT.cardSrcType\" [multiple]=\"true\"\r\n        (onChange)=\"onChangeCardSrcType($event)\">\r\n    </app-select-media-src-type>\r\n</div>\r\n\r\n<div [ngSwitch]=\"flag.isUpload\" class=\"form-line mt-3 mb-3\">\r\n    <div *ngSwitchCase=\"true\" class=\"d-flex-col\">\r\n        <div class=\"uploads\">\r\n            <div class=\"upload-div\">\r\n                <div>\r\n                    <app-upload\r\n                        [fileType]=\"UploadFileType.IMAGE\" [labelTranslate]=\"TRANSLATION.cards.upload.images.pickDirPath\" \r\n                        [form]=\"form\" [controlName]=\"FORM_INPUT.upload.images\" [selectAllDir]=\"true\"\r\n                        (onUpload)=\"receiveUploads(FORM_INPUT.upload.audios)\">\r\n                    </app-upload>\r\n                </div>\r\n                <div *ngIf=\"showFilePatternWarning\" class=\"file-warning\">\r\n                    <mat-icon>warning</mat-icon>\r\n                    <span>\r\n                        {{ 'TRANSLATION' | translate: TRANSLATION.cards.upload.images.diffImagesPerPair.warning }}\r\n                        <a class=\"example-link\" (click)=\"openExample()\">\r\n                            {{ 'TRANSLATION' | translate: TRANSLATION.cards.upload.images.diffImagesPerPair.warningLink }}\r\n                        </a>.\r\n                    </span>\r\n                </div>\r\n            </div>            \r\n\r\n            <div *ngIf=\"flag.showAudioUpload\" class=\"upload-div\">\r\n                <div>\r\n                    <app-upload\r\n                        [fileType]=\"UploadFileType.AUDIO\" [labelTranslate]=\"TRANSLATION.cards.upload.audios.pickDirPath\" \r\n                        [form]=\"form\" [controlName]=\"FORM_INPUT.upload.audios\" [selectAllDir]=\"true\"\r\n                        (onUpload)=\"receiveUploads(FORM_INPUT.upload.images)\">\r\n                    </app-upload>\r\n                </div>\r\n                <div class=\"file-warning\">\r\n                    <mat-icon>warning</mat-icon>\r\n                    <div>{{ 'TRANSLATION' | translate: TRANSLATION.cards.upload.audios.instruction }}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"invalidUploadMsg\" class=\"mat-custom-error\">\r\n            <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'TRANSLATION' | translate: invalidUploadMsg }}</strong>\r\n        </div>\r\n    </div>\r\n\r\n    <app-input-number *ngSwitchCase=\"false\"\r\n        [labelTranslate]=\"TRANSLATION.numPairs\" \r\n        [form]=\"form\" [controlName]=\"FORM_INPUT.numPairs\" [min]=\"MIN_NUM_PAIRS\"\r\n        (onChange)=\"onChangeNumPairsForUrl($event)\">\r\n    </app-input-number>\r\n</div>\r\n\r\n<div [@showContent]=\"stateUrlInputs\">\r\n    <div *ngIf=\"urlPairConfig\" class=\"form-line\">\r\n        <div class=\"form-item mt-3\">\r\n            <app-card-urls [form]=\"form\" [controlName]=\"FORM_INPUT.urls\" [urlPairConfig]=\"urlPairConfig\">\r\n            </app-card-urls>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { UploadComponent } from 'src/app/shared/components/input/upload/upload.component';\r\nimport { MediaSourceTypeEnum } from 'src/app/shared/enums/media-src-type.enum';\r\nimport { FileUpload } from 'src/app/shared/model/file-upload.model';\r\nimport { FormUtil } from 'src/app/shared/util/form.util';\r\nimport { GAME_BUILDER_TRANSLATION } from '../../game-builder-values';\r\n\r\n@Component({\r\n    selector: 'app-background-image-form',\r\n    templateUrl: './background-image-form.component.html',\r\n    styleUrls: ['./background-image-form.component.scss']\r\n})\r\nexport class BackgroundImageFormComponent implements OnInit {\r\n\r\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION.input.backgroundImg;\r\n\r\n    @Input() form: FormGroup;\r\n    @Input() controlName: string;\r\n\r\n    @ViewChild('upload') private _uploadChild: UploadComponent;\r\n\r\n    myControlName: { [key: string]: string } = {};\r\n    isUrl: boolean;\r\n    imgPreview: any;\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.myControlName = {\r\n            srcType: `${this.controlName}SrcType`,\r\n            url:     `${this.controlName}Url`,\r\n            upload:  `${this.controlName}Upload`\r\n        }\r\n\r\n        this.form.addControl(this.myControlName.srcType, new FormControl(null, Validators.required));\r\n        this.form.addControl(this.myControlName.url, new FormControl());\r\n        this.form.addControl(this.myControlName.upload, new FormControl());\r\n\r\n        this.form.get(this.myControlName.upload).valueChanges.subscribe(value => this._onUpload(value));\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        Object.values(this.myControlName).forEach(controlName => this.form.removeControl(controlName));\r\n    }\r\n\r\n    onChooseInputType($srcType: MediaSourceTypeEnum) {\r\n        this.isUrl = ($srcType == MediaSourceTypeEnum.URL);\r\n        this.imgPreview = null;\r\n        this.form.get(this.controlName).setValue(null);\r\n\r\n        if (this.isUrl) {\r\n            this._setFormControlAsRequired(this.myControlName.url);\r\n            this._setFormControlAsNotRequired(this.myControlName.upload);\r\n        } \r\n        else {\r\n            this._setFormControlAsRequired(this.myControlName.upload);\r\n            this._setFormControlAsNotRequired(this.myControlName.url);\r\n        }\r\n    }\r\n\r\n    private _setFormControlAsRequired(controlName: string) {\r\n        FormUtil.setFormControlAsRequired(this.form.get(controlName));\r\n    }\r\n\r\n    private _setFormControlAsNotRequired(controlName: string) {\r\n        FormUtil.setFormControlAsNotRequired(this.form.get(controlName));\r\n    }\r\n\r\n\r\n    private _onUpload(cardImages: FileUpload[]) {\r\n        if ( !(cardImages?.length) ) {\r\n            this._setImage(null);\r\n            return;\r\n        }\r\n        this._setImage(cardImages[0].src);\r\n    }\r\n\r\n    onInsertUrl($url: string) {\r\n        let value = $url;\r\n        if (!$url) {\r\n            value = null;\r\n        }\r\n        this._setImage(value);\r\n    }\r\n\r\n    private _setImage(src: string) {\r\n        this.imgPreview = src;\r\n        this.form.get(this.controlName).setValue(src);\r\n    }\r\n\r\n\r\n    deleteFile() {\r\n        ([\r\n            this.myControlName.url,\r\n            this.myControlName.upload\r\n        ])\r\n        .forEach(controlName => this.form.get(controlName).setValue(null));\r\n        \r\n        this._setImage(null);\r\n        this._uploadChild?.reset();\r\n    }\r\n\r\n}\r\n","<div class=\"input-image\">\r\n    <app-select-media-src-type [form]=\"form\" [controlName]=\"myControlName.srcType\"\r\n        (onChange)=\"onChooseInputType($event)\">\r\n    </app-select-media-src-type>\r\n\r\n    <div class=\"form-item\">\r\n        <div class=\"input-preview\">\r\n            <div [ngSwitch]=\"isUrl\" [ngClass]=\"isUrl ? 'form-item' : ''\">\r\n                <div *ngSwitchCase=\"true\">\r\n                    <app-input-text [labelTranslate]=\"TRANSLATION.url\" \r\n                        [form]=\"form\" [controlName]=\"myControlName.url\" (onChange)=\"onInsertUrl($event)\">\r\n                    </app-input-text>\r\n                </div>\r\n\r\n                <div *ngSwitchCase=\"false\">\r\n                    <app-upload #upload [labelTranslate]=\"TRANSLATION.upload\" \r\n                        [form]=\"form\" [controlName]=\"myControlName.upload\" (onClearInput)=\"deleteFile()\">\r\n                    </app-upload>\r\n                </div>\r\n            </div>\r\n\r\n            <app-image-preview [src]=\"imgPreview\" (onDelete)=\"deleteFile()\"></app-image-preview>\r\n        </div>\r\n    </div>\r\n</div>","import { FileUploadTypeEnum } from \"../../../enums/file-upload-type.enum\";\r\n\r\nexport const UPLOAD_TRANSLATION = {\r\n    noFileChosen: {\r\n        pt: 'Nenhum arquivo escolhido',\r\n        en: 'No file chosen'\r\n    },\r\n\r\n    nonMultiple: {\r\n        btn: {\r\n            pt: 'Escolher arquivo',\r\n            en: 'Choose file'\r\n        },\r\n        acceptErrorMsg: {\r\n            pt: 'O arquivo selecionado não é {{ fileType }}. Tente novamente!',\r\n            en: 'The selected file is not {{ fileType }}. Try again!'\r\n        }\r\n    },\r\n\r\n    multiple: {\r\n        btn: {\r\n            pt: 'Escolher arquivos',\r\n            en: 'Choose files'\r\n        },\r\n        acceptErrorMsg: {\r\n            pt: 'Pelo menos 1 arquivo da pasta selecionada não é {{ fileType }}. Tente novamente!',\r\n            en: 'At least 1 file in the selected folder is not {{ fileType }} type. Try again!'\r\n        },\r\n        chosenFilesMsg: {\r\n            pt: 'arquivo(s)',\r\n            en: 'file(s)'\r\n        }\r\n    },\r\n\r\n    fileType: {\r\n        [FileUploadTypeEnum.IMAGE]: {\r\n            pt: 'uma imagem',\r\n            en: 'an image'\r\n        },\r\n        [FileUploadTypeEnum.AUDIO]: {\r\n            pt: 'um áudio',\r\n            en: 'an audio'\r\n        },\r\n        [FileUploadTypeEnum.JSON]: {\r\n            pt: 'válido',\r\n            en: 'valid'\r\n        },\r\n    },\r\n    \r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GameService } from 'src/app/services/game.service';\nimport { ToastService } from 'src/app/services/toast.service';\nimport { CardIdTypeEnum, CardIdTypeNameTranslations } from 'src/app/shared/enums/card-id-type.enum';\nimport { GameConfig } from 'src/app/shared/model/game-config.model';\nimport { GAME_BUILDER_FORM_INPUT } from '../game-build-form-input.values';\nimport { GAME_BUILDER_TRANSLATION } from '../game-builder-values';\nimport { GameBuilderComponent } from '../game-builder/game-builder.component';\n\n@Component({\n    selector: 'app-abstract-game-builder-form',\n    template: '',\n    styleUrls: []\n})\nexport class AbstractGameBuilderFormComponent implements OnInit {\n\n    readonly TRANSLATION = GAME_BUILDER_TRANSLATION;\n    readonly FORM_INPUT = GAME_BUILDER_FORM_INPUT;\n    readonly ACCEPT_IMG = [ 'image/png', 'image/jpeg' ];\n\n    @Input() parent: GameBuilderComponent;\n\n    form: FormGroup;\n    options: { [key: string]: any[] } = {};\n\n    constructor(\n        protected gameService: GameService,\n        protected toastService: ToastService,\n    ) { }\n\n    ngOnInit(): void {\n        this._initForm();\n        this._setOptions();\n    }\n\n    protected _initForm() {\n        throw new Error('Method not implemented'); // child components should implement it\n    }\n\n    protected _setOptions() {\n        const cardIdTypeNameTranslations = CardIdTypeNameTranslations;\n        this.options = {\n            cardId: [\n                { \n                    id: CardIdTypeEnum.NUMBERS, \n                    label: cardIdTypeNameTranslations[CardIdTypeEnum.NUMBERS] \n                },\n                { \n                    id: CardIdTypeEnum.ROW_COLUMN, \n                    label: cardIdTypeNameTranslations[CardIdTypeEnum.ROW_COLUMN] \n                },\n                { \n                    id: CardIdTypeEnum.ICONS, \n                    label: cardIdTypeNameTranslations[CardIdTypeEnum.ICONS]\n                },\n            ],\n        }\n    }\n\n    submit() {\n        if (this._isInvalidForm) {\n            return this.toastService.showInvalidFormError();\n        }\n\n        this.gameService.create(this._buildGameConfig());\n    }\n\n    protected get _isInvalidForm() {\n        this.form.markAllAsTouched();\n        return this.form.invalid;\n    }\n\n    protected _buildGameConfig(): GameConfig {\n        throw new Error('Method not implemented'); // child components should implement it\n    }\n\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { SelectComponent } from '../select/select.component';\r\n\r\n@Component({\r\n    selector: 'app-select-yes-no',\r\n    templateUrl: './select-yes-no.component.html',\r\n    styleUrls: []\r\n})\r\nexport class SelectYesNoComponent extends SelectComponent implements OnInit {\r\n\r\n    ngOnInit(): void {\r\n        this.options = [\r\n            { \r\n                id: true, \r\n                label: { \r\n                    pt: 'Sim', \r\n                    en: 'Yes' \r\n                } \r\n            },\r\n            { \r\n                id: false, \r\n                label: {\r\n                    pt: 'Não',\r\n                    en: 'No'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n}\r\n","<app-select [label]=\"label\" [labelTranslate]=\"labelTranslate\"\r\n    [form]=\"form\" [controlName]=\"controlName\" [optionsTranslate]=\"options\" \r\n    (onChange)=\"onChangeSelection($event)\">\r\n</app-select>","export const SRC_TYPE_TRANSLATION_VALUES = {\r\n\r\n    nonMultiple: {\r\n        input: {\r\n            pt: 'Como deseja inserir a imagem?',\r\n            en: 'How do you want to insert the image?'\r\n        },\r\n        options: {\r\n            url: {\r\n                pt: 'Link da imagem',\r\n                en: 'Image link'\r\n            },\r\n            upload: {\r\n                pt: 'Enviar arquivo',\r\n                en: 'Upload image file'\r\n            }\r\n        },\r\n    },\r\n\r\n    multiple: {\r\n        input: {\r\n            pt: 'Como deseja inserir as cartas (imagens e sons)?',\r\n            en: 'How do you want to insert the cards (images and sounds)?'\r\n        },\r\n        options: {\r\n            url: {\r\n                pt: 'Links (URLs)',\r\n                en: 'Links (URLs)'\r\n            },\r\n            upload: {\r\n                pt: 'Enviar arquivos',\r\n                en: 'Upload files'\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { AbstractInputComponent } from '../abstract-input.component';\r\n\r\n@Component({\r\n    selector: 'app-input-number',\r\n    templateUrl: './input-number.component.html',\r\n    styleUrls: [\r\n        './input-number.component.scss',\r\n        '../abstract-input.component.scss'\r\n    ]\r\n})\r\nexport class InputNumberComponent extends AbstractInputComponent {\r\n\r\n    @Input() min: number = null;\r\n    @Input() max: number = null;\r\n\r\n    sendValueChange($event: any) {\r\n        let value: number = $event?.target?.valueAsNumber;\r\n        if(isNaN(value)) {\r\n            value = null;\r\n        }\r\n        this.onChange.emit(value);\r\n    }\r\n\r\n}\r\n","<div id=\"{{controlName}}-div\" [ngClass]=\"inputClass\">\r\n    <app-input-label *ngIf=\"label || labelTranslate\" \r\n        [label]=\"label\" [labelTranslate]=\"labelTranslate\" [comment]=\"labelComment\" [required]=\"isRequired\">\r\n    </app-input-label>\r\n\r\n    <mat-form-field appearance=\"outline\" class=\"w-100 mat-form-field-label-out\" floatLabel=\"never\" color=\"primary\">\r\n        <input matInput \r\n            type=\"number\" \r\n            [formControl]=\"formControl\" \r\n            (change)=\"sendValueChange($event)\" \r\n            [min]=\"min\"\r\n            [max]=\"max\"\r\n        >\r\n    \r\n        <mat-error *ngIf=\"isRequired\">\r\n            <mat-icon aria-hidden=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.REQUIRED' | translate }}</strong>\r\n        </mat-error>\r\n        <mat-error *ngIf=\"min!=null && formControl.hasError('min')\">\r\n            <mat-icon aria-hidden=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.MIN_VALUE' | translate: { min: min } }}</strong>\r\n        </mat-error>\r\n        <mat-error *ngIf=\"max!=null && formControl.hasError('max')\">\r\n            <mat-icon aria-hidden=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.MAX_VALUE' | translate: { max: max } }}</strong>\r\n        </mat-error>\r\n        <mat-error *ngIf=\"min==null && max==null && isInvalid\">\r\n            <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.INVALID' | translate }}</strong>\r\n        </mat-error>\r\n    </mat-form-field>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-input-audio-url',\r\n    templateUrl: './input-audio-url.component.html',\r\n    styleUrls: ['./input-audio-url.component.scss']\r\n})\r\nexport class InputAudioUrlComponent implements OnInit {\r\n\r\n    @Input() labelTranslate: any;\r\n    @Input() label: string;\r\n    @Input() form: FormGroup;\r\n    @Input() controlName: string;\r\n\r\n    flag: { [key: string]: boolean } = {};\r\n\r\n    private _audio: HTMLAudioElement;\r\n\r\n    ngOnInit(): void {\r\n        this.flag = {\r\n            hasValue: false,\r\n            isPlaying: false,\r\n        }\r\n\r\n        this._audio = new Audio();\r\n\r\n        this.form.get(this.controlName).valueChanges.subscribe(value => {\r\n            this.flag.hasValue = !!value;\r\n            this._audio.src = value;\r\n            if (value) {\r\n                this._audio.load();\r\n            }\r\n        });\r\n    }\r\n\r\n    playPause() {\r\n        this.flag.isPlaying = !this.flag.isPlaying;\r\n        if (this.flag.isPlaying) {\r\n            this._audio.play();\r\n        } else {\r\n            this._audio.pause();\r\n        }\r\n    }\r\n\r\n    delete() {\r\n        this.flag.isPlaying = false;\r\n        this.form.get(this.controlName).setValue(null);\r\n    }\r\n\r\n}\r\n","<div class=\"d-flex-row\">\r\n    <app-input-text class=\"flex-8\" [labelTranslate]=\"labelTranslate\" [label]=\"label\" [form]=\"form\" [controlName]=\"controlName\"></app-input-text>\r\n    \r\n    <div class=\"flex-4\">\r\n        <div class=\"d-flex-row mt-2\">\r\n            <button mat-icon-button mat-stroked-button color=\"primary\" type=\"button\" (click)=\"playPause()\" [disabled]=\"!flag.hasValue\">\r\n                <mat-icon>{{flag.isPlaying ? 'pause' : 'play_arrow'}}</mat-icon>\r\n            </button>\r\n    \r\n            <button mat-icon-button mat-stroked-button color=\"accent\" type=\"button\" (click)=\"delete()\" [disabled]=\"!flag.hasValue\">\r\n                <mat-icon>delete</mat-icon>\r\n            </button>\r\n        </div>        \r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { SelectComponent } from '../select/select.component';\r\nimport { MediaSourceTypeEnum } from 'src/app/shared/enums/media-src-type.enum';\r\nimport { SRC_TYPE_TRANSLATION_VALUES } from './select-media-src-type-values';\r\n\r\n@Component({\r\n    selector: 'app-select-media-src-type',\r\n    templateUrl: './select-media-src-type.component.html',\r\n    styleUrls: []\r\n})\r\nexport class SelectMediaSrcTypeComponent extends SelectComponent implements OnInit {\r\n\r\n    readonly TRANSLATION = SRC_TYPE_TRANSLATION_VALUES;\r\n\r\n    ngOnInit(): void {\r\n        let translation = (this.multiple ? \r\n            this.TRANSLATION.multiple : \r\n            this.TRANSLATION.nonMultiple\r\n        );\r\n\r\n        this.labelTranslate = translation.input;\r\n        \r\n        this.options = [\r\n            { \r\n                id: MediaSourceTypeEnum.UPLOAD, \r\n                label: translation.options.upload\r\n            },\r\n            { \r\n                id: MediaSourceTypeEnum.URL, \r\n                label: translation.options.url\r\n            },\r\n        ];\r\n    }\r\n\r\n    // override\r\n    onChangeSelection($eventValue: any) {\r\n        this.onChange.emit($eventValue);\r\n    }\r\n\r\n}\r\n","<app-select [labelTranslate]=\"labelTranslate\" \r\n    [form]=\"form\" [controlName]=\"controlName\" [optionsTranslate]=\"options\" \r\n    (onChange)=\"onChangeSelection($event)\">\r\n</app-select>","import { Component, Input } from '@angular/core';\r\nimport { AbstractInputComponent } from '../abstract-input.component';\r\n\r\n@Component({\r\n    selector: 'app-input-text',\r\n    templateUrl: './input-text.component.html',\r\n    styleUrls: [\r\n        './input-text.component.scss',\r\n        '../abstract-input.component.scss'\r\n    ]\r\n})\r\nexport class InputTextComponent extends AbstractInputComponent {\r\n\r\n    @Input() placeholder = '';\r\n    @Input() minLength: number;\r\n    @Input() maxLength = 100;\r\n    @Input() title = '';\r\n    \r\n    clear() {\r\n        this.formControl.setValue(null);\r\n    }\r\n\r\n    sendChangeEvent($event) {\r\n        if( !($event?.target) ) {\r\n            return;\r\n        }\r\n        this.onChange.emit($event.target.value);\r\n    }\r\n\r\n    protected _eventTypeDeleteContent($event: any) {\r\n        return $event?.inputType === 'deleteContentBackward';\r\n    }\r\n\r\n}\r\n","<div id=\"{{controlName}}-div\" [ngClass]=\"inputClass\">\r\n    <app-input-label [label]=\"label\" [labelTranslate]=\"labelTranslate\"\r\n        [comment]=\"labelComment\" [required]=\"isRequired\">\r\n    </app-input-label>\r\n\r\n    <mat-form-field appearance=\"outline\" class=\"w-100 mat-form-field-label-out\" floatLabel=\"never\" color=\"primary\">\r\n        <input matInput\r\n            type=\"text\"\r\n            [formControl]=\"formControl\"\r\n            [id]=\"controlName\"\r\n            [name]=\"controlName\"\r\n            [minLength]=\"minLength\"\r\n            [maxLength]=\"maxLength\"\r\n            [title]=\"title\"\r\n            [placeholder]=\"placeholder\"\r\n            [readonly]=\"disabled\"\r\n            (change)=\"sendChangeEvent($event)\"\r\n        >\r\n\r\n        <mat-error *ngIf=\"isRequired\">\r\n            <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.REQUIRED' | translate }}</strong>\r\n        </mat-error>\r\n\r\n        <mat-error *ngIf=\"isInvalid\">\r\n            <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.INVALID' | translate }}</strong>\r\n        </mat-error>\r\n\r\n        <mat-error *ngIf=\"minLength && hasError('minLength')\">\r\n            <mat-icon aria-label=\"false\">cancel</mat-icon>\r\n            <strong>{{ 'FORM_INPUT.MIN_LENGTH' | translate: { minLength: minLength } }}</strong>\r\n        </mat-error>\r\n    </mat-form-field>\r\n</div>","export class UrlPairConfig {\r\n    \r\n    constructor(\r\n        public singleCardPerPair: boolean,\r\n        public addCustomAudioPerPair: boolean,\r\n        public numPairs: number,\r\n    ) {}\r\n\r\n    get numCards(): number {\r\n        return this.numPairs * (this.singleCardPerPair ? 1 : 2);\r\n    }\r\n    \r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n    selector: 'app-image-preview',\n    templateUrl: './image-preview.component.html',\n    styleUrls: ['./image-preview.component.scss']\n})\nexport class ImagePreviewComponent {\n\n    @Input() src: string;\n\n    @Output() onDelete = new EventEmitter();\n\n    deleteFile() {\n        this.src = null;\n        this.onDelete.emit();\n    }\n\n}\n","<div *ngIf=\"src\" class=\"form-line\">\r\n    <img [src]=\"src\" alt=\"Image\">\r\n\r\n    <div class=\"delete-btn\">\r\n        <button mat-icon-button mat-stroked-button type=\"button\" (click)=\"deleteFile()\" \r\n            matTooltip=\"{{ 'DELETE_IMAGE' | translate }}\" color=\"accent\">\r\n            <mat-icon>delete</mat-icon>\r\n        </button>\r\n    </div>\r\n</div>\r\n"]}