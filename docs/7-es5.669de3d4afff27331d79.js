!function(){function t(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,e(o.key),o)}}function n(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function e(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:String(n)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{DMmz:function(t,e,o){"use strict";o.r(e),o.d(e,"GameModule",function(){return A});var r,a=o("ofXK"),c=o("tyNb"),s=o("6NWb"),d=o("vvyD"),u=o("sYmb"),l=o("fXoL"),f=((r=n(function t(){i(this,t)})).\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.Mb({type:r}),r.\u0275inj=l.Lb({imports:[[a.c,d.a,u.b]]}),r),g=o("nAIU"),b={btn:{sound:{turnOnTooltip:{pt:"Desligar sons",en:"Turn off sounds"},turnOffTooltip:{pt:"Ligar sons",en:"Turn on sounds"}},newGame:{pt:"Novo jogo",en:"New game"}},startNewGameConfirmation:{pt:"Tem certeza que deseja iniciar novo jogo?",en:"Are you sure you want to start a new game?"},finishGame:{congratulations:{pt:"Parab\xe9ns!",en:"Congratulations!"},playAgain:{pt:"Deseja jogar novamente?",en:"Do you want to play again?"}}},m=o("VdwR"),p=o("CzQJ"),h=o("AgV0"),v=o("bTqV"),y=o("Qu3c"),w=o("NFeN"),S=o("YzOW");function O(t,n){if(1&t&&l.Pb(0,"img",7),2&t){var e=l.fc();l.lc("src",e.card.img.base64,l.yc)}}function C(t,n){if(1&t&&l.Pb(0,"fa-icon",8),2&t){var e=l.fc();l.lc("icon",e.card.icon)}}function T(t,n){if(1&t&&(l.Ub(0,"div",9),l.Gc(1),l.Tb()),2&t){var e=l.fc();l.Db(1),l.Hc(e.card.id)}}var _,k=function(t){return{rotated:t}},I=((_=function(){function t(n){i(this,t),this.gameService=n,this.onSelect=new l.o}return n(t,[{key:"isRotated",get:function(){return this._isRotated}},{key:"ngOnInit",value:function(){var t=this;this.showFrontAsIcon=this.gameService.config.cardIdType===S.a.ICONS,this.gameService.getCoveredCards().subscribe(function(n){return n.map(function(n){return t._isRotated=n.id!=t.card.id&&t._isRotated})})}},{key:"onClick",value:function(){this._isRotated=!0,this.onSelect.emit(this.card)}}]),t}()).\u0275fac=function(t){return new(t||_)(l.Ob(m.a))},_.\u0275cmp=l.Ib({type:_,selectors:[["app-memory-card"]],inputs:{card:"card"},outputs:{onSelect:"onSelect"},decls:8,vars:6,consts:[[1,"card",3,"ngClass","click"],[1,"card-inner"],[1,"front"],["alt","card",3,"src",4,"ngIf"],[1,"back","bg-primary"],["size","3x",3,"icon",4,"ngIf","ngIfElse"],["showCardId",""],["alt","card",3,"src"],["size","3x",3,"icon"],[1,"card-id-number","quicksand"]],template:function(t,n){if(1&t&&(l.Ub(0,"div",0),l.bc("click",function(){return n.onClick()}),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Ec(3,O,1,1,"img",3),l.Tb(),l.Ub(4,"div",4),l.Ec(5,C,1,1,"fa-icon",5),l.Ec(6,T,2,1,"ng-template",null,6,l.Fc),l.Tb(),l.Tb(),l.Tb()),2&t){var e=l.tc(7);l.lc("ngClass",l.qc(4,k,n.isRotated)),l.Db(3),l.lc("ngIf",n.card.img),l.Db(2),l.lc("ngIf",n.showFrontAsIcon)("ngIfElse",e)}},directives:[a.i,a.k,s.a],styles:[".card-id-number[_ngcontent-%COMP%]{font-size:var(--card-id-font-size);font-weight:700}.card[_ngcontent-%COMP%]{height:var(--card-width);display:flex;align-items:center;justify-content:center;position:relative;margin:var(--card-margin);cursor:pointer}.card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--card-width)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;border-radius:4px}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{border-radius:4px;position:absolute;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;backface-visibility:hidden}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff}.card-inner[_ngcontent-%COMP%]{height:100%;width:100%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);transition:transform .6s;transform-style:preserve-3d}.rotated[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}"]}),_);function P(t,n){if(1&t){var e=l.Vb();l.Ub(0,"app-memory-card",7),l.bc("onSelect",function(t){return l.wc(e),l.fc().onChooseCard(t)}),l.Tb()}2&t&&l.lc("card",n.$implicit)}var N,x,M=[{path:"",component:(N=function(){function t(n,e,o,r){var a,c,s,d;i(this,t),this.router=n,this.gameService=e,this.dialogService=o,this.translationService=r,this.TRANSLATION=b,this.backgroundImgSrc="",this.boardStyle={},this.soundIcon={},this._cards=[],this._cards=null!==(d=null===(s=null===(c=null===(a=this.router.getCurrentNavigation())||void 0===a?void 0:a.extras)||void 0===c?void 0:c.state)||void 0===s?void 0:s.cards)&&void 0!==d?d:[]}return n(t,[{key:"cards",get:function(){return this._cards}},{key:"ngOnInit",value:function(){var t,n=this.gameService.config;n&&(null===(t=this._cards)||void 0===t?void 0:t.length)?(n.backgroundImgSrc&&(this.backgroundImgSrc="url(".concat(n.backgroundImgSrc,")")),this._setWidth(window.screen.width),this._setSoundIcon()):this.gameService.goHome()}},{key:"_setWidth",value:function(t){if(t<768)this.boardStyle={board:{},card:{}};else{var n=2*this.gameService.config.numPairs,e=[5,4,3].filter(function(t){return n%t==0})[0];this.boardStyle={width:120*e+16*(e-1)+"px"}}}},{key:"onResize",value:function(t){this._setWidth(t.target.innerWidth)}},{key:"_setSoundIcon",value:function(){this.soundIcon=this.gameService.playSound?{icon:"volume_up",tooltip:this.TRANSLATION.btn.sound.turnOnTooltip}:{icon:"volume_off",tooltip:this.TRANSLATION.btn.sound.turnOffTooltip}}},{key:"swapPlaySound",value:function(){this.gameService.swapPlaySound(),this._setSoundIcon()}},{key:"newGame",value:function(){var t=this,n=function(){return t._startNewGame()};if(!this.gameService.isGameFinished)return this.dialogService.openLiveGameConfirmationDialog(n,this.translationService.getTranslationObj(this.TRANSLATION.startNewGameConfirmation));n()}},{key:"_startNewGame",value:function(){var t=this,n=this._cards;this._cards=[],setTimeout(function(){t._cards=t.gameService.restartGame(n)},1)}},{key:"onChooseCard",value:function(t){var n=this;this.gameService.onChooseCard(t)&&setTimeout(function(){n._openNewGameDialog()},g.a.winNotificationTimeout)}},{key:"_openNewGameDialog",value:function(){var t=this;this.dialogService.openConfirmationDialog({header:{icon:"mood",iconColor:"limegreen",title:this.translationService.getTranslationObj(this.TRANSLATION.finishGame.congratulations)},bodyText:this.translationService.getTranslationObj(this.TRANSLATION.finishGame.playAgain),okCallback:function(){return t._startNewGame()}})}}]),t}(),N.\u0275fac=function(t){return new(t||N)(l.Ob(c.b),l.Ob(m.a),l.Ob(p.a),l.Ob(h.a))},N.\u0275cmp=l.Ib({type:N,selectors:[["app-game"]],hostBindings:function(t,n){1&t&&l.bc("resize",function(t){return n.onResize(t)},!1,l.vc)},decls:14,vars:13,consts:[[1,"board-background"],[1,"buttons"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-stroked-button","","color","primary",3,"click"],[1,"board",3,"ngStyle"],[1,"cards"],[3,"card","onSelect",4,"ngFor","ngForOf"],[3,"card","onSelect"]],template:function(t,n){1&t&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"button",2),l.bc("click",function(){return n.swapPlaySound()}),l.gc(3,"translate"),l.Ub(4,"mat-icon"),l.Gc(5),l.Tb(),l.Tb(),l.Ub(6,"button",3),l.bc("click",function(){return n.newGame()}),l.Ub(7,"mat-icon"),l.Gc(8,"refresh"),l.Tb(),l.Gc(9),l.gc(10,"translate"),l.Tb(),l.Tb(),l.Ub(11,"div",4),l.Ub(12,"div",5),l.Ec(13,P,1,1,"app-memory-card",6),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Bc("background-image",n.backgroundImgSrc),l.Db(2),l.mc("matTooltip",l.ic(3,7,"TRANSLATION",n.soundIcon.tooltip)),l.Db(3),l.Hc(n.soundIcon.icon),l.Db(4),l.Ic(" ",l.ic(10,10,"TRANSLATION",n.TRANSLATION.btn.newGame)," "),l.Db(2),l.lc("ngStyle",n.boardStyle),l.Db(2),l.lc("ngForOf",n.cards))},directives:[v.a,y.a,w.a,a.l,a.j,I],pipes:[u.c],styles:['.control-panel[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;min-height:50px}.control-panel.card-count[_ngcontent-%COMP%]{margin-right:10px}.control-panel.btn-new-game[_ngcontent-%COMP%]{margin-left:10px}.board-background[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;gap:1rem;background-position:50%;background-repeat:no-repeat;background-size:cover}.board-background[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:hsla(0,0%,100%,.4)}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 1rem}.board[_ngcontent-%COMP%]{--card-width:100px;--card-margin:10px;--card-id-font-size:50px;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0 auto;opacity:1!important}@media screen and (max-width:767px){.board[_ngcontent-%COMP%]{--card-width:80px;--card-id-font-size:40px}}.cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem;justify-content:center}']}),N)}],A=((x=n(function t(){i(this,t)})).\u0275fac=function(t){return new(t||x)},x.\u0275mod=l.Mb({type:x}),x.\u0275inj=l.Lb({imports:[[a.c,c.c.forChild(M),s.c,d.a,u.b,f]]}),x)}}])}();